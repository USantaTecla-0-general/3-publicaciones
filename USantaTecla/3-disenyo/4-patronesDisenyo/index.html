<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8">
<meta name="author" content="Universo Santa Tecla">
<title>Patrones de Diseño</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book">
<div id="header">
<h1>Patrones de Diseño</h1>
<div class="details">
<span id="author" class="author">Universo Santa Tecla</span><br>
<span id="email" class="email"><a href="mailto:USantaTecla@gmail.com">USantaTecla@gmail.com</a></span><br>
<span id="revnumber">version 0.0.1</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Índice</div>
<ul class="sectlevel1">
<li><a href="#por-qué"><strong>¿Por qué?</strong></a></li>
<li><a href="#cuándo-dónde-quién"><strong>¿Cuándo? ¿Dónde? ¿Quién?</strong></a></li>
<li><a href="#qué"><strong>¿Qué?</strong></a></li>
<li><a href="#para-qué"><strong>¿Para qué?</strong></a></li>
<li><a href="#cómo"><strong>¿Cómo?</strong></a></li>
<li><a href="#elementos">Elementos</a>
<ul class="sectlevel2">
<li><a href="#elementos-esenciales">Elementos Esenciales</a></li>
<li><a href="#nombre">Nombre</a></li>
<li><a href="#problema">Problema</a></li>
<li><a href="#solución">Solución</a></li>
<li><a href="#consecuencias">Consecuencias</a></li>
</ul>
</li>
<li><a href="#clasificación">Clasificación</a></li>
<li><a href="#patrones-creacionales">Patrones Creacionales</a>
<ul class="sectlevel2">
<li><a href="#abstract-factory">Abstract Factory</a></li>
<li><a href="#builder">Builder</a></li>
<li><a href="#factory-method">Factory Method</a></li>
<li><a href="#prototype">Prototype</a></li>
<li><a href="#singleton">Singleton</a></li>
</ul>
</li>
<li><a href="#patrones-estructurales">Patrones Estructurales</a>
<ul class="sectlevel2">
<li><a href="#adapter">Adapter</a></li>
<li><a href="#bridge">Bridge</a></li>
<li><a href="#composite">Composite</a></li>
<li><a href="#decorator">Decorator</a></li>
<li><a href="#facade">Facade</a></li>
<li><a href="#flyweight">Flyweight</a></li>
<li><a href="#proxy">Proxy</a></li>
</ul>
</li>
<li><a href="#patrones-de-comportamiento">Patrones de Comportamiento</a>
<ul class="sectlevel2">
<li><a href="#chain-of-responsibility">Chain of Responsibility</a></li>
<li><a href="#command">Command</a></li>
<li><a href="#interpreter">Interpreter</a></li>
<li><a href="#iterator">Iterator</a></li>
<li><a href="#mediator">Mediator</a></li>
<li><a href="#memento">Memento</a></li>
<li><a href="#observer">Observer</a></li>
<li><a href="#state">State</a></li>
<li><a href="#strategy">Strategy</a></li>
<li><a href="#template-method">Template Method</a></li>
<li><a href="#visitor">Visitor</a></li>
</ul>
</li>
<li><a href="#principios-de-diseño">Principios de Diseño</a>
<ul class="sectlevel2">
<li><a href="#diseño-modular">Diseño Modular</a></li>
<li><a href="#diseño-orientado-a-objetos">Diseño Orientado a Objetos</a></li>
</ul>
</li>
<li><a href="#relaciones-entre-patrones-de-diseño">Relaciones entre Patrones de Diseño</a></li>
<li><a href="#aplicación-de-patrones-de-diseño">Aplicación de Patrones de Diseño</a></li>
<li><a href="#sintesis"><strong>Sintesis</strong></a></li>
<li><a href="#bibliografía"><strong>Bibliografía</strong></a></li>
<li><a href="#ponente">Ponente</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="images/sintesis.png" alt="sintesis"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="por-qué"><strong>¿Por qué?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Inefectividad, ineficacia y/o ineficiencia, del Proyecto Software</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>porque</strong> tiene <strong class="red">malas variables en su economía</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="red">ámbito incumplido</strong> y/o</p>
</li>
<li>
<p><strong class="red">tiempo incumplido</strong> y/o</p>
</li>
<li>
<p><strong class="red">coste incumplido</strong>;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="red">mala calidad del software</strong>, <span class="red">fiabilidad, usabilidad, interoperatividad, seguirdad, &#8230;&#8203; (<em>-ilities</em>)</span></p>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="red">mala mantenibilidad</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong class="red">viscoso</strong>, porque <span class="red">no se puede entender con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="red">rígido</strong>, porque <span class="red">no se puede cambiar con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="red">frágil</strong>, porque <span class="red">no se puede probar con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="red">inmovil</strong>, porque <span class="red">no se puede reutilizar con facilidad</span> y/o</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="red">complejidad arbitraria</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/davidProyectoImplantacionDiseñoMal.png" alt="davidProyectoImplantacionDiseñoMal"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/arbolNoMantenible.jpeg" alt="arbolNoMantenible"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-left valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><span class="blue">el diseño es <strong>difícil</strong> y <strong>reutilizable es incluso más difícil</strong></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><span class="blue">el diseño debería ser <strong>específico</strong> para el problema <strong>actual</strong> pero también en <strong>general</strong> para direccionar <strong>futuros</strong> problemas y requisitos y, así, evitar rediseños o al menos minimizarlos</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Encontrar objetos apropiados</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Cohesión</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Crear un objeto <em>especificando su clase explícitamente</em></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Relacionar Estructuras del Tiempo de Compilación y de Ejecución</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Dependencias de las representaciones o implementaciones</em> de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="blue">Tamaño</span></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Dependencias de plataformas</em> hardware o software</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Abstracción</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Dependencias de operaciones</em> concretas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Implementación</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Dependencias algorítmicas</em></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Fuerte acoplamiento</em></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Acoplamiento</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir <em>funcionalidad mediante herencia</em></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Principio Abierto/Cerrardo</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red"><em>Incapacidad para modificar las clases</em> convenientemente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Principio Abierto/Cerrardo</span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Los <strong class="blue">expertos</strong>, en diseño orientados a objetos o cualquier ámbito/disciplina/&#8230;&#8203;, comparten/sugieren/&#8230;&#8203; <span class="blue"><strong>Conocimiento</strong>/<em>Know How</em></span>:</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Obtener un diseño reusable y flexible correctamente <strong class="red">a la primera es difícil, sino no imposible</strong></p>
</li>
<li>
<p><strong class="red">No resolver cada problema desde cero</strong></p>
</li>
<li>
<p>Intentar <strong class="green">reusar una buena solución</strong> varias veces modificándola cada vez</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="cuándo-dónde-quién"><strong>¿Cuándo? ¿Dónde? ¿Quién?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>En el área de la arquitectura de edificios y ciudades:</p>
<div class="ulist">
<ul>
<li>
<p>1977. <strong class="blue">Christopher Alexander</strong> publica <em>A Pattern Language</em> propone un primer catálogo de patrones</p>
</li>
<li>
<p>1979. <strong class="blue">Christopher Alexander</strong> publica <em>The Timeless Way of Building</em> propone el concepto de patrón</p>
</li>
</ul>
</div>
</li>
<li>
<p>En el área del desarrollo de software orientado a objetos (comunidad de <em>Smalltalk</em>)</p>
<div class="ulist">
<ul>
<li>
<p>1987. <strong class="blue">Ward Cunningham</strong> y <strong class="blue">Kent Beck</strong> publican <a href="https://www.youtube.com/watch?v=<em>V0kVOLOCrY">_Using Pattern Languages for OO Programs</em></a>_ en OOPSLA</p>
</li>
<li>
<p>1990. <strong class="blue">Erich Gamma</strong>, <strong class="blue">Richard Helm</strong>, <strong class="blue">Ralph Johnson</strong> y <strong class="blue">John Vlissides</strong> (<em>Gang of Four -GoF-</em>, La Banda de los Cuatro) publican <em>Design Patterns</em> con un catálogo de 23 patrones de diseño</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/problemasRecurrentes2.svg" alt="problemasRecurrentes2" width="693" height="633">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="qué"><strong>¿Qué?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-none grid=none grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 25%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<span class="blue">Cada patron describe un problema el cual ocurre una y otra vez en nuestro entorno y describe el núcleo de una solución para el problema, de tal forma que se puede usar esta solución un millón de veces sin hacerlo de la misma forma dos veces</span>
</blockquote>
<div class="attribution">
&#8212; Alexander<br>
<cite>A Pattern Language</cite>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Nuestras soluciones se expresan en términos de <span class="blue">objetos e interfaces en vez de paredes y puertas</span> pero el núcleo de ambas clases de patrones es <span class="blue">una solución a un problema en un contexto</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<strong class="blue">Son la descripción de la comunicación de objetos y clases que son particularizados para resolver un problema de diseño general en un contexto particular</strong>
</blockquote>
<div class="attribution">
&#8212; Gamma et al<br>
<cite>Design Patterns</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="para-qué"><strong>¿Para qué?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Efectividad, eficacia y eficiencia, del Proyecto Software</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>porque</strong> tiene <strong class="green">buenas variables en su economía</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">ámbito cumplido</strong> y</p>
</li>
<li>
<p><strong class="green">tiempo cumplido</strong> y</p>
</li>
<li>
<p><strong class="green">coste cumplido</strong>;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="green">buena calidad del software</strong>, <span class="green">fiabilidad, usabilidad, interoperatividad, seguirdad, &#8230;&#8203; (<em>-ilities</em>)</span></p>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="green">buena mantenibilidad</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">fluido</strong>, porque <span class="green">se puede entender con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="green">flexible</strong>, porque <span class="green">se puede cambiar con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="green">fuerte</strong>, porque <span class="green">se puede probar con facilidad</span> y/o</p>
</li>
<li>
<p><strong class="green">reusable</strong>, porque <span class="green">se puede reutilizar con facilidad</span> y/o</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>porque</strong> tiene <strong class="green">complejidad inherente</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/davidProyectoImplantacionDiseño.png" alt="davidProyectoImplantacionDiseño"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/arbolMantenible.jpeg" alt="arbolMantenible"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/visionGeneral.svg" alt="visionGeneral" width="1300" height="1177">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Registrar la experiencia en diseño de software orientado a objetos</strong> como patrones de diseño de forma que la gente <strong class="green">pueda reusarlo efectivamente</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Expresar técnicas probadas</strong> más accesibles a los desarrolladores de nuevos sistemas.</p>
</li>
<li>
<p><strong class="green">Ayudar a elegir entre las alternativas de diseño</strong> que hacen un sistema reutilizable y a evitar alternativas que comprometen la reutilización.</p>
</li>
<li>
<p>Conseguir un <strong class="green">diseño correcto más rápido</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Nombrar, explicar y evalúar sistemáticamente diseños importantes y recurrentes</strong> en un sistema orientado a objetos.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Mejorar la documentación y mantenimiento</strong> de los sistemas existentes mediante el suministro de una especificación explícita de las interacciones de clases y objetos y su intención subyacente.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="cómo"><strong>¿Cómo?</strong></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="elementos">Elementos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="elementos-esenciales">Elementos Esenciales</h3>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Para la descripción general del patrón se proponen <span class="blue">13 elementos</span> agrupados en <strong class="blue">4 elementos esenciales</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Nombre</strong>: <span class="blue">Nombre y Sinónimo</span></p>
</li>
<li>
<p><strong class="blue">Problema</strong>: <span class="blue">Motivación, Intención y Aplicabilidad</span></p>
</li>
<li>
<p><strong class="blue">Solución</strong>: <strong class="blue">Estructura, Participantes, Colaboraciones, Implementación, Códigos de Ejemplo, Usos Conocidos y Patrones Relacionados</strong></p>
</li>
<li>
<p><strong class="blue">Consecuencias</strong>: <strong class="blue">Consecuencias</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/partesPatron.svg" alt="partesPatron" width="562" height="301">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="nombre">Nombre</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/partesNombre.svg" alt="partesNombre" width="625" height="415">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 80%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Elemento</th>
<th class="tableblock halign-left valign-top">Descripción</th>
<th class="tableblock halign-left valign-top"><em>Ejemplo</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="blue">Nombre</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Una o dos palabras que transmiten la esencia del patrón (problema, solución y consecuencias) permite:</p>
<div class="ulist">
<ul>
<li>
<p>Aumentar inmediatamente nuestro <strong class="blue">vocabulario de diseño</strong>, para comunicarnos con otros colegas o nosotros mismos y en la propia documentación.</p>
</li>
<li>
<p>Diseñar a un <strong class="blue">nivel más alto de abstracción</strong>.</p>
</li>
<li>
<p><strong class="blue">Pensar en diseños</strong> y comunicarlos con sus compromisos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><strong>Singleton</strong></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Sinónimos</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Otros nombres conocidos para el patrón, si los hubiere.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="problema">Problema</h3>
<div class="imageblock">
<div class="content">
<img src="images/partesProblema.svg" alt="partesProblema" width="1016" height="529">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Elemento</th>
<th class="tableblock halign-left valign-top">Descripción</th>
<th class="tableblock halign-left valign-top"><em>Ejemplo: Singleton</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="blue">Motivación</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contexto para <strong class="blue">entender el problema</strong> de diseño abstracto (representar algoritmos como objetos, estructura inflexible de clases u objetos, &#8230;&#8203;) y cómo resolver el problema</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Para algunas clases es importante compartir una única instancia en el sistema. Ejemplos:</em></p>
<div class="ulist">
<ul>
<li>
<p><em>aunque haya muchas impresoras en un sistema, debería haber una única cola de impresión</em></p>
</li>
<li>
<p><em>debería haber un solo sistema de ficheros y un solo gestor de ventanas</em></p>
</li>
<li>
<p><em>un filtro digital tendría un único convertidor analógico/digital</em></p>
</li>
<li>
<p><em>un sistema de cuentas bancarias será dedicado para servir a una compañía</em></p>
</li>
<li>
<p>Código global, sin objeto!!!</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/miw-upm/IWVG/tree/master/doo/src/main/java/designPatterns/patterns/singleton/v1/basic/notObject">Código</a>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="blue">Intención</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describe qué <strong class="blue">razón de ser</strong> y <strong class="blue">qué hace</strong> el patrón de diseño sobre el problema que aborda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Asegurar que una clase tenga una única instancia y proveer un punto de acceso global para ésta</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="blue">Aplicabilidad</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lista de <strong class="blue">condiciones de ejemplos de diseños pobres</strong> que se deben cumplir para que tenga sentido aplicar el patrón</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Debe ser exactamente una única instancia de la clase y debe ser accesible a los clientes desde un punto de acceso bien conocido.</em></p>
</li>
<li>
<p><em>Cuando la única instancia debería ser extensible por sub-clasificación y los clientes deberían ser capaces de usar la instancia extendida sin modificar su código</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="solución">Solución</h3>
<div class="imageblock">
<div class="content">
<img src="images/partesSolucion.svg" alt="partesSolucion" width="1267" height="467">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Elemento</th>
<th class="tableblock halign-left valign-top">Descripción</th>
<th class="tableblock halign-left valign-top"><em>Ejemplo: Singleton</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Diagrama de clases</strong> del patrón</p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/singleton.svg" alt="singleton" width="207" height="159">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Reparto de responsabilidades</strong> entre las clases del patrón</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Singleton define una operación Instance que permite a los clientes acceder a su única instancia.</em></p>
<div class="ulist">
<ul>
<li>
<p><em>Instance es una operación de clase (miembro estático)</em></p>
</li>
<li>
<p><em>Singleton puede ser responsable de crear su propia instancia única</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Colaboraciones</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Diagrama de secuencia</strong> de los objetos de las clases del patrón</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>Los clientes acceden a la instancia única a través de la operación Instance de Singleton</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Pistas o técnicas</strong>, quizás específicas de un <strong class="blue">lenguaje estático</strong> (C++, Java, &#8230;&#8203;) o <strong class="blue">dinámico</strong> (Smalltalk, Javascript, &#8230;&#8203;) a tener en cuenta al aplicar el patrón</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<em>Garantizar una única instancia</em>. <a href="https://github.com/miw-upm/IWVG/tree/master/doo/src/main/java/designPatterns/patterns/singleton/v2/basic">Código</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<em>Garantizar varias instancias</em>. <a href="https://github.com/miw-upm/IWVG/tree/master/doo/src/main/java/designPatterns/patterns/singleton/v3/multipleInstances">Código</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<em>Garantizar subclasificación</em>. <a href="https://github.com/miw-upm/IWVG/tree/master/doo/src/main/java/designPatterns/patterns/singleton/v7/subclassifing/java">Código</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Código de ejemplo</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ejemplo de código que ilustra una implementación del patrón en diversos lenguajes.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">Printer</span> {

    <span class="directive">private</span> <span class="directive">static</span> Printer instance = <span class="predefined-constant">null</span>;

    <span class="directive">public</span> <span class="directive">static</span> getInstance() {
        <span class="keyword">if</span> (Printer.instance == <span class="predefined-constant">null</span>){
            Printer.instance = <span class="keyword">new</span> Singleton();
        }
        <span class="keyword">return</span> Printer.instance;
    }

    <span class="directive">private</span> attribute;

    <span class="directive">private</span> Printer(){
        <span class="comment">// init</span>
    }

    <span class="directive">public</span> method(){
        <span class="comment">// body</span>
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Usos conocidos</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dos o más ejemplos de diferentes aplicaciones en sistemas reales</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>ChangeSet int Smalltalk-80</em></p>
</li>
<li>
<p><em>Session and WidgetKit en InterViews</em></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Patrones relacionados</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Patrones de diseño estrechamente relacionados por diferencias o posible colaboración</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Abstract Factory</em></p>
</li>
<li>
<p><em>Builder</em></p>
</li>
<li>
<p><em>Prototype</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="consecuencias">Consecuencias</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/partesConsecuencia.svg" alt="partesConsecuencia" width="694" height="301">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Elemento</th>
<th class="tableblock halign-left valign-top">Descripción</th>
<th class="tableblock halign-left valign-top"><em>Ejemplo: Singleton</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="blue">Consecuencia</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Ventajas</strong> y <strong class="blue">desventajas</strong>, <strong class="blue">compromisos</strong> de espacio/tiempo, cuestiones del lenguaje (estático) y de ejecución (dinámico).</p>
<div class="ulist">
<ul>
<li>
<p>Impacto en la reutilización, flexibilidad, extensibilidad o portabilidad de un sistema, indicando <strong class="blue">qué parte permite variar de forma independiente</strong></p>
</li>
<li>
<p>Evaluación de alternativas de diseño con la comprensión de los <strong class="blue">costes</strong> y <strong class="blue">beneficios</strong> de aplicar el patrón.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Acceso controlado a una única instancia. Como la clase encapsula su única instancia, puede tener un control estricto sobre cómo y cuándo los clientes acceden a ésta.</em></p>
</li>
<li>
<p><em>Reducir el espacio de nombres. Es una mejora sobre las variables globales ya que  se evita contaminar el espacio de nombres con las variables globales que almacenen las instancias únicas.</em></p>
</li>
<li>
<p><em>Permite el refinamiento de operaciones y su representación. Se pueden tener subclases y es fácil configurar una aplicación con una instancia de esta clase extendida que se necesite en tiempo de ejecución.</em></p>
</li>
<li>
<p><em>Permite un número variable de instancias. Facilita cambiar de opinión y permitir más de una instancia de la clase. Además, se puede utilizar el mismo enfoque para controlar el número de instancias que utiliza la aplicación.</em></p>
</li>
<li>
<p><em>Más flexible que operaciones de clase (static). Esta técnica hace que sea difícil cambiar un diseño para permitir más de una instancia de una clase. Y  las subclases no pueden redefinirlas polimórficamente</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clasificación">Clasificación</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/relacionPatron.svg" alt="relacionPatron" width="1992" height="643">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="patrones-creacionales">Patrones Creacionales</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/PatronCreacional.svg" alt="PatronCreacional" width="872" height="311">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/abstractFactory.png" alt="abstractFactory"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/builder.png" alt="builder"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/factoryMethod.png" alt="factoryMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/prototype.jpg" alt="prototype"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/singleton.jpg" alt="singleton"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Los clientes <strong class="blue">no tienen conocimiento (abstracción) sobre las clases concretas</strong> que usan mediante sus clases abstractas porque <strong class="blue">delegan a otras clases (creador)</strong> cómo se crean y se asocian las instancias de las clases concretas que usa el sistema.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/patronCreacionalAbstracto.svg" alt="patronCreacionalAbstracto" width="586" height="239">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Menor tamaño</strong>, abstrayéndose del proceso de creación de instancias</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Alta cohesión</strong>, enfocándose en la gestión de los productos.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Bajo acoplamiento</strong>, conociendo únicamente las interfaces de los objetos a través de sus clases abstractas, sin los constructores específicos</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Menor complejidad</strong>, con menor tamaño, alta cohesión y bajo acoplamiento anteriores.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Principio Abierto/Cerrado</strong>, con la flexibilidad, extensibilidad, &#8230;&#8203; para configuraciones de estruturas y funcionalidades futuras. La configuración que puede ser estática (tiempo de compilación) o dinámica (tiempo de ejecución), añadiendo un objeto o una clase.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="abstract-factory">Abstract Factory</h3>
<div class="sect3">
<h4 id="problema-2">Problema</h4>
<div class="sect4">
<h5 id="motivación">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionAbstractFactory.svg" alt="motivacionAbstractFactory" width="1213" height="716">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
 <a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/AbstractFactory/abstractFactoryWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>Un <strong class="red">cirujano opera con el mismo algoritmo, pero dependiendo de la localización</strong>, quirófano o selva o …, lo realizará <strong class="red">con varios instrumentos pertenecientes a distintas familias equivalentes</strong>, cortante como bisturí o navaja o …, secante como compresa o trapo o …</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas familias equivalentes</strong>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Surgeon</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la obtención del instrumental dependiendo de la localización (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Surgeon</em> (ej. 4) depende del <strong class="red">número de localizaciones y del número de familias de productos</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Se calcula como <strong class="red">el producto del número de localizaciones</strong> (ej. <em>selva y quirófano</em>, 2) <strong class="red">por el número de familias de productos</strong> (ej. <em>CuttingTool y DryingTool</em>, 2), con la simplificación de que no se comparten instrumentos entre distintas localizaciones.</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongAbstractFactory.png" alt="AcoplamientoWrongAbstractFactory"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongAbstractFactory2.png" alt="AcoplamientoWrongAbstractFactory2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Surgeon</em> (ej. 5) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase (ej. <em>operate</em>, 1) y el producto del número de localizaciones por el número de familias de productos</strong> (ej. <em>selva y quirófano</em>, 2, por <em>CuttingTool y DryingTool</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongAbstractFactory.png" alt="GranularidadWrongAbstractFactory"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongAbstractFactory2.png" alt="GranularidadWrongAbstractFactory2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 80%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionAbstractFactory.svg" alt="intencionAbstractFactory" width="1256" height="855">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
 <a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/AbstractFactory/abstractFactoryFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Si la <strong class="green">responsabilidad de cirujano incluye únicamente la solicitud de instrumental abstracto</strong> (algo cortante, algo secante, …) y otros, <strong class="green">instrumentalistas, se responsabilizan por separado de cómo se obtienen los instrumentos dependiendo de la localización</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="paragraph">
<p><strong class="green">Cohesión</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Surgeon</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la operación, colaborando con el servicio del instrumentalista y los instrumentos suministrados.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="green">Acoplamiento</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Surgeon</em> (ej. 3) depende del número de familias de productos.</p>
<div class="ulist">
<ul>
<li>
<p>Se calcula como <strong class="green">la suma del instrumentalista</strong> (ej. <em>Instrumentalist</em>, 1) más el número de familias de productos (ej. <em>CuttingTool y DryingTool</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineAbstractFactory.png" alt="AcoplamientoFineAbstractFactory"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFine2AbstractFactory.png" alt="AcoplamientoFine2AbstractFactory"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="green">Granularidad</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase Surgeon (ej. 1) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. operate, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineAbstractFactory.png" alt="GranularidadFineAbstractFactory"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineAbstractFactory2.png" alt="GranularidadFineAbstractFactory2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">La intención de este patrón es proporcionar una interfaz para crear familias de objetos relacionados o dependientes entre sí sin tener que especificar su clase concreta</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un <strong class="blue">sistema debe ser independiente de cómo se crean, componen y representan sus productos.</strong></p>
</li>
<li>
<p>Un sistema debe ser <strong class="blue">configurado con una familia de productos de entre varias.</strong> Una familia de objetos producto relacionados está diseñada para ser usada conjuntamente, y es necesario hacer cumplir esta restricción.</p>
</li>
<li>
<p>Se quiere <strong class="blue">proporcionar una biblioteca de clases de productos,</strong> y sólo se desea revelar sus interfaces, no sus implementaciones.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-2">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralAbstractFactory.svg" alt="estructuraGeneralAbstractFactory" width="1162" height="752">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>AbstractFactory</em></strong>: declara una clase abstracta o interfaz que define los métodos de creación de los distintos tipos de <em>AbstractProduct</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Tiene una operación que devuelve un nuevo objeto para cada clase abstracta de producto. Los tipos de producto está codificados en las signaturas de las operaciones. Añadir un nuevo tipo de producto requiere cambiar la interfaz de <em>AbstractFactory</em> y todas las clases que dependen de ella.</p>
</li>
<li>
<p>Los clientes llaman a estas operaciones para obtener instancias de productos, pero no son conscientes de las clases concretas que están usando. En otras palabras, los clientes no tienen que atarse a una clase concreta, sino sólo a una interfaz definida por una clase abstracta.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>AbstractProduct</em></strong>: declara una clase abstracta o interfaz para un tipo de objeto producto.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteFactory</em></strong>: clase derivada de AbstractFactory que implementa los métodos para crear objetos producto concretos.</p>
<div class="ulist">
<ul>
<li>
<p>El modo más común de hacer esto es definiendo un método de fabricación para cada producto.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteProduct</em></strong>: clase derivada del AbstractProduct que representa un producto concreto para un estándar concreto de interfaz de usuario.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación">Implementación</h4>
<div class="sect4">
<h5 id="variaciones">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Un diseño más flexible, aunque menos seguro, es añadir un <strong class="blue">parámetro a las operaciones que crean los objetos</strong>. Este parámetro especifica el tipo de objeto a ser creado. Podría tratarse de un identificador de clase, un entero, una cadena de texto o cualquier otra cosa que identifique el tipo de producto. De hecho, con este enfoque, <em>AbstractFactory</em> solo necesita una única operación create con un parámetro que indique el tipo de objeto a crear.</p>
<div class="ulist">
<ul>
<li>
<p>Podemos aplicarla en Java, C++, etc. sólo cuando todos los objetos tienen la misma clase abstracta o cuando los objetos producto pueden ser convertidos con seguridad al tipo concreto por el objeto que lo solicita. Pero incluso cuando no es necesaria la conversión de tipos, todavía subyace un problema inherente: todos los productos se devuelven al cliente con la misma interfaz abstracta que el tipo de retorno. El cliente no podrá por tanto distinguir o hacer suposiciones seguras acerca de la clase de un producto. En caso de que los <strong class="blue">clientes necesiten realizar operaciones específicas de las subclases, éstas no estarán accesibles a través de la interfaz abstracta</strong>. Aunque el cliente podría hacer una conversión al tipo de una clase hija, eso no siempre resulta viable o seguro, porque la conversión de tipo puede fallar. Éste es el inconveniente típico de una interfaz altamente flexible y extensible.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-2">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El patrón <em>Abstract Factory</em> ayuda a <strong class="green">controlar las clases de objetos que crea</strong> una aplicación. Como una <em>AbstractFactory</em> encapsula la responsabilidad y el proceso de creación de objetos producto, aísla a los clientes de las clases de implementación. Los clientes manipulan las instancias a través de sus interfaces abstractas. Los nombres de las clases producto quedan aisladas en la implementación de la <em>ConcreteFactory</em>; no aparecen en el código cliente.</p>
</li>
<li>
<p>La clase <em>ConcreteFactory</em> sólo aparece una vez en una aplicación, cuando se crea. Esto facilita cambiar la <em>ConcreteFactory</em> que usa una aplicación. Como una <em>AbstractFactory</em> crea una familia completa de productos, <strong class="green">toda la familia de productos cambia de una vez.</strong></p>
</li>
<li>
<p>Cuando se diseñan objetos producto en una familia para trabajar juntos, es importante que una aplicación use <strong class="green">objetos de una sola familia a la vez</strong>. El patrón <em>Abstract Factory</em> facilita que se cumpla esta restricción.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Ampliar la <em>AbstractFactory</em> para producir <strong class="red">nuevos tipos de productos no es fácil</strong>. Esto se debe a que la interfaz <em>AbstractFactory</em> fija el conjunto de productos que se pueden crear.</p>
<div class="ulist">
<ul>
<li>
<p>Permitir nuevos tipos de productos requiere ampliar la interfaz, lo que a su vez implica cambiar la clase <em>AbstractFactory</em> y todas sus subclases.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Granularidad</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Crear un objeto especificando su clase explícitamente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la implementación de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de plataformas hardware o software</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de las representaciones o implementaciones de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="builder">Builder</h3>
<div class="sect3">
<h4 id="problema-3">Problema</h4>
<div class="sect4">
<h5 id="motivación-2">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 55%;">
<col style="width: 45%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionBuilder.svg" alt="motivacionBuilder" width="962" height="673">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Builder/builderWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="red">persona se responsabiliza de una dieta variada de menús</strong>, básico o gourmet o …, <strong class="red">todos ellos compuestos por diferentes platos</strong>: entrante, ensalada u ostras o …; plato principal, pollo o solomillo o …; postre, natillas o soufflé o …</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos platos</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la preparación de diferentes platos dependiendo del tipo de menú de su dieta (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 6) depende del <strong class="red">número de tipos de menú y del número de platos del menú</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">el producto del número de tipos de menú</strong> (ej. <em>básico y gourmet</em>, 2) <strong class="red">por el número de platos del menú</strong> (ej. <em>entrante, plato principal y postre</em>, 3), con la simplificación de que no se comparten platos en diferentes menús.</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongBuilder.png" alt="AcoplamientoWrongBuilder"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongBuilder2.png" alt="AcoplamientoWrongBuilder2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase Person (ej. 7) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. eat, 1) <strong class="red">y el producto del número de tipos de menús por el número de platos del menú</strong> (ej. básico y gourmet, 2, por entrante, plato principal y postre, 3).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongBuilder.png" alt="GranularidadWrongBuilder"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongBuilder2.png" alt="GranularidadWrongBuilder2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-2">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de la persona incluye únicamente la solicitud del menú</strong> (básico, gourmet, …) y otros, <strong class="green">cocineros, se responsabilizan por separado de cómo se preparan los platos del menú dependiendo del tipo de menú</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionBuilder.svg" alt="intencionBuilder" width="908" height="1004">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Builder/builderFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en comer, colaborando con el servicio del cocinero que suministra los platos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 2) depende del <strong class="green">tipo del cocinero</strong> (ej. <em>Chef</em>, 1) <strong class="green">y del tipo del plato del menú</strong> (ej. <em>Dish</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineBuilder.png" alt="AcoplamientoFineBuilder"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineBuilder2.png" alt="AcoplamientoFineBuilder2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 1) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>eat</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineBuilder.png" alt="GranularidadFineBuilder"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineBuilder2.png" alt="GranularidadFineBuilder2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es separar la construcción de un objeto complejo de su representación, de tal forma que el mismo proceso de construcción puede crear diferentes representaciones</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El algoritmo para <strong class="blue">la creación de un objeto complejo debe ser independiente de las partes que componen el objeto y la forma en que están montadas</strong>.</p>
</li>
<li>
<p>El proceso de construcción debe <strong class="blue">permitir diferentes representaciones para el objeto que se construye</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-3">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralBuilder.svg" alt="estructuraGeneralBuilder" width="801" height="721">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que solicita la creación de un objeto utilizando la interfaz proporcionada por el <em>AbstractBuilder</em>.</p>
</li>
<li>
<p><strong class="blue"><em>AbstractBuilder</em></strong>: declara una clase abstracta o interfaz que define una operación para cada componente que un Director puede pedirle crear.</p>
<div class="ulist">
<ul>
<li>
<p>Las operaciones no hacen nada por defecto.</p>
</li>
<li>
<p>Los constructores construyen sus productos paso a paso. Por tanto, la interfaz de la clase <em>AbstractBuilder</em> debe ser lo suficientemente general como para permitir construir productos por parte de todos los tipos de <em>ConcreteBuilder</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteBuilder</em></strong>: clase derivada de <em>AbstractBuilder</em> que redefine las operaciones de construcción de las piezas en las que está interesado para la creación del producto final. Se encarga también de ensamblar dichas piezas para componer el <em>ConcreteProduct</em> y devolver una instancia de este.</p>
<div class="ulist">
<ul>
<li>
<p>A veces, podríamos necesitar acceder a las partes del producto que ya fueron construidas. Con las estructuras arbóreas que se crean de abajo a arriba, el <em>ConcreteBuilder</em> devolvería nodos hijos al <em>Director</em>, el cual los devolvería al constructor para construir los nodos padre.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>AbstractProduct</em></strong>: declara una clase abstracta o interfaz para un tipo de objeto producto.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteProduct</em></strong>: clase derivada del AbstractProduct que representa un producto concreto.</p>
<div class="ulist">
<ul>
<li>
<p>En general, los <em>ConcreteProduct</em> creados por los <em>ConcreteBuilder</em> tienen representaciones tan diferentes que suele ser de poca utilidad definir una clase padre común <em>AbstractProduct</em> para los diferentes productos.</p>
</li>
<li>
<p>Normalmente, como el cliente suele configurar al <em>Director</em> con el <em>ConcreteBuilder</em> adecuado, sabe qué subclase concreta de <em>Builder</em> se está usando y puede manejar sus productos en consecuencia.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-2">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-2">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>En general, los <em>ConcreteProduct</em> creados por los <em>ConcreteBuilder</em> tienen representaciones tan diferentes que <strong class="blue">suele ser de poca utilidad definir una clase padre común <em>AbstractProduct</em></strong> para los diferentes productos.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-3">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se proporciona al <em>Director</em> una interfaz abstracta para la construcción del producto. La <strong class="green">interfaz permite al <em>ConcreteBuilder</em> ocultar la representación y la estructura interna del producto</strong>. También oculta cómo el producto se ensambla. Debido a que el producto se construye a través de una interfaz abstracta, todo lo que tiene que hacer para cambiar la representación interna del producto es definir un nuevo tipo de <em>ConcreteBuilder</em>.</p>
</li>
<li>
<p><strong class="green">Mejora la modularidad encapsulando la forma en que un objeto complejo es construido y representado</strong>. Cada <em>ConcreteBuilder contiene toda la funcionalidad necesaria para crear y ensamblar un tipo concreto de producto</em>. Los clientes no necesitan saber nada acerca de las clases que definen la estructura interna del producto; estas clases no aparecen en la interfaz del <em>Builder</em>.</p>
</li>
<li>
<p><strong class="green">Construye el producto paso a paso bajo el control del <em>Director</em></strong>. Sólo cuando el producto está terminado, el <em>Director</em> lo recupera desde el <em>ConcreteBuilder</em>. Por lo tanto, la interfaz del <em>ConcreteBuilder</em> refleja el proceso de construcción del producto, pudiendo coordinar y validar la creación de todos los componentes. Esto le da un mayor control sobre el proceso de construcción y, por lo tanto, de la estructura interna del producto resultante.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-2">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Granularidad</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias algorítmicas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la implementación de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="factory-method">Factory Method</h3>
<div class="sect3">
<h4 id="problema-4">Problema</h4>
<div class="sect4">
<h5 id="motivación-3">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">repartidor se responsabiliza del reparto de paquetes con el mismo algoritmo</strong>, recoger paquete, localización del destino, seleccionar vehículo disponible, conducir, entregar paquete, … <strong class="red">pero dependiendo de los tipos de vehículo disponibles</strong>, lo realizará <strong class="red">con un vehículo u otro</strong>, bicicleta o moto o …</em></p>
<div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos vehículos</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionFactoryMethod.svg" alt="motivacionFactoryMethod" width="939" height="873">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/FactoryMethod/factoryMethodWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>DeliveryMan</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la obtención del vehículo dependiendo de los tipos de vehículos disponibles (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>DeliveryMan</em> (ej. 3) depende del <strong class="red">número de vehículos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma del tipo de vehículo</strong> (ej. <em>Vehicle</em>, 1) <strong class="red">más el número de vehículos</strong> (ej. <em>Bicycle y Motorcycle</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongFactoryMethod.png" alt="AcoplamientoWrongFactoryMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongFactoryMethod2.png" alt="AcoplamientoWrongFactoryMethod2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>DeliveryMan</em> (ej. 3) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>deliver</em>, 1) <strong class="red">y el número de vehículos</strong> (ej. <em>Bicycle y Motorcycle</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFactoryMethod.png" alt="GranularidadWrongFactoryMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFactoryMethod2.png" alt="GranularidadWrongFactoryMethod2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-3">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionFactoryMethod.svg" alt="itencionFactoryMethod" width="1419" height="582">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/FactoryMethod/factoryMethodFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de repartidor incluye únicamente la solicitud de un vehículo abstracto</strong> y otros, <strong class="green">repartidores concretos, se responsabilizan por separado de cómo se obtiene el vehículo concreto dependiendo de los vehículos disponibles</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>DeliveryMan</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en el reparto, colaborando con el servicio del repartidor concreto y el vehículo suministrado.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>DeliveryMan</em> (ej. 1) depende del <strong class="green">tipo del vehículo</strong> (ej. <em>Vehicle</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFactoryMethod.png" alt="AcoplamientoFineFactoryMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFactoryMethod2.png" alt="AcoplamientoFineFactoryMethod2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>DeliveryMan</em> (ej. 2) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>deliver</em>, 1) <strong class="green">y el método para obtener el vehículo</strong> (ej. <em>getVehicle</em>).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFactoryMethod.png" alt="GranularidadFineFactoryMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFactoryMethod2.png" alt="GranularidadFineFactoryMethod2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es definir una interfaz para crear un objeto, pero delegar a las subclases qué clase concreta instanciar, permitiendo a una clase diferir la instanciación a las subclases</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Una clase <strong class="blue">no puede prever la clase de objetos que debe crear</strong>.</p>
</li>
<li>
<p>Una clase quiere <strong class="blue">que sean sus subclases quienes especifiquen los objetos que ésta crea</strong>.</p>
</li>
<li>
<p>Las clases delegan la responsabilidad en una de entre varias clases auxiliares y queremos <strong class="blue">localizar qué subclase de auxiliar concreta es en la que se delega</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-4">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralFactoryMethod.svg" alt="estructuraGeneralFactoryMethod" width="1561" height="562">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Creator</em></strong>: declara una clase abstracta o interfaz que define los métodos de fabricación (<em>Factory Method</em>) de los distintos tipos de <em>ConcreteProduct</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Podría tratarse también de una clase concreta que proporcione una implementación predeterminada del método de fabricación. </p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>AbstractProduct</em></strong>: declara una clase abstracta o interfaz para un tipo de objeto producto.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteCreator</em></strong>: clase derivada de Creator que implementa el método de fabricación (<em>Factory Method</em>) para crear su correspondiente <em>ConcreteProduct</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteProduct</em></strong>: clase derivada del <em>AbstractProduct</em> que representa un producto concreto para un estándar concreto de interfaz de usuario.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-3">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-3">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Las dos principales variantes del patrón <em>Factory Method</em> son:</p>
<div class="ulist">
<ul>
<li>
<p>La clase <em>Creator</em> es una clase abstracta y <strong class="blue">no proporciona una implementación para el método de fabricación</strong> que declara. Requiere que las subclases definan una implementación porque no hay ningún comportamiento predeterminado razonable.</p>
</li>
<li>
<p>La clase <em>Creator</em> es una clase abstracta (menos común) o concreta y <strong class="blue">proporciona una implementación predeterminada del método de fabricación</strong>. El <em>ConcreteCreator</em> usa el método de fabricación principalmente por flexibilidad. Lo hace siguiendo una regla que dice: “crear objetos en una operación aparte, para que las subclases puedan redefinir el modo en que son creados”. Esta regla asegura que los diseñadores de las subclases puedan cambiar la clase de objetos.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otra variante del patrón <strong class="blue">permite que los métodos de fabricación creen varios tipos de productos</strong>. El método de fabricación recibe un parámetro que identifica el tipo de objeto a crear. Todos los objetos creados por el método compartirán la interfaz <em>AbstractProduct</em>.</p>
</li>
<li>
<p>Un potencial problema de los métodos de fabricación es que pueden obligar a usar la herencia sólo para crear los objetos <em>ConcreteProduct</em> apropiados. Otra forma de hacer esto es proporcionar una <strong class="blue">subclase genérica de <em>Creator</em> parametrizada con la clase de <em>ConcreteProduct</em></strong>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-4">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Los clientes pueden encontrar útiles los métodos de fabricación, <strong class="green">especialmente en el caso de jerarquías de clases paralelas</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Las jerarquías de clases paralelas se producen cuando una clase delega alguna de sus responsabilidades a una clase separada (como las clases de estructuras de datos y la obtención de sus iteradores). Los métodos de fabricación definen la conexión entre las dos jerarquías de clases, localizando qué clases van juntas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un inconveniente potencial de los métodos de fabricación es que los clientes pueden tener que crea subclases de <em>Creator</em> sólo para fabricar un nuevo tipo de <em>ConcreteProduct</em>. <strong class="red">La herencia está bien siempre y cuando el cliente tenga que crear las subclases de todos modos, ya que, si no, se estaría introduciendo una nueva vía de futuros cambios.</strong></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-3">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la implementación de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Crear un objeto especificando su clase explícitamente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><strong class="green">Aplicaciones</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-0-domains/game-ticTacToe/tree/master/1.0.basic">ticTacToe - basic</a> - <a href="https://github.com/USantaTecla-tech-java/game-ticTacToe/tree/master/documentView/withoutFactoryMethod/src/main/java/usantatecla">withoutFactoryMethod</a> - <a href="https://github.com/USantaTecla-tech-java/game-ticTacToe/tree/master/documentView/withFactoryMethod/src/main/java/usantatecla">withFactoryMethod</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="prototype">Prototype</h3>
<div class="sect3">
<h4 id="problema-5">Problema</h4>
<div class="sect4">
<h5 id="motivación-4">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>En un parque, un <strong class="red">poeta se responsabiliza de vender poemas famosos que escribe en el momento</strong> en que se lo piden porque se los sabe de memoria. Pero si cambian los gustos, <strong class="red">tendrá que adaptarse y aprender nuevos poemas</strong></em>.</p>
</li>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos poemas</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionPrototype.svg" alt="motivacionPrototype" width="852" height="578">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Prototype/prototypeWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Poet</em> no es adecuada puesto que <strong class="red">asume varias responsabilidades</strong> dispares o que no le atañen, como la venta y la creación del poema concreto que ha sido solicitado (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Poet</em> (ej. 3) depende del <strong class="red">número de poemas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma del tipo de poema</strong> (ej. Poem, 1) <strong class="red">más el número de poemas</strong> (ej. <em>LaCasadaInfiel y PoemaXX</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongPrototype.png" alt="AcoplamientoWrongPrototype"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongPrototype2.png" alt="AcoplamientoWrongPrototype2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Poet</em> (ej. 3) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. sell, 1) <strong class="red">y el número de poemas</strong> (ej. <em>LaCasadaInfiel y PoemaXX</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongPrototype2.png" alt="GranularidadWrongPrototype2"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongPrototype.png" alt="GranularidadWrongPrototype"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-4">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de poeta incluye únicamente la solicitud de una copia del poema solicitado</strong> y otros, <strong class="green">poemas concretos, se responsabilizan por separado de cómo se obtiene la copia del poema</strong>, ninguna clase será compleja y se evitará la tendencia a crecer.</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionPrototype.svg" alt="itencionPrototype" width="817" height="650">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Prototype/prototypeFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Poet</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la venta sin saber nada de poesía; se ha convertido en algo que parece un poeta, pero es un mero suministrador de poesías.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Poet</em> (ej. 1) depende del <strong class="green">tipo del poema</strong> (ej. <em>Poem</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFinePrototype.png" alt="AcoplamientoFinePrototype"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFinePrototype2.png" alt="AcoplamientoFinePrototype2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Poet</em> (ej. 1) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>sell</em>, 1.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFinePrototype.png" alt="GranularidadFinePrototype"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFinePrototype2.png" alt="GranularidadFinePrototype2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 77.7778%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es especificar las clases de objetos a crear usando una instancia prototípica y crear nuevos objetos por copias de este prototipo.</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un <strong class="blue">sistema deba ser independiente de cómo se crean, se componen y se representan sus productos</strong> y se cumpla alguna de las siguientes condiciones:</p>
<div class="ulist">
<ul>
<li>
<p>Las clases a instanciar sean <strong class="blue">especificadas en tiempo de ejecución</strong> (por ejemplo, mediante carga dinámica).</p>
</li>
<li>
<p>Se quiera <strong class="blue">evitar construir una jerarquía de clases fábrica paralela a la jerarquía de clases de los productos</strong>.</p>
</li>
<li>
<p>Las instancias de una clase puedan <strong class="blue">tener uno de entre sólo unos pocos estados diferentes</strong>. En esta situación puede ser más adecuado tener un número equivalente de prototipos y clonarlos, en vez de crear manualmente instancias de la clase cada vez con el estado apropiado.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-5">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralPrototype.svg" alt="estructuraGeneralPrototype" width="1296" height="595">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Prototype</em></strong>: declara una clase abstracta o interfaz para clonarse.</p>
</li>
<li>
<p><strong class="blue"><em>ConcretePrototype</em></strong>: clase derivada de <em>Prototype</em> que implementa el método de clonación. El método de clonación devuelve una instancia de la misma clase con los mismos valores que la instancia <em>Prototype</em> original. La nueva instancia puede ser una copia profunda o superficial del original.</p>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que solicita la creación de un objeto utilizando la interfaz de clonación proporcionada por <em>Prototype</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-4">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-4">Variaciones</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Cuando el número de prototipos de un sistema no es fijo, y éstos pueden crearse y destruirse dinámicamente, se puede utilizar un <strong class="blue">registro de los prototipos disponibles</strong>. Los clientes no gestionarían ellos mismos los prototipos, sino que los guardarán y recuperarán del registro. Un cliente le pedirá al registro un prototipo antes de clonarlo.</p>
<div class="ulist">
<ul>
<li>
<p>Este gestor de prototipos es un almacén asociativo que devuelve el prototipo que concuerda con una determinada clave. Tiene operaciones para registrar un prototipo con una clave y para desregistrarlo. Los clientes pueden cambiar el registro o incluso navegar por él en tiempo de ejecución. Esto permite que los clientes <strong class="blue">extiendan el sistema y lleven un inventario del mismo sin necesidad de escribir código</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/variacionPrototype.svg" alt="variacionPrototype" width="819" height="808">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Prototype/prototypeFineWithRegistry">Código ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Poet</em> es adecuada puesto que asume una <strong class="blue">única responsabilidad</strong>, centrada en la venta, colaborando con el servicio de registro de poemas y la copia suministrada.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Poet</em> (ej. 1) depende del <strong class="blue">tipo del registro de poemas</strong> (ej. Poetry, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="blue">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcopñamientoFinePrototypePrototypeRegistry.png" alt="AcopñamientoFinePrototypePrototypeRegistry"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcopñamientoFinePrototypePrototypeRegistry2.png" alt="AcopñamientoFinePrototypePrototypeRegistry2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Poet</em> (ej. 1) depende de la <strong class="blue">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="blue">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. sell, 1.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="blue">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadPrototypePrototypeRegistry.png" alt="GranularidadPrototypePrototypeRegistry"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadPrototypePrototypeRegistry2.png" alt="GranularidadPrototypePrototypeRegistry2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>En cuanto al <strong class="blue">método de clonación</strong>, que es la parte más complicada de implementar del patrón <em>Prototype</em> (especialmente cuando las estructuras de objetos contienen referencias circulares), existen dos variantes, copia superficial y copia profunda:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Copia superficial</strong>: sólo duplica los elementos de alto nivel de una clase; esto proporciona una copia más rápida, pero no siempre resulta apropiada (los objetos de bajo nivel son compartidos entre las copias del objeto, por lo que cualquier cambio en ellos afectaría a todas las copias).</p>
</li>
<li>
<p><strong class="blue">Copia profunda</strong>: duplica tanto los atributos de alto nivel como los objetos de bajo nivel. Esto suele llevar más tiempo y puede ser costoso para objetos con una estructura compleja, pero asegura que los cambios en una copia se aíslan de las otras copias. Mediante la copia profunda se garantiza que el clon y el original son independientes, es decir, que los componentes del clon son clones de los componentes del prototipo.</p>
</li>
<li>
<p>La mayoría de los lenguajes proporcionan algún tipo de ayuda para clonar objetos (clone(), constructor de copia, …​). Pero estas facilidades no resuelven el problema de la copia superficial frente a la copia profunda. <strong class="blue">La clonación nos obliga a decidir qué será compartido</strong>, si es que lo será algo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mientras que a algunos clientes les sirve el clon tal cual, otros necesitarán <strong class="blue">inicializar parte de su estado interno, o todo, con valores de su elección</strong>. Generalmente no se pasan dichos valores en la operación clonar ya que esto impediría tener una interfaz de clonación uniforme, puesto que el número de valores a inicializar variará de unas clases de prototipos a otras (algunos prototipos pueden necesitar múltiples parámetros de inicialización; otros no necesitarán ninguno).</p>
<div class="ulist">
<ul>
<li>
<p>Puede darse el caso de que nuestras clases prototipo ya definan operaciones para establecer las partes principales de su estado. Si es así, los clientes pueden usar estas operaciones inmediatamente después de la clonación.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-5">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Oculta al cliente las clases producto concretas</strong>, reduciendo así el número de nombres que conocen los clientes. Además, permite que un cliente use las clases específicas de la aplicación sin cambios.</p>
</li>
<li>
<p><strong class="green">Permite incorporar a un sistema una nueva clase concreta de producto simplemente registrando una instancia prototípica con el cliente</strong>. Esto es algo más flexible que otros patrones de creación, ya que un cliente puede instalar y eliminar prototipos en tiempo de ejecución.</p>
</li>
<li>
<p><strong class="green">Los sistemas altamente dinámicos permiten definir comportamiento nuevo mediante la composición de objetos – por ejemplo, especificando valores para las variables de un objeto – y no definiendo nuevas clases</strong>. Podemos definir nuevos tipos de objetos creando instancias de clases existentes y registrando esas instancias como prototipos de los objetos cliente. Un cliente puede exhibir comportamiento nuevo delegando responsabilidad en su prototipo.</p>
<div class="ulist">
<ul>
<li>
<p>Este tipo de diseño permite que los usuarios definan nuevas “clases” sin programación. De hecho, clonar un prototipo es parecido a crear una instancia de una clase. El patrón prototipo puede reducir en gran medida el número de clases necesarias en un sistema.</p>
</li>
</ul>
</div>
</li>
<li>
<p>El patrón <em>Prototype</em> <strong class="green">permite reducir la herencia</strong>. Los patrones <em>Abstract Factory</em> y <em>Factory Method</em> suele producir una jerarquía de clases <em>AbstractFactory</em> y <em>Creator</em> que es paralela a la jerarquía de clases de productos. El patrón <em>Prototype</em> permite clonar un prototipo en vez de decirle a un método de fabricación que cree un nuevo objeto. Por tanto, no es en absoluto necesaria una jerarquía de clases <em>AbstractFactory</em> o <em>Creator</em>. Este beneficio es aplicable principalmente a lenguajes como Java, C++, etc. que no tratan a las clases como objetos en toda regla.</p>
</li>
<li>
<p>Algunos entornos de tiempo de ejecución permiten <strong class="green">cargar clases en una aplicación dinámicamente</strong>. El patrón <em>Prototype</em> es la clase para explotar dichas facilidades en un lenguaje como Java, C++, etc. Una aplicación que quiere crear instancias de una clase cargada dinámicamente no podrá hacer referencia al constructor de ésta estáticamente.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-4">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la implementación de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Crear un objeto especificando su clase explícitamente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><strong class="green">Aplicaciones</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-0-domains/game-ticTacToe/tree/master/1.0.basic">ticTacToe - basic</a> - <a href="https://github.com/USantaTecla-tech-java/game-ticTacToe/tree/master/documentView/machine/doubleDispatching/src/main/java/usantatecla">dobleDispatching</a> - <a href="https://github.com/USantaTecla-tech-java/game-ticTacToe/tree/master/documentView/machine/prototype/src/main/java/usantatecla">prototype</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="singleton">Singleton</h3>
<div class="sect3">
<h4 id="problema-6">Problema</h4>
<div class="sect4">
<h5 id="motivación-5">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionSingleton.svg" alt="motivacionSingleton" width="1197" height="947">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Singleton/singletonWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="red">escuela es una institución que consta de distintas entidades</strong>, dirección o departamentos o …, <strong class="red">las cuales están constituidas por profesores. Además, se dispone de un guardia de seguridad</strong> cuyos servicios son requeridos por éstos. <strong class="red">La ausencia de un mecanismo global para localizarle obliga a que se tenga que presentar al guardia a todas las clases organizativas para que éste llegue a ser conocido por los profesores</strong> y, en caso de necesitar ser sustituido, de avisarles de dicha sustitución para que puedan seguir utilizando sus servicios.</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">tiende a crecer a medida que surgen nuevas clases organizativas a las que será necesario presentar al guardia de seguridad aunque no requieran sus servicios</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de las clases organizativas (<em>School, ManagementBoard y Department</em>) no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como el conocimiento del guardia de seguridad para que éste pueda ser presentado a los profesores.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de las clases organizativas (<em>School, ManagementBoard y Department</em>) varía para cada tipo de clase organizativa. En el caso de la clase School, depende del <strong class="red">número de entidades</strong> y del <strong class="red">guardia de seguridad</strong>; y en el caso de las entidades <em>ManagementBoard</em> y <em>Department</em>, depende del tipo del profesor y del guardia de seguridad.</p>
</li>
<li>
<p>Al tratarse de una cantidad que varía para cada tipo de clase organizativa (ej. <em>School</em>, 3; <em>ManagementBoard</em>, 2; <em>Department</em>, 2), se considerará para el análisis la <strong class="red">media de los acoplamientos de las clases que representan a los distintos tipos de clases organizativas</strong> (ej. 2,3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongSingleton.png" alt="AcoplamientoWrongSingleton"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongSingleton2.png" alt="AcoplamientoWrongSingleton2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de las clases organizativas (<em>School, ManagementBoard y Department</em>) depende de la <strong class="red">cantidad de parámetros requeridos en su constructor y del parámetro correspondiente al guardia de seguridad</strong>. Dicha cantidad varía para cada tipo de participante (ej. <em>School</em>, 0 + 1 = 1; <em>ManagementBoard</em>, 0 + 1 = 1; <em>Department</em>, 0 + 1 = 1), por lo que se considerará para el análisis la <strong class="red">media de todos los parámetros de los constructores de las clases que representan a los distintos tipos de clase organizativa</strong> (ej. 1).</p>
</li>
<li>
<p>Se calcula como la <strong class="red">media de los parámetros de los constructores de las clases que representan a los distintos tipos de clase organizativa más el parámetro del guardia de seguridad</strong>; es decir, la suma de los parámetros de los constructores de todas las clases que representan un tipo de clase organizativa (ej. 1 + 1 + 1 = 3) dividido entre el número de tipos de clases organizativas (ej. 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongSingleton.png" alt="GranularidadWrongSingleton"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongSingleton2.png" alt="GranularidadWrongSingleton2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-5">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>El uso de un servicio de <strong class="green">guardia de seguridad global permite</strong> la flexibilidad de <strong class="green">localizar e incluso cambiar de guardia sin afectar a nadie</strong>.</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionSingleton.svg" alt="itencionSingleton" width="924" height="1024">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Singleton/singletonFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase School es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en el arranque del curso académico, ignorando la existencia del guardia de seguridad.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de las clases organizativas (<em>School, ManagementBoard y Department</em>) varía para cada tipo de clase organizativa. En el caso de la clase <em>School</em>, depende del <strong class="green">número de entidades</strong>; y en el caso de las entidades <em>ManagementBoard</em> y <em>Department</em>, depende del <strong class="green">tipo del profesor</strong>.</p>
</li>
<li>
<p>Al tratarse de una cantidad que varía para cada tipo de clase organizativa (ej. <em>School</em>, 2; <em>ManagementBoard</em>, 1; <em>Department</em>, 1), se considerará para el análisis la <strong class="green">media de los acoplamientos de las clases que representan a los distintos tipos de clases organizativas</strong> (ej. 1,3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineSingleton.png" alt="AcoplamientoFineSingleton"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineSingleton2.png" alt="AcoplamientoFineSingleton2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de las clases organizativas (<em>School, ManagementBoard y Department</em>) depende de la <strong class="green">cantidad de parámetros requeridos en su constructor</strong>. Dicha cantidad varía para cada tipo de participante (ej. <em>School</em>, 0; <em>ManagementBoard</em>, 0; <em>Department</em>, 0), por lo que se considerará para el análisis la <strong class="green">media de todos los parámetros de los constructores de las clases que representan a los distintos tipos de clase organizativa</strong> (ej. 0).</p>
</li>
<li>
<p>Se calcula como la <strong class="green">media de los parámetros de los constructores de las clases que representan a los distintos tipos de clase organizativa</strong>; es decir, la suma de los parámetros de los constructores de todas las clases que representan un tipo de clase organizativa (ej. 0 + 0 + 0 = 0) dividido entre el número de tipos de clases organizativas (ej. 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineSingleton.png" alt="GranularidadFineSingleton"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineSingleton2.png" alt="GranularidadFineSingleton2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es asegurar que una clase tenga una sola instancia y proveer un punto de acceso global para ésta</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se requiere exactamente una única instancia de una clase y debe ser accesible a los clientes desde un punto de acceso bien conocido.</p>
</li>
<li>
<p>Se precisa que la única instancia sea extensible por subclasificación de tal manera que los clientes puedan ser capaces de usar la instancia extendida sin modificar su código,</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-6">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Participantes</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Estructura General</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Singleton</em></strong>: responsable de crear y almacenar su propia instancia única. Define una operación de clase getInstance que permite a los clientes acceder a su única instancia.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralSingleton.svg" alt="estructuraGeneralSingleton" width="811" height="438">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-5">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-5">Variaciones</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/variacionesSingleton.svg" alt="variacionesSingleton" width="1548" height="1245">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/miw-upm/IWVG/tree/master/doo/src/main/java/designPatterns/patterns/singleton/v6/subclassifing/cpp">Código de ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Singleton/singletonFineMultiple">Cógigo de ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se puede <strong class="blue">subclasificar el <em>Singleton</em> para devolver una instancia polimórfica utilizando diversos mecanismos</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>La utilización de <strong class="blue">variables de entorno y sentencias condicionales para determinar la subclase es más flexible</strong>, pero implica fuertes conexiones al conjunto de posibles clases <em>Singleton</em>.</p>
</li>
<li>
<p>Situar la <strong class="blue">implementación de getInstance fuera de la clase padre (por ejemplo, en una Factoría)</strong> o ponerla en la subclase. Esto permite decidir la clase de <em>Singleton</em> en tiempo de compilación.</p>
</li>
<li>
<p>La utilización de un <strong class="blue">registro de objetos <em>Singleton</em></strong>. En lugar de definir el conjunto de posibles clases <em>Singleton</em> en <em>getInstance</em>, las clases <em>Singleton</em> pueden registrar su única instancia por su nombre en un registro conocido (por ejemplo, en su constructor).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-6">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Permite tener un <strong class="green">control estricto sobre cómo y cuándo los clientes acceden a la instancia única de la clase.</strong></p>
</li>
<li>
<p>Supone una mejora sobre el uso de variables globales ya que <strong class="green">evita contaminar el espacio de nombres con variables globales</strong> que almacenen las instancias.</p>
</li>
<li>
<p>Permite tener subclases y es <strong class="green">fácil configurar una aplicación con una instancia de una clase extendida que se necesite en tiempo de ejecución.</strong></p>
</li>
<li>
<p>Facilita cambiar de opinión y permitir más de una instancia de la clase. Además, se puede <strong class="green">utilizar el mismo enfoque para controlar el número de instancias que utiliza la aplicación</strong>, modificando únicamente la operación que otorga acceso a la instancia del Singleton.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-5">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la implementación de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><strong class="green">Aplicaciones</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-0-domains/game-ticTacToe/tree/master/1.0.basic">ticTacToe - basic</a> - <a href="https://github.com/USantaTecla-tech-java/game-ticTacToe/tree/master/domainModel/basic/src/main/java/usantatecla">singleton</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="patrones-estructurales">Patrones Estructurales</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/PatronEstructural.svg" alt="PatronEstructural" width="1059" height="337">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/adapter.png" alt="adapter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/bridge.png" alt="bridge"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/composite.png" alt="composite"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/decorator.png" alt="decorator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/facade.png" alt="facade"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/flyweight.png" alt="flyweight"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/proxy.png" alt="proxy"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>se ocupan de cómo se <strong class="green">combinan las clases y los objetos</strong> para formar estructuras más grandes.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>se basan en un mismo pequeño conjunto de mecaninsmos del lenguaje para estructurar el código: <strong class="green">herencia de clases</strong> simple y múltiple y <strong class="green">composición de objetos</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>tienen estruturas de clases muy similares que <strong class="green">ocultan los diferentes propósitos</strong> de estos patrones.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="adapter">Adapter</h3>
<div class="sect3">
<h4 id="problema-7">Problema</h4>
<div class="sect4">
<h5 id="motivación-6">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 80%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionAdapter.svg" alt="motivacionAdapter" width="1235" height="345">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Adapter/adapterWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Cuando se viaja al extranjero, existen problemas al <strong class="red">enchufar los aparatos eléctricos</strong> (secador de pelo, maquinilla de afeitar, …​) porque el número, forma y/o disposición de las patillas de los enchufes no son iguales en todos los países, ya que <strong class="red">existen distintos estándares</strong></em>.</p>
</li>
<li>
<p><em>Un solución <strong class="red">costosa y engorrosa sería comprar</strong> nada más llegar al destino todos los <strong class="red">aparatos eléctricos con el estándar del país de destino</strong> y guardarlos en el trastero hasta que se vuelva a viajar a un país del mismo estándar</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión</strong> de su comportamiento y tiende a <strong class="red">crecer a medida que surgen nuevos países de destino</strong></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Scenario</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la gestión de aparatos dependiendo del estándar de destino (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Scenario</em> (ej. 6) depende del <strong class="red">número de aparatos eléctricos</strong> y del <strong class="red">número de distintos estándares</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">el producto del número de estándares</strong> (ej. C y F, 2) por el <strong class="red">número de aparatos eléctricos</strong> (ej. secador y maquinilla de afeitar, 2) <strong class="red">más el enchufe</strong> (ej. <em>PowerPointC</em> o <em>PowerPointF</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongAdapter.png" alt="AcoplamientoWrongAdapter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongAdapter2.png" alt="AcoplamientoWrongAdapter2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Scenario</em> (ej. 6) depende del <strong class="red">número de aparatos eléctricos</strong> y del <strong class="red">número de distintos estándares</strong>.</p>
</li>
<li>
<p>Se calcula como el <strong class="red">producto del número de estándares</strong> (ej. C y F, 2) <strong class="red">por el número de aparatos eléctricos</strong> (ej. secador y maquinilla de afeitar, 2) <strong class="red">más el enchufe</strong> (ej. <em>PowerPointC</em> o <em>PowerPointF</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongAdapter.png" alt="GranularidadWrongAdapter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongAdapter2.png" alt="GranularidadWrongAdapter2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="intención-6">Intención</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 80%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionAdapter.svg" alt="intencionAdapter" width="1114" height="532">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Adapter/adapterFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Otra solución barata y sencilla es <strong class="green">mantener los aparatos eléctricos del origen y únicamente comprar adaptadores antes de viajar a un destino de otro estándar</strong> y guardarlos a mano para el próximo viaje a un país con el mismo estándar</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Scenario</em> es más adecuada puesto que asume <strong class="green">menos responsabilidad</strong>, centrada en los aparatos eléctricos con solo los adaptadores necesarios según los países de destino.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Scenario</em> (ej. 5) depende del <strong class="green">número de aparatos eléctricos</strong> y del <strong class="green">número de distintos estándares</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">el producto de 2 por el número de estándares</strong> (ej. <strong class="green">C y F, 2</strong>) <strong class="green">menos 1 más el número de aparatos eléctricos</strong> (ej. secador y maquinilla de afeitar, <strong class="green">2</strong>).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineAdapter.png" alt="AcoplamientoFineAdapter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineAdapter2.png" alt="AcoplamientoFineAdapter2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="green">Granularidad</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Scenario</em> (ej. 5) depende del <strong class="green">número de aparatos eléctricos</strong> y del <strong class="green">número de distintos estándares</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">el producto de 2 por el número de estándares</strong> (ej. <strong class="green">C y F, 2</strong>) <strong class="green">menos 1 más el número de aparatos eléctricos</strong> (ej. secador y maquinilla de afeitar, <strong class="green">2</strong>).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineAdapter.png" alt="GranularidadFineAdapter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineAdapter2.png" alt="GranularidadFineAdapter2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es convertir la interfaz de una clase en otra interfaz que el cliente espera, permitiendo trabajar clases conjuntamente que no podrían de otra manera por la incompatibilidad de sus interfaces</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se quiere crear una clase reutilizable que coopere con clases no relacionadas o que no han sido previstas, es decir, clases que <strong class="blue">no tienen por qué tener interfaces compatibles</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Se quiere usar una clase existente (ej. una <strong class="blue">clase de una biblioteca</strong> que ha sido diseñada para reutilizarse) y su <strong class="blue">interfaz no concuerda con la que se necesita</strong> (específica del dominio que requiere la aplicación).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="solución-7">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Adapter de clases</strong></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralAdapterClases.svg" alt="estructuraGeneralAdapterClases" width="610" height="382">
</div>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Adapter de Objetos</strong></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/EstructuraGeneralAdapterObjetos.svg" alt="EstructuraGeneralAdapterObjetos" width="508" height="516">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Target</em></strong>: declara una interfaz específica del dominio que usa el cliente.</p>
</li>
<li>
<p><strong class="blue"><em>Adaptee</em></strong>: declara una interfaz existente que necesita ser adaptada.</p>
</li>
<li>
<p><strong class="blue"><em>Adapter</em></strong>: clase que adapta la interfaz de <em>Adaptee</em> a la interfaz de <em>Target</em>.</p>
</li>
<li>
<p><strong class="blue"><em>Scenario</em></strong>: colabora con objetos que se ajustan a la interfaz <em>Target</em>, y utiliza el <em>Adapter</em> para poder colaborar con objetos que se ajusten a la interfaz <em>Adaptee</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-6">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-6">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Adapter de clases</em></strong>: adapta una clase <em>Adaptee a Target</em>, pero se refiere únicamente a una clase Adaptee concreta. Por tanto, un Adapter de clases no nos servirá cuando lo que queremos es adaptar una clase y todas sus subclases.</p>
<div class="ulist">
<ul>
<li>
<p>En una implementación en C++ de un <em>Adapter</em> de clases, el <em>Adapter</em> debería heredar públicamente de <em>Target</em> y privadamente de <em>Adaptee</em>. Así, <em>Adapter</em> sería un subtipo de <em>Target</em> , pero no de <em>Adaptee</em>.</p>
</li>
<li>
<p>Se precisa definir las correspondientes operaciones abstractas para la interfaz reducida de <em>Adaptee</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Adapter de objetos</em></strong>: permite adaptar varias subclases <em>Adaptee</em> existentes, es decir, el <em>Adaptee</em>- en sí y todas sus subclases en caso de que las tenga. En esta situación no resulta práctico adaptar su interfaz heredando de cada una de ellas. Un <em>Adapter</em> de objetos puede adaptar la interfaz de su clase padre.</p>
<div class="ulist">
<ul>
<li>
<p>El cliente reenvía las peticiones para acceder a la estructura jerárquica a un objeto delegado.</p>
</li>
<li>
<p>El cliente puede usar una estrategia de adaptación diferente cambiando el objeto delegado.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-7">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green"><em>Adapter de clases</em></strong>: Permite que <em>Adapter</em> redefina parte del comportamiento de Adaptee, por ser <em>Adapter</em> una subclase de <em>Adaptee</em>. Introduce un solo objeto y no se necesita ningún puntero de indirección adicional para obtener el objeto adaptado.</p>
</li>
<li>
<p><strong class="green"><em>Adapter de objetos</em></strong>: Permite que un mismo <em>Adapter</em> funcione con muchos <em>Adaptee</em>, es decir, con el <em>Adaptee</em> en sí y todas sus subclases, en caso de que las tenga. El <em>Adapter</em> puede añadir funcionalidad a todos los <em>Adaptee</em> a la vez.</p>
</li>
<li>
<p>Una clase es más reutilizable cuando minimizamos las asunciones que deben hacer otras clases para usarla. Al hacer la adaptación de interfaces en una clase estamos eliminando la asunción de que otras clases ven la misma interfaz. Dicho de otro modo, la adaptación de interfaces nos permite <strong class="green">incorporar nuestra clase a sistemas existentes que podrían esperar interfaces diferentes a la de la clase</strong>.</p>
</li>
<li>
<p>Los adaptadores difieren en la cantidad de trabajo necesaria para adaptar Adaptee a la interfaz <em>Target</em>. Hay una amplia gama de tareas posibles, que van desde la simple conversión de interfaces (ej. cambiar los nombres de las operaciones), a implicar alguna tarea de encapsulación o modificación de los argumentos y de los tipos de retorno, o incluso a permitir un conjunto completamente nuevo de operaciones. La <strong class="green">cantidad de trabajo que hace el <em>Adapter</em> depende de lo parecida que sea la interfaz de <em>Target</em> a la de <em>Adaptee</em></strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-6">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Incapacidad para modificar las clases convenientemente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="bridge">Bridge</h3>
<div class="sect3">
<h4 id="problema-8">Problema</h4>
<div class="sect4">
<h5 id="motivación-7">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionBridge.svg" alt="motivacionBridge" width="1152" height="643">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Bridge/bridgeWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">asesor se responsabiliza de asesorar</strong> mediante informes que presentan adecuadamente análisis de grandes volúmenes de datos <strong class="red">con distinto nivel de detalle</strong>, superficial o formal o …, <strong class="red">sobre distintas áreas</strong>, económica o fiscal o legal o …</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas áreas</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Scenario</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como presentar adecuadamente el análisis de la obtención de los datos sobre las distintas áreas.</p>
</li>
<li>
<p>Además, la cohesión se ve también perjudicada por la <strong class="red">falta de centralización</strong> de las distintas áreas, que se encuentran replicadas en la jerarquía de herencias paralela existente en los analistas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Scenario</em> (ej. 6) depende del <strong class="red">número de niveles de detalle</strong> y del <strong class="red">número de áreas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">el producto del número de niveles de detalle</strong> (ej. casual y formal, 2) <strong class="red">por el número de áreas</strong> (ej. económica, fiscal y legal, 3).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongBridge.png" alt="AcoplamentoWrongBridge"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongBridge2.png" alt="AcoplamentoWrongBridge2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Scenario</em> (ej. 6) depende del <strong class="red">número de niveles de detalle</strong> y del <strong>número de áreas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">el producto del número de niveles de detalle</strong> (ej. casual y formal, 2) <strong class="red">por el número de áreas</strong> (ej. económica, fiscal y legal, 3).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongBridge.png" alt="GranularidadWrongBridge"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongBridge2.png" alt="GranularidadWrongBridge2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-7">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionBridge.svg" alt="intencionBridge" width="1052" height="515">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Bridge/bridgeFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de asesor incluye únicamente la presentación de la información con distinto nivel de detalle</strong> (casual, formal, …) y otros, <strong class="green">analistas, se responsabilizan por separado de cómo se obtiene la información para las distintas áreas</strong>, ninguna clase será compleja y se evitará la tendencia a crecer.</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Scenario</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en el nivel de detalle y el tipo área, colaborando con el servicio del asesor y analista.</p>
</li>
<li>
<p>Se consigue así una <strong class="green">centralización</strong> de las distintas áreas evitándose la replicación de código en jerarquías de herencias paralelas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Scenario</em> (ej. 5) depende del <strong class="green">número de niveles de detalle</strong> y del <strong class="green">número de áreas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma del número de niveles de detalle</strong> (ej. casual y formal, 2) <strong class="green">más el número de áreas</strong> (ej. económica, fiscal y legal, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineBridge.png" alt="AcoplamientoFineBridge"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineBridge2.png" alt="AcoplamientoFineBridge2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Scenario</em> (ej. 5) depende del <strong class="green">número de niveles de detalle</strong> y del <strong class="green">número de áreas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma del número de niveles de detalle</strong> (ej. casual y formal, 2) más el número de áreas (ej. económica, fiscal y legal, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineBridge.png" alt="GranularidadFineBridge"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineBridge2.png" alt="GranularidadFineBridge2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es desacoplar una abstracción de su implementación de tal forma que las dos pueden variar independientemente.</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Evitar una relación estática entre una abstracción y su implementación</strong>. Por ejemplo, cuando debe seleccionarse o cambiarse la implementación en tiempo de ejecución.</p>
</li>
<li>
<p><strong class="blue">Permitir que tanto las abstracciones como sus implementaciones sean extensibles mediante subclasificación</strong>. En este caso, el patrón Bridge permite multiplexar las opciones para las diferentes abstracciones y sus implementaciones, y extenderlas independientemente.</p>
</li>
<li>
<p><strong class="blue">Evitar que los cambios en la implementación de una abstracción tengan un impacto en los clientes</strong>. Es decir, evitar que su código necesite ser recompilado.</p>
</li>
<li>
<p><strong class="blue">Evitar una proliferación de clases en una jerarquía de herencia paralela</strong>.</p>
</li>
<li>
<p><strong class="blue">Compartir una implementación entre varios objetos</strong> (tal vez usando un contador de referencias) y este hecho deba permanecer oculto al cliente.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-8">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralBridge.svg" alt="estructuraGeneralBridge" width="893" height="406">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Abstraction</em></strong>: declara la interfaz de la abstracción, pudiendo proporcionar un comportamiento y una estructura estándar. Además, contiene una referencia a un objeto de tipo <em>Implementor</em>, que normalmente se fija por medio de un método set o a través del constructor.</p>
</li>
<li>
<p><strong class="blue"><em>RefinedAbstraction</em></strong>: clase derivada de <em>Abstraction</em> que extiende su interfaz proporcionando un comportamiento adicional o modificado.</p>
</li>
<li>
<p><strong class="blue"><em>Implementor</em></strong>: declara la interfaz de la implementación.</p>
<div class="ulist">
<ul>
<li>
<p>Esta interfaz no tiene por qué corresponderse exactamente con la de la abstracción. De hecho, suelen ser muy distintas, proporcionando la interfaz <em>Implementor</em> operaciones abstractas primitivas que la interfaz Abstraction utiliza para ofrecer operaciones de más alto nivel.</p>
</li>
<li>
<p>Es decir, todas las operaciones de las subclases de la abstracción se implementan en términos de operaciones abstractas de la interfaz del implementador. Esto desacopla las abstracciones de las diferentes implementaciones específicas de cada plataforma. Nos referimos a la relación entre la abstracción y la implementación como un puente, porque una abstracción con su implementación, permitiendo que ambas varíen de forma independiente.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteImplementor</em></strong>: clase derivada de <em>Implementor</em> que redefine su implementación concreta.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-7">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-7">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">En situaciones en las que sólo hay una implementación no es necesario crear una clase abstracta <em>Implementor</em></strong>. Éste es un caso degenerado del patrón Bridge, cuando hay una relación uno-a-uno entre <em>Abstraction</em> e <em>Implementor</em>. Sin embargo, esta separación sigue siendo útil cuando un cambio en la implementación de una clase no debe afectar a sus clientes existentes, es decir, éstos no deberían ser recompilados, sólo enlazados.</p>
</li>
<li>
<p>Para la <strong class="blue">selección del objeto <em>Implementor</em></strong> existen diversas alternativas:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Si Abstraction conoce a todas las clases <em>ConcreteImplementor</em></strong>, puede crear una instancia de una de ellas en su constructor; puede decidir de cuál basándose en los parámetros recibidos en él.</p>
</li>
<li>
<p>Otro enfoque consiste en elegir inicialmente una <strong class="blue">implementación predeterminada</strong> y cambiarla después en función de su uso.</p>
</li>
<li>
<p><strong class="blue">También es posible delegar totalmente la decisión en otro objeto</strong>. Por ejemplo, <em>Abstract Factory</em> sabe qué tipo de objetos <em>ConcreteImplementor</em> crear para la plataforma en uso. Una ventaja es que <em>Abstraction</em> no está acoplada directamente a ninguna de las clases <em>Implementor</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Algunas clases de implementación, especialmente las clases sin estado (que no mantienen un estado interno), pueden ser <strong class="blue">compartidas entre múltiples objetos de la aplicación</strong>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-8">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No une permanentemente una implementación a una interfaz, sino que la implementación <strong class="green">puede configurarse en tiempo de ejecución</strong>. Incluso es posible que un objeto cambie su implementación en tiempo de ejecución.</p>
<div class="ulist">
<ul>
<li>
<p>El hecho de desacoplar <em>Abstraction</em> e <em>Implementor</em> también <strong class="green">elimina de la implementación dependencias de tiempo de compilación</strong>. Ahora, cambiar una clase ya no requiere recompilar la clase <em>Abstraction</em> y sus clientes. Esta propiedad es esencial cuando debemos asegurar la compatibilidad binaria entre distintas versiones de una biblioteca de clases.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Se pueden <strong class="green">extender las jerarquías de Abstraction y de Implementor de manera independiente</strong>.</p>
</li>
<li>
<p><strong class="green">Se puede aislar a los clientes de los detalles de implementación</strong>, como el comportamiento de objetos implementadores y el correspondiente mecanismo de conteo de referencias (si existe).</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-7">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización (delegación)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Reusabilidad por composición, herencia y/o parametrización</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de plataformas hardware o software</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de las representaciones o implementaciones de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="composite">Composite</h3>
<div class="sect3">
<h4 id="problema-9">Problema</h4>
<div class="sect4">
<h5 id="motivación-8">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>En muchos <strong class="red">juegos de mesa</strong> (trivial pursuit, parchis, …​) hay limitaciones en el tablero para el <strong class="red">número máximo de jugadores y, cuando hay más personas que este máximo</strong>, existe la posibilidad de <strong class="red">formar equipos para que se entretengan todos</strong></em>.</p>
</li>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos tipos de equipos</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionComposite.svg" alt="motivacionComposite" width="775" height="633">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Composite/compositeWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Game</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la gestión de los distintos tipos de jugadores (personas y de equipos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Game</em> (ej. 2) depende de la cantidad de <strong class="red">distintos tipos de equipos y personas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de la cantidad de distintos tipos de personas</strong> (ej. <em>Person</em>, 1) <strong class="red">más la cantidad de distintos tipos de equipos</strong> (ej. <em>Team</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongComposite.png" alt="AcoplamientoWrongComposite"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongComposite2.png" alt="AcoplamientoWrongComposite2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Game</em> (ej. 4) depende de la cantidad de métodos requeridos para los <strong class="red">distintos tipos de equipos y personas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">las variaciones con repetición<sup>1</sup> de la suma de la cantidad de distintos tipos de personas</strong> (ej. <em>Person</em>, 1) <strong class="red">más la cantidad de distintos tipos de equipos</strong> (ej. <em>Team</em>, 1) <strong class="red">tomados de dos en dos</strong>, con la simplificación de que el método <em>play</em> relativo a la responsabilidad de la clase <em>Game</em> admite solo 2 parámetros.</p>
<div class="ulist">
<ul>
<li>
<p><sup>1</sup> Nótese que las variaciones con repetición de m elementos tomados de n en n da lugar a los posibles grupos formados por n elementos de manera que:</p>
</li>
<li>
<p>No entran todos los elementos si m&gt; n. Sí pueden entrar todos los elementos si m &#8656; n.</p>
<div class="ulist">
<ul>
<li>
<p>Sí importa el orden.</p>
</li>
<li>
<p>Sí se repiten los elementos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>La fórmula para este tipo de variaciones es VR=m^n</p>
</li>
</ul>
</div>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n 2)</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongComposite.png" alt="GranularidadWrongComposite"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongComposite2.png" alt="GranularidadWrongComposite2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-8">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>La solución más habitual es <strong class="green">nombrar un representante del equipo y, de cara al resto de jugadores, se comporta como un único jugador</strong>. Internamente el representante se organizará transparentemente con el resto de personas del equipo para tomar decisiones</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionComposite.svg" alt="itencionComposite" width="807" height="836">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Composite/compositeFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Game</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la gestión de los jugadores sin prestar atención a su tipo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Game</em> (ej. 1) depende de la cantidad de métodos requeridos para <strong class="green">un único tipo de jugador</strong> (ej. <em>Player</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineComposite.png" alt="AcoplamientoFineComposite"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineComposite2.png" alt="AcoplamientoFineComposite2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Game</em> (ej. 1) <strong class="green">depende de un tipo de jugador</strong> (ej. <em>Player</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineComposite.png" alt="GranularidadFineComposite"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineComposite2.png" alt="GranularidadFineComposite2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es componer objetos en estructuras arbóreas para representar las jerarquías de todo-parte y permitir a los clientes tratar con objetos individuales y objetos compuestos uniformemente</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Representar <strong class="blue">jerarquías de objetos parte-todo</strong>.</p>
</li>
<li>
<p>Permitir que <strong class="blue">los clientes sean capaces de obviar las diferencias entre composiciones de objetos y los objetos individuales</strong>. Los clientes tratarán a todos los objetos de la estructura compuesta de manera uniforme.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-9">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralComposite.svg" alt="estructuraGeneralComposite" width="872" height="548">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Component</em></strong>: declara la interfaz de los objetos de la composición, proporcionando, si es posible, implementaciones predeterminadas para las operaciones comunes a las clases <em>Leaf</em> y <em>Composite</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Opcionalmente:</p>
<div class="ulist">
<ul>
<li>
<p>Declara una interfaz para acceder a sus componentes hijos y gestionarlos.</p>
</li>
<li>
<p>Define una interfaz para acceder al padre de un componente en la estructura recursiva y, si es necesario, la implementa.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Leaf</em></strong>: clase derivada de <em>Component</em> que define el comportamiento de los objetos primitivos de la composición. Las clases Leaf no tienen hijos.</p>
</li>
<li>
<p><strong class="blue"><em>Composite</em></strong>: clase derivada de <em>Component</em> que define el comportamiento de los objetos que tienen hijos. Por lo tanto, almacena los componentes hijos e implementa las operaciones relacionadas con ellos.</p>
<div class="ulist">
<ul>
<li>
<p>Muchos diseños especifican una ordenación de los hijos de <em>Composite</em>. Cuando la ordenación de los hijos es una cuestión a tener en cuenta, se deben diseñar las interfaces de acceso y gestión de hijos cuidadosamente para controlar la secuencia.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que manipula los objetos de la composición a través de la interfaz <em>Component</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-8">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-8">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>La clase <em>Composite</em> siempre es responsable de implementar las operaciones añadir y eliminar para controlar sus hijos, pero <strong class="blue">existen dos alternativas para definir la interfaz de gestión de los hijos</strong>. La decisión implica un equilibrio entre seguridad y transparencia:</p>
<div class="ulist">
<ul>
<li>
<p>Definir la <strong class="blue">gestión de los hijos en la clase <em>Composite</em> nos proporciona seguridad</strong>, ya que cualquier intento de añadir o eliminar objetos de las hojas será detectado en tiempo de compilación en un lenguaje estáticamente tipado. Pero <strong class="blue">perdemos transparencia</strong> porque las hojas y los compuestos tienen interfaces diferentes.</p>
</li>
<li>
<p>Definir la interfaz de <strong class="blue">gestión de los hijos en la raíz de la jerarquía de clases, <em>Component</em>, nos da transparencia</strong>, puesto que podemos tratar a todos los componentes de manera uniforme. Sin embargo, sacrifica la seguridad, ya que los clientes pueden intentar hacer cosas sin sentido, como añadir y eliminar objetos de las hojas.</p>
<div class="ulist">
<ul>
<li>
<p>Esta implementación a veces entra en <strong class="blue">conflicto con el principio de diseño de jerarquías de clases</strong> que dice que una clase debería definir operaciones que tienen sentido en sus subclases, ya que hay muchas operaciones permitidas por <em>Component</em> que no parecen tener sentido en las clases <em>Leaf</em>.</p>
</li>
<li>
<p>Se debe tener en cuenta también que definir el conjunto de hijos como una variable de instancia de la clase <em>Component</em>, en la que se declaren las operaciones de acceso y gestión de hijos, supone una <strong class="blue">penalización de espacio para los objetos de la clase <em>Leaf</em></strong>, ya que se está almacenando un puntero que nunca será utilizado por éstos puesto que las hojas nunca tendrán hijos. Por lo tanto, esto sólo merece la pena si hay relativamente pocos hijos en la estructura</p>
</li>
<li>
<p><strong class="blue">A veces un poco de creatividad muestra cómo una operación que podría parecer que sólo tiene sentido en el caso de los <em>Composite</em> puede implementarse para todos los <em>Component</em></strong>, moviéndola a la clase <em>Component</em>. Por ejemplo, la interfaz para acceder a los hijos es una parte fundamental de la clase <em>Composite</em>, pero no de la clase <em>Leaf</em>. Pero si vemos a una clase <em>Leaf</em> como un <em>Component</em> para acceder a los hijos que nunca devuelve ningún hijo, las clases <em>Leaf</em> pueden usar esa implementación predeterminada, y las clases <em>Composite</em> pueden redefinir la implementación para devolver sus hijos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/variasionesComposite.svg" alt="variasionesComposite" width="872" height="612">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>En caso de definir una <strong class="blue">interfaz para acceder al padre de un componente</strong> en la estructura recursiva, se simplifica el recorrido y la gestión de la estructura compuesta, ya que la referencia al padre facilita ascender por la estructura y borrar un componente.</p>
<div class="ulist">
<ul>
<li>
<p>El lugar habitual donde definir <strong class="blue">la referencia al padre es en la clase <em>Component</em></strong>. Las clases <em>Leaf</em> y <em>Composite</em> pueden heredar la referencia y las operaciones que la gestionan.</p>
</li>
<li>
<p>Con referencias al padre, es esencial mantener el invariante de que todos los hijos de un compuesto tienen como padre al compuesto que a su vez los tiene a ellos como hijos. El modo más fácil de garantizar esto es <strong class="blue">cambiar el padre de un componente sólo cuando se añade o se elimina a éste de un compuesto</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otra posible variante del patrón se da cuando <strong class="blue">se requiere compartir componentes</strong>, por ejemplo, para reducir los requisitos de almacenamiento.</p>
<div class="ulist">
<ul>
<li>
<p>En caso de que se necesite mantener referencias explícitas al padre de cada componente, <strong class="blue">los hijos tendrían que almacenar múltiples padres</strong>. Pero eso puede llevarnos a ambigüedades cuando se propaga una petición hacia arriba en la estructura.</p>
</li>
<li>
<p>Para simplificar la compartición sería necesario adaptar el diseño para <strong class="blue">evitar guardar los padres</strong>. Esto es factible en casos en los que los hijos puedan evitar enviar peticiones a sus padres externalizando parte de su estado, o todo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-9">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Define <strong class="green">jerarquías de clases formadas por objetos primitivos y compuestos</strong>. Los objetos primitivos pueden componerse en otros objetos más complejos, que a su vez pueden ser compuestos y así de manera recursiva. Allí donde el código espere un objeto primitivo, también podrá recibir un objeto compuesto.</p>
</li>
<li>
<p>Los <strong class="green">clientes pueden tratar uniformemente a las estructuras compuestas y a los objetos individuales</strong>. Los clientes normalmente no conocen (y no les debería importar) si están tratando con una hoja o con un componente compuesto. Esto simplifica el código del cliente, puesto que evita tener que escribir funciones con instrucciones if anidadas en las clases que definen la composición</p>
</li>
<li>
<p><strong class="green">Facilita añadir nuevos tipos de componentes</strong>. Si se definen nuevas subclases <em>Composite</em> o <em>Leaf</em>, éstas funcionarán automáticamente con las estructuras y el código cliente existentes. No hay que cambiar los clientes para las nuevas subclases de <em>Component</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Puede hacer que un diseño sea demasiado general. La desventaja de facilitar añadir nuevos componentes es que hace más difícil restringir los componentes de un compuesto. A veces se requiere que un compuesto sólo tenga ciertos componentes. Con el patrón <em>Composite</em>, <strong class="red">no podemos confiar en el sistema de tipos para que haga cumplir estas restricciones, por lo que es necesario realizar comprobaciones en tiempo de ejecución</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-8">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Encontrar objetos apropiados</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Cohesión</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Relacionar Estructuras del Tiempo de Compilación y de Ejecución</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="decorator">Decorator</h3>
<div class="sect3">
<h4 id="problema-10">Problema</h4>
<div class="sect4">
<h5 id="motivación-9">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionDecorator.svg" alt="motivacionDecorator" width="1364" height="684">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Decorator/decoratorWrongx">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">maestro de repostería se responsabiliza de elaborar postres</strong> (_galletas tradicionales, soufflé</em>, …) para lo que <strong class="red">bate y hornea con diversos utensilios</strong> (<em>horno, reloj</em>, …) con <strong class="red">diferentes técnicas específicas</strong> (cambios de ritmo, cambios de temperatura, …). En sus labores, <strong class="red">se apoya en un aprendiz que sólo sabe batir y hornear como le digan</strong>, al que debe supervisar constantemente, lo cual disturba al maestro para investigar e innovar._</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos tipos de postres</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>MasterPastryChef</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la supervisión del aprendiz mientras elabora los postres con diversos utensilios e investiga e innova.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>MasterPastryChef</em> (ej. 2) depende <strong class="red">del aprendiz y de los distintos tipos de utensilios</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de 1 del aprendiz</strong> (ej. 1) <strong class="red">más la cantidad de distintos tipos de utensilios</strong> (ej. <em>Oven, Clock</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongDecorator.png" alt="AcoplamientoWrongDecorator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongDecorator2.png" alt="AcoplamientoWrongDecorator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>MasterPastryChef</em> (ej. 6) depende de la cantidad de métodos requeridos para <strong class="red">los distintos postres y las distintas técnicas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">el producto de la cantidad de distintos postres</strong> (ej. <em>TraditionalCookies, Souffle</em>, 2) <strong class="red">por 1 más la cantidad de distintos tipos de técnicas</strong> (ej. <em>beat, bake</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n 2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongDecorator.png" alt="GranularidadWrongDecorator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongDecorator2.png" alt="GranularidadWrongDecorator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>También interesa analizar otro aspecto relacionado con la granularidad, en este caso, en la clase Scenario, ya que es posible que se desee elaborar cualquier combinación de los distintos postres.</p>
</li>
<li>
<p>Es decir, la granularidad de la clase Scenario medida como el número de llamadas a métodos de la clase <em>MasterPastryChef</em> en función de la <strong class="red">cantidad de distintos postres</strong>.</p>
</li>
<li>
<p>Se calcula como la suma del <strong class="red">aprendiz</strong> (ej. <em>ApprenticePastryChef</em>) y las <strong class="red">combinaciones<sup>2</sup>  de la cantidad de distintos postres</strong> tomadas de n en n, variando n desde uno hasta el número de postres.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongDecorator3.png" alt="GranularidadWrongDecorator3"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongDecorator4.png" alt="GranularidadWrongDecorator4"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><sup>2</sup> Nótese que las combinaciones de m elementos tomados de n en n (m &gt;= n) da lugar a los posibles grupos formados por n elementos de manera que:</p>
<div class="ulist">
<ul>
<li>
<p>No entran todos los elementos si m &gt; n. Sí pueden entrar todos los elementos si m = n.</p>
</li>
<li>
<p>No importa el orden.</p>
</li>
<li>
<p>No se repiten los elementos.</p>
</li>
</ul>
</div>
</li>
<li>
<p>La fórmula para este tipo de variaciones es Cm,n = m! / (n! * (m-n)! )</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-9">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionDecorator.svg" alt="itencionDecorator" width="1735" height="1070">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Decorator/decoratorFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="green">alternativa es invertir en la contratación de oficiales de cocina específicos que se responsabilizan de elaborar postres</strong> (_galletas tradicionales, soufflé</em>, …) <strong class="green">supervisando al aprendiz y permitiendo al maestro centrarse en la investigación e innovación</strong>._</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3">- <strong class="green">Cohesión</strong>

* La cohesión de la clase <em>MasterPastryChef</em> es adecuada puesto que asume <strong class="green">una única responsabilidad</strong>, centrada en colaborar con los oficiales de cocina para investigar e innovar.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>MasterPastryChef</em> (ej. 1) depende del <strong class="green">tipo del repostero</strong> (ej. <em>PastryChef</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineDecorator.png" alt="AcoplamientoFineDecorator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineDecorator2.png" alt="AcoplamientoFineDecorator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>MasterPastryChef</em> (ej. 1) depende únicamente del <strong class="green">tipo de repostero</strong>.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineDecorator.png" alt="GranularidadFineDecorator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineDecorator2.png" alt="GranularidadFineDecorator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>También interesa analizar otro aspecto relacionado con la granularidad, en este caso, en la clase Scenario, ya que es posible que se desee elaborar cualquier combinación de los distintos postres.</p>
</li>
<li>
<p>Es decir, la granularidad de la clase <em>Scenario</em> medida como el número de llamadas a métodos de la clase <em>MasterPastryChef</em> en función de la <strong class="green">cantidad de distintos postres</strong>.</p>
</li>
<li>
<p>Se calcula como la suma del <strong class="green">aprendiz</strong> (ej. <em>ApprenticePastryChef</em>) <strong class="green">y el método relativo a la responsabilidad de la clase</strong> (ej. <em>preparePastries</em>).</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFine2Decorator3.png" alt="GranularidadFine2Decorator3"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFine2Decorator4.png" alt="GranularidadFine2Decorator4"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es agregar responsabilidades adicionales a un objeto dinámicamente, proveyendo una alternativa flexible a la subclasificación para extender la funcionalidad</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Añadir responsabilidades a objetos individuales en vez de a toda una clase, sin afectar a otros objetos</strong>.</p>
</li>
<li>
<p><strong class="blue">Añadir responsabilidad que pueda ser retirada.</strong></p>
</li>
<li>
<p><strong class="blue">Evitar la extensión mediante herencia cuando ésta no es viable</strong> debido a:</p>
<div class="ulist">
<ul>
<li>
<p>Existencia de un <strong class="blue">gran número de extensiones independientes</strong>, que producirían una <strong class="blue">explosión de subclases para permitir todas las combinaciones</strong>.</p>
</li>
<li>
<p><strong class="blue">Necesidad de utilizar una clase cuya definición esté oculta o no esté disponible para ser heredada</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-10">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralDecorator.svg" alt="estructuraGeneralDecorator" width="679" height="829">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Component</em></strong>: declara la interfaz de los objetos a los que se puede añadir responsabilidades dinámicamente.</p>
<div class="ulist">
<ul>
<li>
<p>La existencia de esta clase garantiza una interfaz compatible entre los componentes y los decoradores.</p>
</li>
<li>
<p>Es importante que esta clase común se mantenga ligera; es decir, debería centrarse en definir una interfaz, no en guardar datos. La definición de cómo se representan los datos debería delegarse a las subclases. De no ser así, la complejidad de la clase <em>Component</em> puede hacer que los decoradores sean demasiado pesados como para usar un gran número de ellos e incrementa la probabilidad de que las subclases concretas estén pagando por características que no necesitan.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteComponent</em></strong>: clase derivada de <em>Component</em> que define un objeto al que se pueden añadir responsabilidades adicionales.</p>
</li>
<li>
<p><strong class="blue"><em>Decorator</em></strong>: clase derivada de <em>Component</em>, por lo que define una interfaz que se ajusta a la interfaz de ésta, de manera que su presencia es transparente a sus clientes. Esta transparencia permite anidar decoradores recursivamente, consiguiéndose así un número de responsabilidades añadidas. Además, define los comportamientos estándar que se esperan de todas las clases <em>ConcreteDecorator</em>, tales como:</p>
<div class="ulist">
<ul>
<li>
<p>Mantener una referencia a un objeto <em>Component</em>, que podrá ser un objeto <em>ConcreteComponent</em> u otro <em>Decorator</em>.</p>
</li>
<li>
<p>Reenviar las peticiones al componente y realizar, opcionalmente, acciones adicionales antes o después del reenvío.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteDecorator</em></strong>: clase derivada de <em>Decorator</em> que añade alguna responsabilidad al componente. Un <em>ConcreteDecorator</em> puede definir métodos adicionales y/o variables para ampliar al componente.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-9">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-9">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Se puede <strong class="blue">prescindir de la clase abstracta <em>Decorator</em> cuando sólo se necesita añadir una responsabilidad</strong>. Esta situación es habitual cuando se está utilizando una jerarquía de clases existente y no diseñando una nueva. En ese caso, se puede trasladar la responsabilidad de <em>Decorator</em> relativa al reenvío de peticiones al componente a la clase <em>ConcreteDecorator</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-10">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El patrón <em>Decorator</em> ofrece una <strong class="green">manera más flexible de añadir responsabilidades a los objetos que la utilización de la herencia (múltiple) estática</strong>. Con los decoradores se pueden añadir y eliminar responsabilidades en tiempo de ejecución. Por el contrario, la herencia requiere crear una nueva clase para cada responsabilidad adicional. Esto da lugar a muchas clases diferentes e incrementa la complejidad de un sistema. Por otro lado, utilizar diferentes clases <em>ConcreteDecorator</em> para una determinada clase <em>ConcreteComponent</em> permite mezclar responsabilidades.</p>
</li>
<li>
<p>Ofrece un enfoque para <strong class="green">añadir responsabilidades que consiste en pagar sólo por aquello que se necesita. En vez de intentar permitir todas las funcionalidades inimaginables en una clase compleja y adaptable</strong>, se puede definir una clase simple y añadir luego funcionalidad incrementalmente con objetos <em>ConcreteDecorator</em>. La funcionalidad puede obtenerse componiendo partes simples. Como resultado, una aplicación no necesita pagar por características que no usa.</p>
<div class="ulist">
<ul>
<li>
<p>También resulta sencillo definir nuevos tipos de <em>ConcreteDecorator</em> independientemente de las clases de objetos de las que hereden, incluso para extensiones que no hubieran sido previstas. <strong class="green">Extender una clase compleja tiende a exponer detalles no relacionados con las responsabilidades que se están añadiendo</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">Un decorador se comporta como un revestimiento transparente</strong>, lo cual permite que los decoradores aparezcan en cualquier lugar en el que pueda ir un componente. Pero desde el punto de vista de la identidad de un objeto, un componente decorado no es idéntico al componente en sí. Por tanto, <strong class="green">no deberíamos apoyarnos en la identidad de objetos cuando se estén usando decoradores</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un diseño que usa el patrón <em>Decorator</em> suele dar como <strong class="red">resultado sistemas formados por muchos objetos pequeños muy parecidos</strong>. Los objetos sólo se diferencian en la forma en que están interconectados, y no en su clase o en el valor de sus variables. Aunque dichos sistemas son fáciles de adaptar por parte de quienes los comprenden bien, <strong class="red">pueden ser difíciles de aprender y de depurar</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-9">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos	Abstracción</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Relacionar Estructuras del Tiempo de Compilación y de Ejecución</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Incapacidad para modificar las clases convenientemente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="facade">Facade</h3>
<div class="sect3">
<h4 id="problema-11">Problema</h4>
<div class="sect4">
<h5 id="motivación-10">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionFacade.svg" alt="motivacionFacade" width="1460" height="637">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Facade/facadeWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una obra de <strong class="red">reforma de un domicilio conlleva</strong> que el propietario <strong class="red">realice diversas tareas burocráticas</strong> (solicitar crédito en el banco, solicitar licencia en el ayuntamiento, …) y, en particular, <strong class="red">contratar a diversos especialistas</strong> (albañil, carpintero, electricista, fontanero, pintor, …) y <strong class="red">coordinarlos a todos</strong> (tiempos, retrasos, materiales, precondiciones, …).</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">es muy complejo</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos colaboradores especialistas</strong> (experto en domótica, decorador, …).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Owner</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la contratación de todos y cada uno de los especialistas necesarios para la reforma del domicilio.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Owner</em> (ej. 7) depende del <strong class="red">número de relaciones por tareas burocráticas y contratación de especialistas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de la cantidad de relaciones burocráticas</strong> (ej. <em>Bank y TownHall</em>, 2) <strong class="red">más la cantidad de contrataciones de especialistas</strong> (ej. <em>BrickLayer, Carpenter</em>, …, 5).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongFacade.png" alt="AcoplamentoWrongFacade"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongFacade2.png" alt="AcoplamentoWrongFacade2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad del método <em>performAlteration</em> de la clase <em>Owner</em> (ej. 7) depende del <strong class="red">número de relaciones por tareas burocráticas y contratación de especialistas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de la cantidad de operaciones burocráticas</strong> (ej. <em>Bank y TownHall</em>, 2) <strong class="red">más la cantidad de contrataciones con especialistas</strong> (ej. <em>BrickLayer y Carpenter</em>, …, 5).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFacade.png" alt="GranularidadWrongFacade"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFacade2.png" alt="GranularidadWrongFacade2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-10">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionFacade.svg" alt="intencionFacade" width="1312" height="805">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Facade/facadeFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una alternativa más <strong class="green">sencilla</strong> y que <strong class="green">no tiende a crecer</strong> es que el <strong class="green">propietario se centre en sus tareas y contrate a un contratista</strong> para no interactuar con el resto de especialistas</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Owner</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la reforma mediante la contratación de unos pocos servicios, sin entrar en detalles.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Owner</em> (ej. 3) depende del <strong class="green">número de relaciones por tareas burocráticas y del contratista</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de la cantidad de relaciones burocráticas</strong> (ej. <em>Bank y TownHall</em>, 2) <strong class="green">más un contratista</strong> (ej. <em>Contractor</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFacade.png" alt="AcoplamientoFineFacade"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFacade2.png" alt="AcoplamientoFineFacade2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad del método <em>performAlteration</em> de la clase <em>Owner</em> (ej. 3) depende del <strong class="green">número de relaciones por tareas burocráticas y del contratista</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de la cantidad de operaciones burocráticas</strong> (ej. <em>Bank y TownHall</em>, 2) más una contratación con el contratista (ej. <em>Contractor</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFacade.png" alt="GranularidadFineFacade"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFacade2.png" alt="GranularidadFineFacade2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es proveer de una interfaz unificada a un conjunto de interfaces de un subsistema definiendo una interfaz de más alto nivel que hace más fácil de usar el subsistema</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Simplificar el uso de sistemas complejos proporcionando una interfaz más sencilla sin eliminar las opciones avanzadas</strong>. De esta manera puede proveer una vista simple por defecto que es suficiente para la mayoría de los clientes, y solo los clientes que necesiten más particularizaciones necesitarán mirar tras la fachada.</p>
</li>
<li>
<p><strong class="blue">Reducir el acoplamiento entre los clientes y las implementaciones de las clases de un subsistema cuando hay muchas dependencias entre ambos</strong>. Al desacoplar el subsistema de los clientes y otros subsistemas, promociona la independencia del subsistema y la portabilidad.</p>
</li>
<li>
<p><strong class="blue">Organizar por capas los subsistemas</strong>. Permite definir un punto de entrada para cada nivel de subsistema. Si los subsistemas son dependientes, se pueden simplificar las dependencias entre ellos haciéndolos comunicarse entre sí solamente a través de sus fachadas.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-11">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Participantes</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Estructura General</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Facade</em></strong>: clase que delega las peticiones de los clientes en los objetos <em>SubsystemClass</em> apropiados, ya que sabe qué clases del subsistema son las responsables ante una petición.</p>
</li>
<li>
<p><strong class="blue"><em>SubsystemClass</em></strong>: implementan la funcionalidad del subsistema y llevan a cabo las peticiones solicitadas por el objeto <em>Facade</em>, aunque para ellas, el objeto <em>Facade</em> sólo será otro cliente más, al que no conocen y del que no tienen una referencia.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralFacade.svg" alt="estructuraGeneralFacade" width="651" height="437">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-10">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-10">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Puede <strong class="blue">implementarse el <em>Facade</em> como una interfaz o una clase abstracta</strong>, lo cual permite <strong class="blue">reducir aún más el acoplamiento entre los clientes y el subsistema</strong>, ya que los clientes podrán comunicarse con el subsistema a través de dicha interfaz y, definir en un momento posterior, los detalles de la implementación de la fachada concreta que será utilizada para interaccionar con las clases del subsistema.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-11">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Promueve un débil acoplamiento</strong> entre el subsistema y sus clientes:</p>
<div class="ulist">
<ul>
<li>
<p>Los subsistemas a menudo obtienen complejidad según evolucionan. La <strong class="green">mayoría de los patrones, cuando se aplican, provocan más clases más pequeñas</strong>. Esto hace del <strong class="green">subsistema más reusable y fácil de personalizar</strong>, pero también llega a ser más duro de usar por los <strong class="green">clientes que no necesiten particularizaciones</strong>.</p>
</li>
<li>
<p>Blinda a los clientes de componentes del subsistema, reduciendo así el número de objetos con los que tratan y haciendo que el subsistema sea <strong class="green">más fácil de usar</strong>.</p>
</li>
<li>
<p><strong class="green">La reducción de las dependencias de compilación es vital en grandes sistemas de software</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">Ayuda a la</strong> organización por capas de un sistema. Todos los subsistemas pueden tener su propio Facade para reducir el acoplamiento entre ellos.</p>
</li>
<li>
<p><strong class="green">Simplifica el traslado de los sistemas a otras plataformas</strong>.</p>
</li>
<li>
<p><strong class="green">No impide que las aplicaciones utilicen clases del subsistema si lo precisan</strong>. De este modo se puede elegir entre la facilidad de uso y la generalidad.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-10">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Tamaño</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="flyweight">Flyweight</h3>
<div class="sect3">
<h4 id="problema-12">Problema</h4>
<div class="sect4">
<h5 id="motivación-11">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>En un torneo de cartas se disputan mil juegos, y <strong class="red">cada juego se responsabiliza de crear las 52 cartas de la baraja que precisa, por lo que se necesitará almacenar una gran cantidad de objetos iguales</strong>, es decir, 52.000 cartas (mil ases de picas, mil reyes de corazones, …) aunque éstas sean constantes y no cambien.</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionFlyweight.svg" alt="motivacionFlyweight" width="837" height="652">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Flyweight/flyWeightWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>CardGame</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como las reglas del juego y la obtención de las cartas (creación de objetos).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>CardGame</em> (ej. 3) depende del <strong class="red">número de subclases de cartas</strong>.</p>
</li>
<li>
<p>Se calcula como la suma de <strong class="red">la clase abstracta carta</strong> (ej. <em>Card</em>, 1) <strong class="red">más el número de subclases</strong> (ej. <em>StandardCard y WildCard</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongFlyweight.png" alt="AcoplamentoWrongFlyweight"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamentoWrongFlyweight2.png" alt="AcoplamentoWrongFlyweight2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>CardGame</em> (ej. 2) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">cantidad de métodos relativos para la gestión de cartas</strong> (ej. <em>getCard</em> con y sin parámetros, 2).</p>
</li>
<li>
<p>Su  resultado es de orden lineal, <strong class="red">O(n</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFlyweight.png" alt="GranularidadWrongFlyweight"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongFlyweight2.png" alt="GranularidadWrongFlyweight2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-11">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionFlyweight.svg" alt="itencionFlyweight" width="1414" height="985">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Flyweight/flyWeightFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad del juego incluye únicamente la solicitud de cartas</strong>, y otro, <strong class="green">fábrica de cartas, se responsabiliza por separado de crear una única carta de cada palo y valor para ser reutilizada por todos los juegos</strong>, lo cual reducirá el número de objetos utilizados</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="paragraph">
<p><strong class="green">Cohesión</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>CardGame</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en las reglas del juego, colaborando con las cartas suministradas por la fábrica.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>CardGame</em> (ej. 5) depende de la <strong class="green">fábrica de cartas y del tipo y número de subclases de cartas</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de la factoría de cartas</strong> (ej. <em>CardFactory</em>, 1) <strong class="green">más la clase que almacena el estado extrínseco</strong> (ej. <em>PlayingCard</em>, 1) <strong class="green">más la clase del tipo de carta</strong> (ej. <em>Card</em>, 1) <strong class="green">más el número de subclases</strong> (ej. <em>StandardCard y WildCard</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFlyweight.png" alt="AcoplamientoFineFlyweight"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineFlyweight2.png" alt="AcoplamientoFineFlyweight2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>CardGame</em> (ej. 3) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">cantidad de métodos relativos para la gestión de cartas</strong> (ej. <em>getCard</em> con y sin parámetros y <em>setCard</em>, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFlyweight.png" alt="GranularidadFineFlyweight"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineFlyweight2.png" alt="GranularidadFineFlyweight2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es promocionar la compartición para soportar un gran número de objetos de grano fino eficientemente.</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Aplicable cuando se cumplen <strong class="blue">todas las siguientes condiciones</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Se utilizan un gran número de <strong class="blue">objetos idénticos o casi idénticos, existiendo un alto coste de almacenamiento debido a la gran cantidad de objetos</strong>.</p>
</li>
<li>
<p>Para todos aquellos <strong class="blue">objetos casi idénticos, las partes diferentes pueden ser separadas de las partes similares</strong>, permitiendo la compartición de las partes comunes.</p>
<div class="ulist">
<ul>
<li>
<p>El <strong class="blue">estado intrínseco</strong> consiste en la información que es <strong class="blue">independiente del contexto, por lo que se puede compartir</strong>.</p>
</li>
<li>
<p>El <strong class="blue">estado extrínseco depende y varía con el contexto, por lo que no puede ser compartido</strong>. Los clientes son responsables de la transmisión del estado extrínseco cuando éste sea necesario.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Muchos grupos de objetos pueden ser reemplazados por relativamente pocos objetos compartidos una vez que se elimina el estado extrínseco</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>La extracción del estado extrínseco <strong class="blue">no ayudará a reducir los costos de almacenamiento si hay muchos tipos diferentes de estado extrínseco</strong>. Idealmente, el estado extrínseco puede ser calculado a partir de una estructura de objetos separada, con un requisito de almacenamiento mucho más pequeño.</p>
</li>
</ul>
</div>
</li>
<li>
<p>La aplicación <strong class="blue">no depende de la identidad de un objeto</strong>. Dado que los objetos pueden ser compartidos, las comprobaciones de identidad devolverán cierto para objetos conceptualmente distintos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-12">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralFlyweight.svg" alt="estructuraGeneralFlyweight" width="1313" height="673">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>FlyWeight</em></strong>: declara una clase abstracta o interfaz a través de la cual los pesos ligeros pueden recibir un estado extrínseco y actuar sobre él.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteFlyWeight</em></strong>: clase derivada de <em>FlyWeight</em> que implementa los métodos de la interfaz y permite almacenar el estado intrínseco, en caso de que lo haya. Un objeto <em>ConcreteFlyWeight</em> debe poder ser compartido, por lo que cualquier estado que almacene debe ser independiente del contexto del objeto concreto. Es decir, un objeto <em>ConcreteFlyWeight</em> no puede hacer suposiciones sobre el contexto en el que opera.</p>
</li>
<li>
<p><strong class="blue"><em>UnsharedConcreteFlyWeight</em></strong>: no todas las subclases de <em>FlyWeight</em> necesitan ser compartidas, ya que la interfaz <em>FlyWeight</em> permite la compartición, pero no fuerza a ella. Los objetos <em>UnsharedConcreteFlyWeight</em> suelen tener objetos <em>ConcreteFlyWeight</em> como hijos en algún nivel de la estructura de objetos.</p>
</li>
<li>
<p><strong class="blue"><em>FlyWeightFactory</em></strong>: clase para la creación y el control de los objetos <em>ConcreteFlyWeight</em>, que garantiza que éstos se compartan de manera adecuada. Cuando se solicita un <em>ConcreteFlyWeight</em>, la clase <em>FlyWeightFactory</em> proporciona una instancia concreta o crea una instancia nueva en caso de que no exista ninguna.</p>
<div class="ulist">
<ul>
<li>
<p>Habitualmente, la clase <em>FlyWeightFactory</em> utiliza un array asociativo por algún código para almacenar los objetos <em>ConcreteFlyWeight</em> disponibles.</p>
</li>
<li>
<p>Esto implica algún tipo de recuento de referencias o recogida de basura para el almacenamiento de un peso mosca cuando ya no es necesario. Sin embargo, si el número de pesos mosca es fijo y pequeño puede ser interesante mantenerlos de forma permanente.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que mantiene una referencia a los objetos <em>FlyWeight</em> y calcula o guarda el estado extrínseco de los mismos.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-11">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-11">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>No existen variaciones del patrón.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-12">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 55.5555%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><strong class="green">Ventajas</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se consigue un <strong class="green">ahorro de almacenamiento, cuyo volumen es una función de varios factores</strong>: la reducción en el número total de instancias lograda mediante la compartición; la cantidad de estado intrínseco por objeto; y si el estado extrínseco se calcula o se almacena.</p>
</li>
<li>
<p>Este ahorro en el caso del torneo de cartas sería el siguiente:</p>
<div class="ulist">
<ul>
<li>
<p>Almacenamiento <em>Wrong</em></p>
<div class="ulist">
<ul>
<li>
<p>El número de objetos carta estándar en la clase <em>Scenario</em> (ej. 104) será el producto del número de juegos simultáneos (ej. 2) por el número de cartas estándar (ej. <em>StandardCard</em>, 52). Su resultado es de orden cuadrático, <strong class="green">O(n2)</strong>.</p>
</li>
<li>
<p>Cada carta estándar almacena 3 atributos: suit, value e <em>isFacedUp</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Almacenamiento <em>Fine</em></p>
<div class="ulist">
<ul>
<li>
<p>El número de objetos carta estándar en la clase <em>Scenario</em> (ej. 52) será el número de cartas estándar (ej. <em>StandardCard</em>, 52). Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
<li>
<p>Cada carta estándar almacena 2 atributos: suit y value.</p>
</li>
<li>
<p>Para almacenar el estado extrínseco de las cartas, el número de objetos en la clase <em>Scenario</em> (ej. 104) será el producto del número de juegos simultáneos (ej. 2) por el número de cartas (ej. <em>PlayingCard</em>, 52). Su resultado es de orden cuadrático, <strong class="green">O(n2)</strong>.</p>
</li>
<li>
<p>Cada objeto almacena 1 atributo: <em>isFacedUp</em>.</p>
</li>
<li>
<p>En la siguiente gráfica se compara el número de atributos que es necesario almacenar en ambos casos:</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AtributosWrongFlayweight.png" alt="AtributosWrongFlayweight"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AtributosWrongFlayweight2.png" alt="AtributosWrongFlayweight2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="red">Desventajas</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p>Puede introducir costes de tiempo de ejecución asociados con la transferencia, búsqueda y/o computación del estado extrínseco.</p>
</li>
<li>
<p>El acoplamiento entre clases empeora al introducirse nuevas clases requeridas por el patrón para facilitar la compartición.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-11">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Granularidad</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proxy">Proxy</h3>
<div class="sect3">
<h4 id="problema-13">Problema</h4>
<div class="sect4">
<h5 id="motivación-12">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">jefe se responsabiliza de atender las peticiones de sus empleados</strong>, concesión de vacaciones, subidas de sueldos, … <strong class="red">pero puede necesitar ausentarse, en cuyo caso dejará desatendidas sus responsabilidades</strong>. Esto provoca una dependencia innecesaria en la localización del jefe para que todo siga su curso</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionProxy.svg" alt="motivacionProxy" width="630" height="317">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Proxy/proxyWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Employee</em> es adecuada puesto que asume una única responsabilidad, centrada en sus responsabilidades.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Employee</em> (ej. 1) depende del <strong class="red">tipo del jefe</strong> (ej. <em>Boss</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongProxy.png" alt="AcoplamientoWrongProxy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongProxy1.png" alt="AcoplamientoWrongProxy1"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Employee</em> (ej. 4) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>requestHolidays, requestSalaryIncrease, requestDoctorAppointment y requestInvoiceRefund</em>, 4).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadProxy.png" alt="GranularidadProxy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadProxy2.png" alt="GranularidadProxy2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-12">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em><strong class="green">Si se nombra a un representante en ausencia del jefe</strong> para que centralice las peticiones de los empleados, y las responda siguiendo las instrucciones del jefe, <strong class="green">las responsabilidades del jefe no quedarán desatendidas</strong> y se conseguirá una independencia de la localización del jefe</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionProxy.svg" alt="intencionProxy" width="876" height="755">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Proxy/proxyFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Employee</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en sus responsabilidades.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Employee</em> (ej. 1) depende del <strong class="green">tipo del jefe</strong> (ej. <em>Boss</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineProxy.png" alt="AcoplamientoFineProxy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineProxy2.png" alt="AcoplamientoFineProxy2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Employee</em> (ej. 4) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>requestHolidays, requestSalaryIncrease, requestDoctorAppointment y requestInvoiceRefund</em>, 4).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineProxy.png" alt="GranularidadFineProxy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineProxy2.png" alt="GranularidadFineProxy2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es proporcionar un sustituto o representante de otro objeto para controlar el acceso al mismo</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Existe una <strong class="blue">necesidad de una referencia a un objeto más versátil o sofisticada que un simple puntero</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Un <em>Proxy</em> virtual permite <strong class="blue">crear objetos costosos por encargo</strong>, para diferir todo el coste de su creación e inicialización hasta que sea realmente necesario usarlo.</p>
</li>
<li>
<p>Un <em>Proxy</em> remoto proporciona un <strong class="blue">representante local de un objeto situado en otro espacio de direcciones</strong>.</p>
</li>
<li>
<p>Un <em>Proxy</em> <strong class="blue">de protección controla el acceso al objeto original</strong>, lo cual resulta útil cuando los objetos deberían tener diferentes permisos de acceso.</p>
</li>
<li>
<p>Una <strong class="blue">referencia inteligente es un Proxy de un simple puntero que lleva a cabo operaciones adicionales cuando se accede a un objeto</strong>: contar el número de referencias para poder liberar el objeto si no existen referencias a él, cargar un objeto en memoria cuando es referenciado por primera vez, comprobar que se bloquea el objeto real antes de acceder a él para garantizar que no pueda ser modificado por ningún otro objeto, …</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-13">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Subject</em></strong>: declara una interfaz común para <em>RealSubject</em> y <em>Proxy</em>, de modo que pueda utilizarse un <em>Proxy</em> en cualquier sitio en el que se espere un <em>RealSubject</em>.</p>
</li>
<li>
<p><strong class="blue"><em>RealSubject</em></strong>: clase que implementa la interfaz Subject y define el objeto real representado por el objeto <em>Proxy</em>.</p>
</li>
<li>
<p><strong class="blue"><em>Proxy</em></strong>: clase que implementa la interfaz Subject y puede sustituir al objeto <em>RealSubject</em>, redirigiendo las llamadas de los métodos a éste cuando sea apropiado.</p>
<div class="ulist">
<ul>
<li>
<p>Mantiene una referencia que le permite acceder a <em>RealSubject</em>.</p>
</li>
<li>
<p>Los <em>Proxy</em> virtuales pueden guardar información adicional sobre <em>RealSubject</em>, por lo que pueden retardar el acceso al mismo cuando se recibe una petición.</p>
</li>
<li>
<p>Los <em>Proxy</em> remotos son responsables de codificar una petición para enviársela a <em>RealSubject</em> cuando éste se encuentra en un espacio de direcciones diferente.</p>
</li>
<li>
<p>Los <em>Proxy</em> de protección comprueban que el Director tenga los permisos de acceso necesarios para realizar una petición a <em>RealSubject</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralProxy.svg" alt="estructuraGeneralProxy" width="432" height="570">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-12">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-12">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Si una clase <em>Proxy</em> puede <strong class="blue">tratar con su sujeto sólo a través de una interfaz abstracta</strong>, no hay necesidad de hacer una clase <em>Proxy</em> para cada clase <em>RealSubject</em> puesto que el <em>Proxy</em> puede tratar de manera uniforme a todas las clases <em>RealSubject</em>. Esta variación <strong class="blue">no es posible cuando los objetos Proxy van a crear instancias de <em>RealSubject</em></strong>, ya que en ese caso necesitan conocer la clase concreta.</p>
</li>
<li>
<p>Para implementar algunos tipos de <em>Proxy</em> en los que éste se comporta igual que un puntero, se puede aprovechar en lenguajes como <strong class="blue">C++ la posibilidad de sobrecarga del operador de acceso a miembros</strong>, lo cual permite realizar tareas adicionales cada vez que se desreferencia un objeto. Esto no es posible cuando se necesita saber exactamente qué operación es llamada ya que la sobrecarga el operador de acceso a miembros no permite hacer esta distinción.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-13">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Introduce un <strong class="green">nivel de indirección al acceder a un objeto</strong>, lo cual tiene muchos posibles usos dependiendo del tipo de <em>Proxy</em>:</p>
<div class="ulist">
<ul>
<li>
<p>En el caso del <em>Proxy</em> virtual permite <strong class="green">diferir la creación del objeto real</strong> hasta que éste es necesario. Además, permite realizar optimizaciones sobre cuándo y cómo crear el objeto real.</p>
</li>
<li>
<p>En el caso del <em>Proxy</em> remoto permite <strong class="green">ocultar el hecho de que el objeto real reside en un espacio de direcciones diferente</strong>, es decir, se puede ocultar la red al cliente.</p>
</li>
<li>
<p>En el caso del <em>Proxy</em> de protección se puede <strong class="green">establecer el control de acceso y realizar tareas de mantenimiento adicionales cuando se accede al objeto</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un inconveniente potencial del <em>Proxy</em> remoto es que, como el cliente <strong class="red">no sabe que está trabajando sobre una red</strong>, podría no estar preparado para las <strong class="red">penalizaciones de tiempo que puedan ocurrir</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-12">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Abstracción</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de las representaciones o implementaciones de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="patrones-de-comportamiento">Patrones de Comportamiento</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/PatronComportamiento.svg" alt="PatronComportamiento" width="1559" height="363">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/chainOfResponsibility.png" alt="chainOfResponsibility"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/command.png" alt="command"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/interpreter.png" alt="interpreter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/iterator.png" alt="iterator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/mediator.png" alt="mediator"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/memento.png" alt="memento"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/observer.png" alt="observer"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/state.png" alt="state"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/strategy.png" alt="strategy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/templateMethod.png" alt="templateMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/visitor.png" alt="visitor"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Tienen que ver con <strong class="green">algoritmos</strong> y con la <strong class="green">asignación de responsabilidades a objetos</strong> para describir el flujo de control complejo que es difícil de seguir en tiempo de ejecución, lo que permite olvidarse de éste para concentrarse simplemente en el modo en que interconectan los objetos.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Encapsular aquello que puede variar</strong> es el tema de muchos patrones de comportamiento. Cuando un determinado aspecto de un programa cambia con frecuencia, estos patrones definen un objeto que encapsula dicho aspecto. La mayoría de los patrones tienen dos tipos de objetos: el nuevo objeto que encapsula el aspecto y el objeto existente que usa el nuevo objeto creado. Normalmente, si no fuera por el patrón, la funcionalidad de los nuevos objetos sería una parte integral de los existentes.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="chain-of-responsibility">Chain of Responsibility</h3>
<div class="sect3">
<h4 id="problema-14">Problema</h4>
<div class="sect4">
<h5 id="motivación-13">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionChainOfResponsibility.svg" alt="motivacionChainOfResponsibility" width="2494" height="585">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/ChainOfResponsibility/chainOfResponsibilityWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">alumno se responsabiliza de interponer una reclamación cuando tiene alguna queja</strong>, sobre un examen o una regla de un departamento o …, <strong class="red">pero dependiendo del tipo de reclamación, deberá conocer y discernir a qué miembro de la cadena de responsabilidad debe presentar la reclamación</strong>, profesor o coordinador de la asignatura o director de departamento o jefe de estudios o director de escuela o rector o defensor del alumno …</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos miembros de la cadena de responsabilidad</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Student</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como discernir a qué miembro de la cadena de responsabilidad debe presentar cada reclamación.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Student</em> (ej. 7) depende del número de <strong class="red">miembros de la cadena de responsabilidad</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de las clases miembros de la cadena de responsabilidad</strong> (ej. <em>Professor</em>, <em>SubjectCoordinator</em>, <em>DepartmentHeadMaster</em>, …, 7).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongChainOfResponsibility.png" alt="AcoplamientoWrongChainOfResponsibility"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongChainOfResponsibility2.png" alt="AcoplamientoWrongChainOfResponsibility2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de los métodos de la clase <em>Student</em> (ej. 7) depende del <strong class="red">número de miembros de la cadena de responsabilidad</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los miembros de la cadena de responsabilidad</strong> (ej. <em>Professor, SubjectCoordinator, DepartmentHeadMaster</em>, …, 7).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongCainOfResponsibility.png" alt="GranularidadWrongCainOfResponsibility"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongCainOfResponsibility2.png" alt="GranularidadWrongCainOfResponsibility2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-13">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionChainOfResponsibility.svg" alt="intencionChainOfResponsibility" width="2494" height="498">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/ChainOfResponsibility/chainOfResponsibilityFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de estudiante incluye únicamente la interposición de la reclamación ante el primer miembro de la cadena de responsabilidad</strong> y otros, <strong class="green">miembros de la cadena, se responsabilizan por separado de elevar la reclamación al siguiente miembro de la cadena cuando no pueden/saben resolverla</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Student</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la interposición de la reclamación, colaborando únicamente con el servicio del primer miembro de la cadena de responsabilidad, que a su vez se apoyará en el servicio prestado por el resto de miembros de la cadena para elevar la reclamación cuando sea preciso.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Student</em> (ej. 1) <strong class="green">depende del tipo de la clase resolutora</strong> (ej. <em>ClaimSolver</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineChainOfResponsibility.png" alt="AcoplamientoFineChainOfResponsibility"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineChainOfResponsibility2.png" alt="AcoplamientoFineChainOfResponsibility2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="green">Granularidad</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>La granularidad de los métodos de la clase <em>Student</em> (ej. 1) depende del <strong class="green">tipo de la clase resolutora</strong> (ej. <em>ClaimSolver</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineCainOfresponsibility.png" alt="GranularidadFineCainOfresponsibility"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineCainOfresponsibility2.png" alt="GranularidadFineCainOfresponsibility2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es evitar acoplar al emisor de una petición a su receptor, dando a más de un objeto la posibilidad de responder la petición. Se basa en encadenar los objetos receptores y pasar la petición a lo largo de la cadena hasta que es procesada por algún objeto</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Hay <strong class="blue">más de un objeto que puede manejar una petición y el manejador no se conoce a priori</strong>, sino que debería determinarse automáticamente.</p>
<div class="ulist">
<ul>
<li>
<p>Se quiere <strong class="blue">enviar una petición a un objeto entre varios sin especificar explícitamente el receptor</strong>.</p>
</li>
<li>
<p>El <strong class="blue">conjunto de objetos que pueden tratar una petición debería ser especificado dinámicamente</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-14">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Handler</em></strong>: define una interfaz para tratar las peticiones.</p>
<div class="ulist">
<ul>
<li>
<p>Opcionalmente implementa el enlace al sucesor.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteHandler</em></strong>: clase derivada de <em>Handler</em> que trata las peticiones de las que es responsable. Si puede manejar la petición, lo hace; en caso contrario, la reenvía a su sucesor.</p>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que inicia la petición a un objeto _ConcreteHandler- de la cadena, habitualmente, el primero.</p>
<div class="ulist">
<ul>
<li>
<p>No tiene conocimiento explícito de quién tratará la petición – se dice que la petición tiene un receptor implícito.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGenralChainOfResponsibility.svg" alt="estructuraGenralChainOfResponsibility" width="899" height="459">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-13">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-13">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Para reenviar la petición a lo largo de la cadena, y para garantizar que los receptores permanecen implícitos, <strong class="blue">cada objeto de la cadena comparte una interfaz común para procesar peticiones y para acceder a su sucesor en la cadena</strong>.</p>
</li>
<li>
<p>Hay <strong class="blue">dos formas</strong> de implementar la cadena sucesora:</p>
<div class="ulist">
<ul>
<li>
<p>Utilizar <strong class="blue">referencias a objetos existentes</strong>. Por ejemplo, las referencias al padre en una jerarquía de parte-todo pueden definir el sucesor de una parte. Usar los enlaces existentes es posible cuando éstos permiten la cadena que necesitamos. <strong class="blue">Nos evita tener que definir explícitamente nuevos enlaces</strong> y ahorra espacio.</p>
</li>
<li>
<p>Definir nuevos enlaces. Si no hay referencias preexistentes para definir una cadena, o los que existen no reflejan la cadena de responsabilidad que necesita nuestra aplicación, habrá que definir enlaces nuevos. En este caso, <strong class="blue"><em>Handler</em> no sólo define la interfaz para las peticiones, sino que normalmente también se encarga de mantener el sucesor</strong>. Eso permite que <em>Handler</em> proporcione una <strong class="blue">implementación predeterminada de <em>handleRequest</em> que reenvíe la petición al sucesor (si hay alguno)</strong>. Si una subclase de ConcreteHandler no está interesada en dicha petición, no tiene que redefinir la operación de reenvío, puesto que la implementación predeterminada la reenvía incondicionalmente.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Hay varias <strong class="blue">opciones para representar las peticiones</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>En su <strong class="blue">forma más simple</strong>, una petición es una <strong class="blue">invocación a una operación insertada en el código</strong>. Esto resulta conveniente y seguro, pero entonces sólo se pueden reenviar el conjunto prefijado de peticiones que define la clase <em>Handler</em>.</p>
</li>
<li>
<p>Una <strong class="blue">alternativa más flexible</strong> consiste en usar una <strong class="blue">única función <em>handleRequest</em> que reciba un código de petición como parámetro</strong>, lo cual permite un número arbitrario de peticiones. Pero requiere que el emisor y el receptor se pongan de acuerdo sobre cómo debe codificarse la petición y se necesitan sentencias condicionales para despachar la petición en función de su código. Uno de los principales inconvenientes de este enfoque es que <strong class="blue">no hay un modo seguro de pasar los parámetros con respecto al tipo, por lo que éstos deben ser empaquetados y desempaquetados manualmente</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Una alternativa para resolver el problema del paso de parámetros consiste en utilizar <strong class="blue">objetos aparte para las peticiones que empaqueten los parámetros de la petición</strong>. Una clase Petición puede representar peticiones explícitamente, y se pueden definir nuevos tipos de peticiones mediante herencia. Las subclases pueden definir diferentes parámetros. Los manejadores deben conocer el tipo de petición para acceder a estos parámetros.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-14">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Libera a un objeto de tener que saber qué otro objeto maneja una petición</strong>. Un objeto sólo tiene que saber que una petición será manejada “de forma apropiada”. Ni el receptor ni el emisor se conocen explícitamente entre ellos, y un objeto de la cadena tampoco tiene que conocer la estructura de ésta.</p>
<div class="ulist">
<ul>
<li>
<p>Como resultado, se <strong class="green">puede simplificar las interconexiones entre objetos</strong>. En vez de que los objetos mantengan referencias a todos los posibles receptores, solo tienen una única interfaz a su sucesor.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Ofrece una <strong class="green">flexibilidad añadida para repartir responsabilidades entre objetos. Se pueden añadir o cambiar responsabilidades para tratar una petición modificando la cadena en tiempo de ejecución</strong>. Esto se puede combinar con la herencia para especializar los manejadores estáticamente.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Dado que las peticiones no tienen un receptor explícito, <strong class="red">no hay garantía de que sean manejadas</strong> ya que la petición puede alcanzar el final de la cadena sin haber sido procesada.</p>
</li>
<li>
<p>En caso de haber un <strong class="red">gran número de mensajes y muchas etapas de redireccionamiento en la cadena</strong>, podría tener lugar un alto intercambio baldío de mensajes, por lo que el <strong class="red">rendimiento del sistema podría degradarse</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-13">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de operaciones concretas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Relacionar Estructuras del Tiempo de Compilación y de Ejecución</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="command">Command</h3>
<div class="sect3">
<h4 id="problema-15">Problema</h4>
<div class="sect4">
<h5 id="motivación-14">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionCommand.svg" alt="motivacionCommand" width="1075" height="777">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Command/commandWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>En un restaurante hay distintos tipos de empleados: camareros, cocineros, bármanes, … Un <strong class="red">camarero se responsabiliza de atender las comandas de un cliente con el mismo algoritmo</strong>, informar al cliente de las opciones disponibles en la carta y sus ingredientes, anotar la comanda, dirigirse al interior (a la cocina o a la barra o …) para encargar la comanda al empleado adecuado (que sepa prepararla o …), esperar a que prepare la comanda, servir la comanda al cliente, … <strong class="red">pero dependiendo de la opción de la carta seleccionada por el cliente, solicitará distintas preparaciones a distintos tipos de empleado, cocinero o barman o</strong> …</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas opciones en la carta</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Waiter</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la localización del tipo de empleado adecuado para preparar la comanda y las preparaciones necesarias para cada opción de la carta.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Waiter</em> (ej. 2) depende del <strong class="red">número de tipos de empleados encargados de preparar comandas</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma del número de tipos de empleados encargados de preparar comandas</strong> (ej. Chef y Barman, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongCommand.png" alt="AcoplamientoWrongCommand"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongCommand2.png" alt="AcoplamientoWrongCommand2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Waiter</em> (ej. 5) depende de la cantidad de métodos requeridos para <strong class="red">las distintas opciones de la carta</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase para las distintas opciones de la carta</strong> (ej. <em>serveDishOfTheDay, serveCombinationPlate, serveVermouth y serveBloodyMary</em>, 4) <strong class="red">más la localización del empleado encargado de preparar cada comanda</strong> (<em>generateRandomEmployeeId</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongCommand.png" alt="GranularidadWrongCommand"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongCommand2.png" alt="GranularidadWrongCommand2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-14">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionCommand.svg" alt="intencionCommand" width="1680" height="1159">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Command/commandFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de camarero incluye únicamente la colocación de la comanda en un lugar acordado y la posterior recogida de la comanda preparada para servírsela al cliente</strong>, y otros, <strong class="green">cocineros y bármanes, se responsabilizan por separado de escoger la comanda que van a preparar según sus condiciones y dejarla preparada en el lugar acordado</strong>, habrá dos equipos de trabajo independientes y mucho menos trabajo para el camarero.</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase Waiter es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la gestión de las comandas de cara al cliente, colaborando con el servicio del cocinero/barman.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Waiter</em> (ej. 1) depende del <strong class="green">tipo de la comanda</strong> (ej. <em>Order</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineCommand.png" alt="AcoplamientoFineCommand"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineCommand2.png" alt="AcoplamientoFineCommand2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Waiter</em> (ej. 1) depende del tipo de la <strong class="green">comanda</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>serve</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineCommand.png" alt="GranularidadFineCommand"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineCommand2.png" alt="GranularidadFineCommand2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es encapsular una petición como un objeto, permitiendo de ese modo parametrizar clientes con diferentes peticiones, colas o solicitudes registradas, y apoyar las operaciones de deshacer</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Parametrizar objetos con una acción a realizar</strong>. Los objetos <em>Command</em> son un sustituto orientado a objetos para las funciones <em>callback</em>.</p>
</li>
<li>
<p><strong class="blue">Especificar, poner en cola y ejecutar peticiones en diferentes instantes del tiempo</strong>. Un objeto <em>Command</em> puede tener un tiempo de vida independiente de la petición original. Si se puede representar el receptor de una petición en una forma independiente del espacio de direcciones, entonces se puede transferir un objeto <em>Command</em> con la petición a un proceso diferente y llevar a cabo la petición allí, desacoplando la fuente de una petición del objeto que la cumple.</p>
</li>
<li>
<p><strong class="blue">Permitir deshacer</strong>. La operación execute de <em>Command</em> puede guardar en el propio comando el estado que anule sus efectos. Debe añadirse a la interfaz <em>Command</em> una operación <em>undo</em> que anule los efectos de una llamada anterior a <em>execute</em>. Los comandos ejecutados se guardan en una lista que hace las veces de historial. Se pueden lograr niveles ilimitados de deshacer y repetir recorriendo dicha lista hacia atrás y hacia adelante llamando respectivamente a las operaciones undo y <em>execute</em>.</p>
</li>
<li>
<p><strong class="blue">Permitir registrar los cambios de manera que se puedan volver a aplicar en caso de caída del sistema</strong>. Aumentando la interfaz de <em>Command</em> con operaciones para cargar y guardar se puede mantener un registro persistente de los cambios. Recuperarse de una caída implica volver a cargar desde el disco los comandos guardados y volver a ejecutarlas con la operación <em>execute</em>.</p>
</li>
<li>
<p><strong class="blue">Estructurar un sistema alrededor de operaciones de alto nivel construidas sobre operaciones básicas</strong>. Esta estructura es común en los sistemas de información que permiten transacciones, que encapsulan un conjunto de cambios sobre unos datos. El patrón <em>Command</em> ofrece un modo de modelar transacciones. Los comandos tienen una interfaz común, permitiendo así invocar a todas las transacciones del mismo modo. El patrón también facilita extender el sistema con nuevas transacciones.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-15">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Command</em></strong>: declara una interfaz para ejecutar una operación.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteCommand</em></strong>: clase derivada de <em>Command</em> que define un enlace a un objeto <em>Receiver</em>, y que implementa el método para ejecutar una operación de la interfaz <em>Command</em> invocando la correspondiente operación u operaciones de <em>Receiver</em>.</p>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que crea un objeto <em>ConcreteCommand</em> y establece su <em>Receiver</em>.</p>
</li>
<li>
<p><strong class="blue"><em>Invoker</em></strong>: clase que solicita a través de la interfaz <em>Command</em> que se ejecute la operación.</p>
</li>
<li>
<p><strong class="blue"><em>Receiver</em></strong>: clase que sabe cómo llevar a cabo las operaciones asociadas a una petición.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralCommand.svg" alt="estructuraGeneralCommand" width="627" height="705">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-14">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-14">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Un comando puede tener un <strong class="blue">rango diverso de habilidades</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Se puede <strong class="blue">limitar a definir un enlace entre un receptor y las acciones que lleva a cabo la petición</strong>.</p>
</li>
<li>
<p>Se puede ocupar de <strong class="blue">implementar todas las acciones ella misma sin delegar para nada en el receptor</strong>. Este último extremo resulta útil cuando queremos definir comandos que sean independientes de las clases existentes, cuando no existe ningún receptor adecuado o cuando un comando conoce implícitamente a su receptor.</p>
</li>
<li>
<p>En <strong class="blue">algún punto entre estos dos extremos se encuentran los comandos que tienen el conocimiento suficiente para encontrar dinámicamente sus receptores</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Los comandos pueden permitir <strong class="blue">capacidades de deshacer y repetir si proveen un modo de revertir su ejecución</strong>. Una clase <em>ConcreteCommand</em> podría necesitar <strong class="blue">almacenar información de estado adicional</strong> para hacer esto. Este estado puede incluir:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">El objeto <em>Receiver</em></strong>, el cual es quien realmente realiza las operaciones en respuesta a la petición;</p>
</li>
<li>
<p><strong class="blue">Los argumentos de la operación</strong> llevada a cabo por <em>Receiver</em>; y</p>
</li>
<li>
<p><strong class="blue">Cualquier valor original de Receiver que pueda cambiar como resultado de manejar la petición</strong>. El receptor debe proporcionar operaciones que permitan al comando devolver el receptor a su estado anterior.</p>
</li>
<li>
<p>La <strong class="blue">histéresis</strong> (tendencia de un material a conservar una de sus propiedades, en ausencia del estímulo que la ha generado) puede ser <strong class="blue">un problema a la hora de garantizar un mecanismo de deshacer/rehacer fiable</strong>, que preserve la semántica. Los errores se pueden acumular a medida que se ejecutan y deshacen los comandos repetidamente, de manera que el estado de una aplicación finalmente difiera de sus valores originales. Por tanto, puede ser necesario guardar más información con el comando para asegurar que los objetos son devueltos a su estado original</p>
</li>
</ul>
</div>
</li>
<li>
<p>Se pueden permitir <strong class="blue">diferentes niveles de deshacer/rehacer</strong>. Para permitir un nivel, sólo es necesario guardar el último comando que se ejecutó. Para múltiples niveles es necesario <strong class="blue">guardar un historial de los comandos que han sido ejecutados</strong>, donde la máxima longitud de la lista determina el número de niveles permitidos. Recorrer la lista hacia atrás deshaciendo los comandos cancela sus efectos; recorrerla hacia delante ejecutando los comandos los rehace.</p>
</li>
<li>
<p><strong class="blue">Un comando anulable puede que necesite ser copiada antes de ser guardada en el historial. Puesto</strong> que el objeto <em>Command</em> que llevó a cabo la petición original más tarde ejecutará otras peticiones, la copia es necesaria <strong class="blue">para distinguir entre diferentes invocaciones del mismo comando</strong> si su estado puede variar entre invocaciones sucesivas. En caso de que el estado del comando no cambie tras su ejecución no es necesario realizar la copia, basta con guardar en el historial una referencia al comando.</p>
</li>
<li>
<p>Se pueden ensamblar comandos en un <strong class="blue">comando compuesto</strong> (<em>MacroCommand</em>).</p>
<div class="ulist">
<ul>
<li>
<p>Este tipo de comandos <strong class="blue">no tienen ningún receptor explícito</strong>, sino que son los comandos que contiene las que definen su propio receptor.</p>
</li>
<li>
<p>Si el <em>MacroCommand</em> <strong class="blue">soporta la función deshacer, todos los comandos internos también deben soportarla</strong>. Cuando se llama a la función para invertir el comando, esta llamada debe ser redirigida a los hijos en el orden inverso de la operación <em>execute</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-15">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Desacopla el objeto que invoca la operación de aquél que tiene el conocimiento para ejecutarla</strong>.</p>
</li>
<li>
<p><strong class="green">Permite reemplazar objetos</strong> <em>Command</em> y <em>Receiver</em> en tiempo de ejecución.</p>
</li>
<li>
<p>Los comandos son <strong class="green">objetos de primera clase. Pueden ser manipulados y extendidos como cualquier otro objeto</strong>.</p>
</li>
<li>
<p>Es <strong class="green">fácil añadir nuevos comandos</strong>, ya que no hay que cambiar las clases existentes.</p>
</li>
<li>
<p>Se pueden ensamblar comandos en un <strong class="green">comando compuesto</strong> para ejecutar una secuencia de comandos.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-14">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Tamaño</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de operaciones concretas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="interpreter">Interpreter</h3>
<div class="sect3">
<h4 id="problema-16">Problema</h4>
<div class="sect4">
<h5 id="motivación-15">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionInterpreter.svg" alt="motivacionInterpreter" width="1450" height="798">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Interpreter/interpreterWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">operador se responsabiliza de manejar un aparato complejo siguiendo una serie de protocolos</strong>, protocolo de mañana o de tarde o …, <strong class="red">los cuales constan de diversas combinaciones de diversos tipos de operaciones simples y/o compuestas, que debe saber ejecutar manualmente</strong></em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos protocolos</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Operator</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como el conocimiento y la ejecución manual de los diversos tipos de operaciones simples y/o compuestas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase Operator (ej. 1) depende del <strong class="red">tipo de la máquina</strong> (ej. <em>Machine</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamintoWrongInterpreter.png" alt="AcoplamintoWrongInterpreter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamintoWrongInterpreter2.png" alt="AcoplamintoWrongInterpreter2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Operator</em> (ej. 8) depende de la <strong class="red">cantidad de métodos requerido</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase para los distintos tipos de protocolos</strong> (ej. <em>performMorningProtocol</em> y <em>performEveningProtocol</em>, 2) <strong class="red">más el número de tipos de operaciones (simples y/o compuestas) de las que constan</strong> (ej. <em>performCompScriptForStarting, performIterScriptForTasksDE, performIterScriptForTaskF, performIterScriptForTasksFED, performCompScriptForSwitchingOff y performOperation</em>, 6).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongInterpreter.png" alt="GranularidadWrongInterpreter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongInterpreter2.png" alt="GranularidadWrongInterpreter2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-15">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionInterpreter.svg" alt="itencionInterpreter" width="1740" height="807">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Interpreter/interpreterFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de operador incluye únicamente la solicitud de ejecución automática del protocolo</strong> (protocolo de mañana, protocolo de tarde, …) y otros, <strong class="green">scripts, se responsabilizan por separado de cómo se interpretan los protocolos en operaciones simples y/o compuestas</strong>, ninguna clase será compleja y se evitará la tendencia a crecer.</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Operator</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la ejecución manual de los diversos tipos de scripts.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Operator</em> (ej. 2) depende del <strong class="green">tipo de la máquina</strong> (ej. <em>Machine</em>, 1) y <strong class="green">del tipo del script</strong> (ej. <em>Script</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineInterpreter.png" alt="AcoplamientoFineInterpreter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineInterpreter2.png" alt="AcoplamientoFineInterpreter2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Operator</em> (ej. 1) depende del script.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>performProtocol</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineInterpreter.png" alt="GranularidadFineInterpreter"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineInterpreter2.png" alt="GranularidadFineInterpreter2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es, dado un lenguaje, definir una representación de su gramática junto con un intérprete que utiliza la representación para interpretar sentencias del lenguaje</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Hay un <strong class="blue">lenguaje que interpretar</strong> y se pueden representar las sentencias del lenguaje como árboles sintácticos abstractos.</p>
</li>
<li>
<p>Hay un <strong class="blue">tipo de problemas que ocurren con cierta frecuencia, y es posible expresar las apariciones de esos problemas como instrucciones de un lenguaje simple</strong>, para el cual se puede construir un intérprete que sea capaz de resolver estos problemas mediante la interpretación de dichas instrucciones.</p>
</li>
<li>
<p>El patrón <em>Interpreter</em> funciona <strong class="blue">mejor</strong> cuando:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">La gramática es simple</strong>. Para gramáticas complejas, la jerarquía de clases de la gramática se vuelve grande e inmanejable. Herramientas como los generadores de analizadores sintácticos constituyen una alternativa mejor en estos casos, ya que pueden interpretar expresiones sin necesidad de construir árboles sintácticos abstractos, lo que puede ahorrar espacio y, posiblemente, tiempo.</p>
</li>
<li>
<p><strong class="blue">La eficiencia no es una preocupación crítica</strong>. Los intérpretes más eficientes normalmente no se implementan interpretando árboles de análisis sintácticos directamente, sino que primero los traducen a algún otro formato. Por ejemplo, las expresiones regulares suelen transformarse en máquinas de estados. Pero incluso en ese caso, el traductor puede implementarse con el patrón <em>Interpreter</em>, de modo que éste sigue siendo aplicable.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-16">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralInterpreter.svg" alt="estructuraGeneralInterpreter" width="536" height="480">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>AbstractExpression</em></strong>: declara la interfaz para interpretar, que es común a todos los nodos del árbol sintáctico abstracto.</p>
</li>
<li>
<p><strong class="blue"><em>TerminalExpression</em></strong>: clase derivada de <em>AbstractExpression</em> que implementa la interfaz para interpretar asociada con los símbolos terminales de la gramática.</p>
<div class="ulist">
<ul>
<li>
<p>Se necesita una instancia de esta clase para cada símbolo terminal de una expresión.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>NonTerminalExpression</em></strong>: clase derivada de <em>AbstractExpression</em> que define el comportamiento de los objetos asociados con los símbolos no terminales de la gramática, es decir, para las reglas de la gramática, que pueden estar formadas a su vez por otras reglas o por expresiones terminales.</p>
<div class="ulist">
<ul>
<li>
<p>Se necesita una instancia de esta clase para cada regla de la gramática.</p>
</li>
<li>
<p>Mantiene variables de instancia de tipo AbstractExpression para cada uno de los símbolos que contiene la regla que representa.</p>
</li>
<li>
<p>Implementa la interfaz para interpretar asociada con los símbolos no terminales de la gramática. Normalmente, esta implementación consiste en llamarse a sí misma recursivamente sobre las variables de instancia que representa.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Context</em></strong>: clase que contiene la información que es global al intérprete.</p>
</li>
<li>
<p><strong class="blue"><em>Director</em></strong>: clase que construye o recibe un árbol sintáctico abstracto que representa una determinada sentencia del lenguaje definido por la gramática, y que invoca a la operación de interpretar con el contexto adecuado.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-15">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-15">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>El patrón <em>Interpreter</em> <strong class="blue">no especifica cómo crear un árbol sintáctico abstracto ni se ocupa de llevar a cabo el análisis sintáctico</strong>. El árbol sintáctico abstracto puede ser creado mediante un analizador sintáctico dirigido por una tabla, mediante un analizador sintáctico (normalmente recursivo descendente) hecho a mano o directamente por el <em>Director</em>.</p>
</li>
<li>
<p>En caso de que se vaya a <strong class="blue">crear un intérprete que realice múltiples operaciones sobre los árboles sintácticos abstractos</strong>, para evitar definir estas operaciones en cada clase de la gramática, será <strong class="blue">preferible utilizar el patrón <em>Visitor</em></strong>.</p>
</li>
<li>
<p>En aquellas gramáticas cuyas <strong class="blue">sentencias tengan muchas repeticiones de uno o varios símbolos terminales, puede ser beneficioso compartir una única copia</strong> de dichos símbolos. Las gramáticas de los programas software son buenos ejemplos de ello.</p>
<div class="ulist">
<ul>
<li>
<p>Los <strong class="blue">nodos terminales</strong> generalmente <strong class="blue">no guardan información sobre su posición</strong> en el árbol sintáctico abstracto.</p>
</li>
<li>
<p>Los <strong class="blue">nodos padre</strong> les pasan <strong class="blue">cualquier información de contexto que necesiten para llevar a cabo la interpretación</strong>, incluida su posición en el árbol sintáctico abstracto.</p>
</li>
<li>
<p>Por tanto, se da una distinción entre <strong class="blue">estado compartido</strong> (intrínseco) y <strong class="blue">estado recibido</strong> (extrínseco), que permite utilizar el patrón <em>FlyWeight</em>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-16">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El uso de clases para representar las reglas de la gramática <strong class="green">facilita realizar cambios o extensiones de ésta mediante herencia</strong>. Esto permite <strong class="green">modificar incrementalmente las expresiones existentes y definir otras nuevas como variaciones de las antiguas</strong>.</p>
</li>
<li>
<p><strong class="green">Permite incluir nuevos métodos en la interfaz Expression para añadir nuevas maneras de interpretar expresiones aumentando la funcionalidad</strong>. Para conseguir mayor flexibilidad sin afectar las clases de la gramática se recomienda considerar la utilización del patrón <em>Visitor</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Las <strong class="red">gramáticas complejas con muchas reglas son difíciles de mantener</strong>, ya que el patrón Interpreter define al menos una clase para cada regla de la gramática (las reglas que se hayan definido usando BNF<sup>3</sup>  pueden necesitar varias clases). Cuando se da esta circunstancia, se pueden aplicar otros patrones de diseño para mitigar el problema, pero se recomienda considerar el uso de <strong class="red">otras técnicas más adecuadas como los generadores de analizadores sintácticos o de compiladores</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><sup>3</sup> La notación de Backus-Naur, también conocida por sus denominaciones inglesas Backus-Naur form (BNF), Backus-Naur formalism o Backus normal form, es un metalenguaje usado para expresar gramáticas libres de contexto.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-15">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
</table>
</div>
</div>
<div class="sect2">
<h3 id="iterator">Iterator</h3>
<div class="sect3">
<h4 id="problema-17">Problema</h4>
<div class="sect4">
<h5 id="motivación-16">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionIterator.svg" alt="motivacionIterator" width="1202" height="738">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Iterator/iteratorWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">cliente se responsabiliza de comprar muebles para una estancia</strong>, dormitorio o jardín …, <strong class="red">en distintas tiendas de muebles, las cuales tienen distintos criterios de organización de sus plantas</strong>, por estancia de la casa o por tamaño de los muebles o … Para ello, <strong class="red">el cliente debe averiguar cuál es el criterio de organización y ser capaz de localizar los muebles</strong> para la estancia que le interesa.</em></p>
</li>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos criterios de organización</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase Customer no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como el conocimiento del criterio de organización de la tienda y la localización de los muebles en las distintas plantas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Customer</em> (ej. 3) depende de <strong class="red">del tipo de tienda de muebles y de sus características</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de la tienda</strong> (ej. <em>FurnitureStore</em>, 1) <strong class="red">más el tipo de plantas de las que consta</strong> (ej. <em>Floor</em>, 1) <strong class="red">y el tipo de productos que se venden en ella</strong> (ej. <em>Furniture</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongIterator.png" alt="AcoplamientoWrongIterator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongIterator2.png" alt="AcoplamientoWrongIterator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Customer</em> (ej. 7) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de los métodos relativos a la responsabilidad de la clase para comprar muebles según el criterio de organización de cada tienda</strong> (ej. <em>buyFurnitureIntoRoomOrganizedFurnitStore y buyFurnitureIntoSizeOrganizedFurnitStore</em>, 2) <strong class="red">más el número de tipos de operaciones para localizar los muebles</strong> (ej. <em>discoverFurnitStoreFloors, nextProdInRoomOrganizStore, hasMoreProdsInRoomOrganizStore, nextProdInSizeOrganizStore y hasMoreProdsInSizeOrganizStore</em>, 5).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongIterator.png" alt="GranularidadWrongIterator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongIterator2.png" alt="GranularidadWrongIterator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-16">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionIterator.svg" alt="intencionIterator" width="1516" height="687">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Iterator/iteratorFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de cliente incluye únicamente la solicitud de muebles para un tipo de estancia</strong> y otros, <strong class="green">dependientes, se responsabilizan por separado de conocer el criterio de organización de la tienda y de localizar los muebles</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Customer</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en comprar muebles, colaborando con el servicio del dependiente que conoce el criterio de organización de la tienda y la localización de los muebles en las distintas plantas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Customer</em> (ej. 2) depende del <strong class="green">tipo de la tienda de muebles</strong> (ej. <em>FurnitureStore</em>, 1) <strong class="green">y del tipo de dependiente</strong> (ej. <em>ShopAssistant</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineIterator.png" alt="AcoplamientoFineIterator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineIterator2.png" alt="AcoplamientoFineIterator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Customer</em> (ej. 1) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como <strong class="green">la suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>buyRoomFurniture</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineIterator.png" alt="GranularidadFineIterator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineIterator2.png" alt="GranularidadFineIterator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es proveer una forma de acceder secuencialmente a los elementos de un objeto agregado sin exponer su representación subyacente</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Acceder al contenido de un objeto agregado</strong>, tal como una lista, sin exponer su representación interna.</p>
</li>
<li>
<p><strong class="blue">Permitir varias maneras de recorrer los elementos de los objetos agregados</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Pudiendo coexistir varios recorridos</strong> en espera sobre el mismo objeto agregado, llevados a cabo por el mismo o distintos clientes.</p>
</li>
<li>
<p><strong class="blue">Sin afectar la interfaz del objeto agregado con las operaciones para llevar a cabo los diversos recorridos</strong>, incluso si se pudiera anticipar los que se necesitan.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Proporcionar una interfaz uniforme para recorrer diferentes estructuras agregadas, es decir, para <strong class="blue">permitir la iteración polimórfica</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-17">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralIterator.svg" alt="estructuraGeneralIterator" width="1041" height="787">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Iterator</em></strong>: declara la interfaz para recorrer los elementos y acceder a ellos.</p>
<div class="ulist">
<ul>
<li>
<p>Como mínimo, define los métodos para la navegación, recuperación y validación: <em>first</em>, <em>next</em>, <em>isDone</em> y <em>currentItem</em>.</p>
</li>
<li>
<p>En agregados ordenados podría añadir previous para posicionar el iterador en el elemento anterior; y</p>
</li>
<li>
<p>En colecciones ordenadas o indexables aplicando algún criterio, skipTo para posicionar el iterador en un objeto que cumpla el criterio especificado.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteIterator</em></strong>: clase derivada de <em>Iterator</em> que implementa la interfaz y mantiene la posición actual en el recorrido del <em>ConcreteAggregate</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Normalmente las instancias son creadas por <em>ConcreteAggregate</em>. De hecho, debido al alto acoplamiento con dicha clase, la clase <em>ConcreteIterator</em> es a menudo una clase interna de <em>ConcreteAggregate</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Aggregate</em></strong>: declara la interfaz para crear un objeto <em>Iterator</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteAggregate</em></strong>: clase derivada de <em>Aggregate</em> que implementa la interfaz para devolver una instancia del <em>ConcreteIterator</em> apropiado.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-16">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-16">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Un <em>ConcreteIterator</em> puede ser interno o externo dependiendo de quién controla la iteración:</p>
<div class="ulist">
<ul>
<li>
<p>Los <strong class="blue">iteradores externos proporcionan métodos para que los clientes naveguen por el objeto agregado</strong>. Es decir, los clientes que utilizan un <strong class="blue">iterador externo deben avanzar en el recorrido demandando explícitamente</strong> el siguiente elemento del agregado al iterador.</p>
</li>
<li>
<p>Los <strong class="blue">iteradores internos recorren los elementos llevando a cabo alguna acción solicitada por el cliente</strong>. Es decir, el <strong class="blue">cliente entrega al iterador interno una operación a realizar, y el iterador aplica la operación a cada elemento del agregado</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>El algoritmo de recorrido puede ser definido en el <em>ConcreteIterator</em> o en el <em>ConcreteAggregate</em>:</p>
<div class="ulist">
<ul>
<li>
<p>Si el algoritmo <strong class="blue">de recorrido necesita acceder a las variables privadas del agregado, para evitar que el iterador viole la encapsulación de éste, el propio agregado puede definir el algoritmo y utilizar el iterador para almacenar sólo el estado del recorrido</strong>. Este tipo de iteradores se conocen como cursor, ya que se limitan a señalar la posición actual en el agregado. Los clientes invocarán sobre el agregado la operación next con el cursor como un argumento y la operación next cambiará el estado del cursor.</p>
</li>
<li>
<p>Si el algoritmo de recorrido <strong class="blue">se define en el iterador, es más fácil usar diferentes algoritmos de iteración sobre el mismo agregado o reutilizar el mismo algoritmo sobre diferentes agregados</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Puede ser peligroso modificar un agregado mientras un iterador lo está recorriendo</strong>. Dependiendo de la manera de gestionar esta circunstancia, un <em>ConcreteIterator</em> puede ser estático o dinámico:</p>
<div class="ulist">
<ul>
<li>
<p>Los <strong class="blue">iteradores estáticos crean una imagen del agregado</strong> en el momento de ser creados y hacen referencia a esa copia mientras son utilizados.</p>
<div class="ulist">
<ul>
<li>
<p>Es una <strong class="blue">solución sencilla pero demasiado costosa</strong> como para ser empleada siempre.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Los <strong class="blue">iteradores dinámicos hacen referencia directamente al agregado subyacente, por lo que deben garantizar que siempre reflejan su estado</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Un <strong class="blue">iterador robusto asegura que las inserciones y borrados no interfieren en el recorrido</strong>.</p>
</li>
<li>
<p><strong class="blue">Hay muchas maneras de implementar iteradores robustos</strong>. La mayoría lo hacen <strong class="blue">registrando los iteradores con el agregado</strong>. En la inserción o borrado, el agregado o bien ajusta el estado interno de los iteradores que ha producido, o se mantiene información internamente para asegurar el recorrido adecuado.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Los iteradores nulos son iteradores degenerados que facilitan el recorrido de agregados con estructura de árbol, ya que permiten implementar el recorrido sobre una estructura compuesta de un modo uniforme</strong>. En cada punto del recorrido se puede pedir el elemento actual a un iterador para sus hijos. Los elementos <em>Composite</em> devuelven, como norma general, un iterador concreto. Pero los elementos <em>Leaf</em> devuelven una instancia de iterador nulo, que se caracterizan porque su operación <em>isDone</em> siempre se evalúa a verdadero. De esta manera es posible utilizar la recursividad para visitar todos los nodos del árbol.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-17">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Permite variaciones en el recorrido de un agregado</strong>, es decir, agregados complejos pueden ser recorridos de múltiples maneras definiendo nuevas subclases de <em>Iterator</em>.</p>
</li>
<li>
<p><strong class="green">Permite tener varios recorridos simultáneos sobre un agregado</strong>, ya que cada iterador mantiene su propio estado del recorrido.</p>
</li>
<li>
<p><strong class="green">Los Iteradores simplifican la interfaz del agregado</strong> ya que la interfaz de recorrido del Iterador obvia la necesidad de una interfaz similar en el agregado.</p>
</li>
<li>
<p><strong class="green">La posibilidad de definir una interfaz uniforme para recorrer distintos tipos de agregados simplifica mucho el uso de colecciones</strong> y permite utilizar el polimorfismo cuando se trabaja con ellas.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Pueden crear una ilusión de estructuras ordenadas</strong>. Si un conjunto no soporta la ordenación, su iterador podría proporcionar los elementos en una secuencia arbitraria que podría cambiar con el tiempo. Si no se tiene en cuenta este hecho, se podría estar presuponiendo una coherencia en la estructura subyacente que podría provocar problemas en los clientes.</p>
</li>
<li>
<p><strong class="red">Los iteradores polimórficos pueden dar lugar a agujeros de memoria (<em>memory leaks</em>) en lenguajes como C++</strong>, en los que los clientes son responsables de liberar la memoria asignada a un iterador cuando se ha terminado de usarlo. Esto es propenso a errores, especialmente cuando en una operación hay múltiples puntos de salida (ej. si se lanza una excepción, el objeto iterador podría no liberarse nunca).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-16">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias algorítmicas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="mediator">Mediator</h3>
<div class="sect3">
<h4 id="problema-18">Problema</h4>
<div class="sect4">
<h5 id="motivación-17">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivaionMediator.svg" alt="motivaionMediator" width="1904" height="923">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Mediator/mediatorWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>En un <strong class="red">encuentro deportivo</strong> hay dos equipos con sus correspondientes <strong class="red">participantes<strong> (jugadores, capitanes, entrenadores, …) que tienen que ser capaces de [red]</strong>responsabilizarse de sus funciones individuales, y también de coordinarse a la hora de tomar decisiones<strong> sobre el reparto inicial de campos, o si es procedente pitar una tarjeta amarilla o roja o un penalti, o llevar a cabo un cambio de jugadores o solicitar al fisioterapeuta que preste sus servicios en el campo o …, [red]</strong>con un criterio de permisividad</strong>* más o menos severo a la hora de decidir</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos tipos de participantes</strong> que tendrán que intervenir en la coordinación.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos participantes del partido (<em>Player, Captain, Coach</em>, …) no es adecuada puesto que asumen <strong class="red">varias responsabilidades</strong> dispares o que no les atañen, como la coordinación y la toma de decisiones sobre el partido.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos tipos de participante del partido (<em>Player, Captain y Coach</em>) depende de la cantidad de <strong class="red">distintos tipos de participantes en el partido</strong> (ej. 3).</p>
</li>
<li>
<p>Se calcula como <strong class="red">la suma de la cantidad de distintos tipos de participantes en el partido</strong> (ej. <em>Player, Captain y Coach</em>, 3), con la simplificación de que todos los participantes se conocen entre sí.</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongMediator.png" alt="AcoplamientoWrongMediator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongMediator2.png" alt="AcoplamientoWrongMediator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos tipos de participante del partido (<em>Player, Captain y Coach</em>) depende de la <strong class="red">cantidad de métodos requeridos</strong>, sean éstos para cumplir con las responsabilidades individuales de la clase o para las tareas de coordinación en la toma de decisiones. Dicha cantidad varía para cada tipo de participante (ej. Player, 4 + 5 = 9; Captain, 2 + 7 = 9; Coach, 1 + 7 = 8), por lo que se considerará para el análisis la <strong class="red">media de todos los métodos de las clases que representan a los distintos tipos de participante</strong> (ej. 8,6).</p>
</li>
<li>
<p>Se calcula como la <strong class="red">media de los métodos relativos a la responsabilidad de cada clase</strong>, sean éstos para cumplir con las responsabilidades individuales de la clase o para las tareas de coordinación en la toma de decisiones; es decir, la suma de los métodos relativos a la responsabilidad de todas las clases que representan un tipo de participante (ej. 7 + 19 = 26) dividido entre el número de tipos de participante (ej. 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n )</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongMediator.png" alt="GranularidadWrongMediator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongMediator2.png" alt="GranularidadWrongMediator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-17">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionMediator.svg" alt="itencionMediator" width="1331" height="725">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Mediator/mediatorFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p>En un encuentro deportivo, la solución más habitual es <strong class="green">nombrar un árbitro para coordinar y tomar decisiones sobre el partido, con <em>un criterio de permisividad</em></strong> <em>más o menos severo</em>, y de esta manera conseguir que cada tipo de participante se centre en sus responsabilidades individuales evitando la necesidad de que todos los participantes tengan que interactuar entre ellos para coordinarse en la toma de decisiones.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos participantes del partido (<em>Player, Captain, Coach</em>, …) es adecuada puesto que cada una asume una <strong class="green">única responsabilidad</strong>, centrada en sus funciones propias, colaborando con el servicio de árbitro que se ocupa de la coordinación y la toma de decisiones sobre el partido</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos tipos de participante del partido (<em>Player, Captain y Coach</em>) depende del <strong class="green">tipo de árbitro</strong> (ej. <em>Referee</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineMediator.png" alt="AcoplamientoFineMediator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineMediator2.png" alt="AcoplamientoFineMediator2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de las especializaciones derivadas de la clase <em>TeamMember</em> para los distintos tipos de participante del partido (<em>Player, Captain y Coach</em>) depende de la <strong class="green">cantidad de métodos requeridos</strong> para cumplir con las responsabilidades individuales de la clase. Dicha cantidad varía para cada tipo de participante (ej. <em>Player</em>, 4; <em>Captain</em>, 2; <em>Coach</em>, 1), por lo que se considerará para el análisis la media de todos los <strong class="green">métodos de las clases que representan a los distintos tipos de participante</strong> (ej. 2,3).</p>
</li>
<li>
<p>Se calcula como la <strong class="green">media de los métodos relativos a la responsabilidad de cada clase</strong>, es decir, la suma de los métodos relativos a la responsabilidad de todas las clases que representan un tipo de participante (ej. 7) dividido entre el número de tipos de participante (ej. 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n )</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineMediator.png" alt="GranularidadFineMediator"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineMediator2.png" alt="GranularidadFineMediator2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es encapsular en un único objeto la manera en la que interactúan un conjunto de objetos. De esta manera se consigue promover un menor acoplamiento al evitar a los objetos referirse explícitamente unos a otros, así como permitir variar su interacción de forma independiente.</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Simplificar la comunicación entre un conjunto de objetos que se comunican con reglas bien definidas, pero de manera compleja</strong>. Es decir, objetos cuyas interdependencias no están estructuradas y son difíciles de entender.</p>
</li>
<li>
<p><strong class="blue">Permitir reutilizar objetos evitando que éstos se refieran a otros muchos objetos con los que se comunican</strong>.</p>
</li>
<li>
<p><strong class="blue">Permitir que un comportamiento que está distribuido entre varias clases pueda ser particularizado sin necesidad de muchas subclasificaciones</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-18">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Mediator</em></strong>: declara la interfaz para comunicarse con sus objetos <em>Colleague</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Permite que los colegas trabajen con diferentes subclases de mediador y viceversa.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteMediator</em></strong>: clase derivada de <em>Mediator</em> que define el comportamiento cooperativo coordinando objetos <em>Colleague</em>.</p>
</li>
<li>
<p><strong class="blue"><em>Colleague</em></strong>: declara la interfaz para comunicarse con el objeto <em>Mediator</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteColleague</em></strong>: clase derivada de <em>Colleague</em> que define el comportamiento para comunicarse con el objeto <em>Mediator</em>. Cada <em>Colleague</em> se comunica con su <em>Mediator</em> cada vez que, de no existir éste, se hubiera comunicado con otro <em>Colleague</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGenralMediator.svg" alt="estructuraGenralMediator" width="631" height="551">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-17">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-17">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">La clase abstracta Mediator se puede omitir si los colegas siempre trabajan sólo con un mediador</strong>.</p>
</li>
<li>
<p>Existen <strong class="blue">diversos enfoques para la comunicación <em>Colleague-Mediator</em></strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Se puede <strong class="blue">implementar el mediador como un observador</strong>, utilizando el patrón <em>Observer</em>. Las clases colegas harán las veces de sujetos, enviando notificaciones al mediador cada vez que cambie su estado; y el mediador responderá propagando los efectos del cambio a otros colegas.</p>
</li>
<li>
<p>Se puede <strong class="blue">definir en el mediador una interfaz de notificación especializada que permite a los colegas ser más directos en su comunicación</strong>, de tal manera que cuando un colega se comunica con el mediador, se pasa a sí mismo como argumento permitiendo así al mediador identificar al emisor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-18">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 80%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Localiza el comportamiento que de otro modo estaría distribuido entre varios objetos</strong>. El cambio de este comportamiento requiere únicamente subclases de mediador, pudiendo ser reutilizadas las clases colegas tal cual, reduciéndose así la necesidad de subclasificación.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Esto permite enfocarse en cómo interactúan los objetos de un sistema más allá de su comportamiento individual y simplificar el mantenimiento de la estrategia general de comunicación puesto que ésta es responsabilidad exclusiva del mediador</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">Promueve el desacoplamiento entre colegas</strong>. Se pueden variar y reutilizar las clases colega y mediador de forma independiente.</p>
<div class="ulist">
<ul>
<li>
<p>El desacoplamiento entre colegas <strong class="green">evita que los distintos objetos no puedan trabajar sin el soporte de los demás</strong>, lo cual podría convertir el sistema en un monolito difícil de mantener.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">Simplifica los protocolos de comunicación entre los objetos, puesto que sustituye las interacciones muchos-a-muchos entre los objetos</strong> (en el peor de los casos, cada objeto interaccionaría con el resto de los objetos del conjunto), <strong class="green">por interacciones uno-a-muchos entre el mediador y sus colegas</strong>. Las relaciones uno-a-muchos son más fáciles de entender, mantener y extender.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>La encapsulación de protocolos y la centralización de comportamiento específico de la aplicación <strong class="red">pueden convertir al objeto mediador en un objeto más complejo que cualquier colega individual y hacer de él un monolito difícil de mantener</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-17">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="memento">Memento</h3>
<div class="sect3">
<h4 id="problema-19">Problema</h4>
<div class="sect4">
<h5 id="motivación-18">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 35%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionMemento.svg" alt="motivacionMemento" width="2021" height="1566">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Memento/mementoWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="red">persona se responsabiliza de crear planes que constan de distintos elementos</strong>, título, fecha, participantes, detalles, coordinador, secretario…, <strong class="red">y de realizar modificaciones sobre los mismos. Para poder recuperar una versión anterior del plan, se responsabiliza también de proporcionar a un archivo aquellos elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros</strong> (título, participantes y detalles) para que éste guarde una copia de los mismos y así poder consultarlos posteriormente</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos elementos</strong> del plan que pueden ser modificados y no se pueden deducir a partir de otros.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> no es adecuada puesto que asume varias responsabilidades dispares o que no le atañen, como proporcionar al archivo aquellos elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros, violando la encapsulación.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 2) depende del <strong class="red">tipo del plan</strong> (ej. Plan, 1) <strong class="red">y del tipo del archivo en el que se almacena</strong> (ej. <em>PlanArchive</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongMemento.png" alt="AcoplamientoWrongMemento"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongMemento2.png" alt="AcoplamientoWrongMemento2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de los métodos de la clase <em>Person</em> (ej. 3) depende de los <strong class="red">elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros</strong> (ej. título, participantes y detalles, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongMemento.png" alt="GranularidadWrongMemento"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongMemento2.png" alt="GranularidadWrongMemento2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-18">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/intencionMemento.svg" alt="intencionMemento" width="1653" height="1617">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Memento/mementoFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de persona incluye únicamente la creación y modificación de planes, y otros, planes, se responsabilizan por separado de proporcionar a un archivo una copia de aquellos elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros</strong> (título, participantes y detalles), ninguna clase será compleja y se evitará la tendencia a crecer, y se preservará la encapsulación del plan</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la gestión de planes, colaborando con el servicio del plan para proporcionar al archivo aquellos elementos del plan que pueden ser modificados y no se pueden deducir a partir de otros. preservando la encapsulación.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 2) depende del <strong class="green">tipo del plan</strong> (ej. <em>Plan</em>, 1) <strong class="green">y del tipo del archivo en el que se almacena</strong> (ej. <em>PlanArchive</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineMemento.png" alt="AcoplamientoFineMemento"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineMemento2.png" alt="AcoplamientoFineMemento2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de los métodos de la clase <em>Person</em> (ej. 1) depende del <strong class="green">plan</strong>.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineMemento.png" alt="GranularidadFineMemento"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineMemento2.png" alt="GranularidadFineMemento2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es, sin violar la encapsulación, capturar y externalizar el estado interno de un objeto de tal forma que el objeto puede ser restaurado a este estado después</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Aplicable cuando se cumplen las <strong class="blue">dos siguientes condiciones</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Se necesita <strong class="blue">guardar una instantánea del estado interno de un objeto (o de parte de éste) para poder restaurar el objeto a dicho estado posteriormente</strong>. Tiene gran utilidad cuando se implementan mecanismos de deshacer que permiten a los usuarios anular operaciones provisionales y/o recuperarse de errores.</p>
</li>
<li>
<p>Se quiere <strong class="blue">evitar utilizar una interfaz directa para obtener el estado del objeto que pudiera violar el principio de encapsulación</strong> por exponer detalles de implementación internos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-19">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Originator</em></strong>: clase que crea un objeto <em>Memento</em>, el cual contiene una instantánea de su estado interno actual, y que puede utilizar posteriormente dicho <em>Memento</em> para volver a ese estado.</p>
</li>
<li>
<p><strong class="blue"><em>Memento</em></strong>: clase que almacena el estado interno del objeto <em>Originator</em>. Tiene dos interfaces:</p>
<div class="ulist">
<ul>
<li>
<p>Una interfaz amplia, que permite al <em>Originator</em> acceder a todos los datos necesarios para volver a su estado anterior.</p>
</li>
<li>
<p>Una interfaz reducida, que sólo permite pasar el objeto <em>Memento</em> a otros objetos, protegiendo así el <em>Memento</em> frente a accesos que no provengan del <em>Originator</em>. Solo el <em>Originator</em> puede almacenar y recuperar información del <em>Memento</em> – el <em>Memento</em> es “opaco” a otros objetos.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Caretaker</em></strong>: clase responsable de guardar en lugar seguro los objetos <em>Memento</em>, así como de borrar los <em>Memento</em> que custodia. Nunca examina sus contenidos ni opera sobre ellos, es decir, sólo conoce la interfaz reducida del <em>Memento</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralMemento.svg" alt="estructuraGeneralMemento" width="711" height="799">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-18">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-18">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>La implementación del patrón <em>Memento</em> es muy <strong class="blue">dependiente del lenguaje de implementación</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Lo ideal sería que el lenguaje de implementación permitiese dos niveles de protección estática. <strong class="blue">C++ lo permite haciendo que Originator sea una clase amiga de <em>Memento</em>, y manteniendo privada la interfaz amplia del <em>Memento</em></strong> y pública la interfaz reducida.</p>
</li>
<li>
<p>En otros lenguajes como <strong class="blue">Java, debido a que el <em>Memento</em> debería ser accesible únicamente desde el <em>Originator</em>, se puede hacer que el <em>Memento</em> sea una clase interna pública del <em>Originator</em></strong>, declarando todos los métodos privados para que sólo estén disponibles para el objeto Memento y su clase contenedora <em>Originator</em>, ofreciendo así la encapsulación apropiada. Dado que el objeto <em>Memento</em> debe ser independiente de una instancia específica de un <em>Originator</em>, la clase <em>Memento</em> será una clase interna estática.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">La cantidad de información que almacena el objeto <em>Memento</em> variará en función de lo que necesite el objeto <em>Originator</em> para ser capaz de volver a un estado previo</strong>. En caso de que los <em>Memento</em> se creen y se devuelvan en una secuencia predecible, es decir, en un orden concreto, el <em>Memento</em> puede guardar únicamente el cambio con respecto al estado interno anterior del <em>Originator</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-19">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">El <em>Memento</em> evita exponer información que sólo debería ser manejada por el Originator, pero que sin embargo debe ser guardada fuera de éste</strong>. El patrón preserva la encapsulación, lo cual <strong class="green">permite</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Simplificar el <em>Originator</em></strong>, ya que se evita que éste tenga que responsabilizarse de registrar y almacenar todos los estados distintos solicitados por los clientes para preservar la encapsulación, ocupándose únicamente de crear los objetos <em>Memento</em> y de saber utilizarlos cuando los clientes se lo soliciten.</p>
</li>
<li>
<p><strong class="green"><em>Simplificar los clientes</em></strong>, ya que estos no necesitan saber nada sobre el funcionamiento interno del <em>Originator</em>, que podría ser potencialmente complejo, excepto cómo obtener un <em>Memento</em> y cómo utilizarlo, y evita que los clientes tengan que notificar a los objetos <em>Originator</em> cuando han acabado.</p>
</li>
<li>
<p><strong class="green">No comprometer la fiabilidad y extensibilidad de la aplicación exponiendo interioridades de los objetos innecesariamente</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El uso del patrón <em>Memento</em> <strong class="red">podría suponer un coste considerable si el <em>Originator</em> debe copiar grandes cantidades de información</strong> para guardarlas en el <em>Memento</em> o si los clientes crean y devuelven <em>Mementos</em> a su <em>Originator</em> <strong class="red">con mucha frecuencia. A menos que encapsular y restablecer el estado sea poco costoso, el patrón podría no ser apropiado</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="red">Una de las principales clases afectadas por este coste es <em>Caretaker</em> ya que, aunque desconoce cuánto estado hay en un <em>Memento</em>, es la responsable de gestionar el ciclo de vida de estos objetos tras su creación.</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>En <strong class="red">algunos lenguajes puede ser difícil garantizar que sólo el Originator acceda al estado del <em>Memento</em></strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-18">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Abstracción</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias de las representaciones o implementaciones de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="observer">Observer</h3>
<div class="sect3">
<h4 id="problema-20">Problema</h4>
<div class="sect4">
<h5 id="motivación-19">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 55%;">
<col style="width: 45%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionObserver.svg" alt="motivacionObserver" width="2619" height="1197">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Observer/observerWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una persona puede tener <strong class="red">distintos tipos de problemas en la vida</strong>, pérdida de un ser querido o padecimiento de una enfermedad o falta de liquidez o …, ante los que tiene que <strong class="red">requerir ayuda a una serie de distintas personas de su entorno</strong>, madre o pareja o jefe o…, para sobrellevar este valle de lágrimas</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevos tipos de personas</strong> en el entorno a los que solicitar ayuda.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase Person no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la gestión de los distintos tipos personas que le prestan ayuda según las circunstancias.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 3) depende del <strong class="red">número de tipos de personas de su entorno encargados de prestar ayuda</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma del número de tipos de personas de su entorno encargados de prestar ayuda</strong> (ej. <em>Mother, Partner y Boss</em>, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongObserver.png" alt="AcoplamientoWrongObserver"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongObserver2.png" alt="AcoplamientoWrongObserver2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase Person (ej. 22) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase para gestionar los distintos tipos de problemas en la vida</strong> (ej. <em>isInTrouble, setInTrouble, getTroubleReason, loseALovedOne, haveAFlue, wasteAllSavings</em>, …, 12) <strong class="red">más el producto del número de tipos de personas de su entorno</strong> (ej. <em>Mother, Partner y Boss</em>, 3) <strong class="red">por los métodos relativos para gestionar la existencia de cada tipo de persona</strong> (ej. <em>attach, detach e is</em>, 3), <strong class="red">más el método para realizar la notificación</strong> (ej. <em>notifyKnowPeople</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongObserver.png" alt="GranularidadWrongObserver"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongObserver2.png" alt="GranularidadWrongObserver2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-19">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionObserver.svg" alt="itencionObserver" width="2373" height="1080">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Observer/observerFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Una persona puede tener <strong class="green">distintos tipos de problemas en la vida</strong>, pérdida de un ser querido o padecimiento de una enfermedad o falta de liquidez o …, ante los que <strong class="green">notifica que requiere ayuda a una serie de personas de su entorno que le atienden</strong>, madre o pareja o jefe o…, para sobrellevar este valle de lágrimas</em>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase Person es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la gestión de su vida, notificando que requiere ayuda a la red de seguridad de personas de su entorno.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 1) depende de <strong class="green">un tipo de persona conocida</strong> (ej. <em>KnownPeople</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineObserver.png" alt="AcoplamientoFineObserver"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineObserver2.png" alt="AcoplamientoFineObserver2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 15) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase para gestionar los distintos tipos de problemas en la vida</strong> (ej. <em>isInTrouble, setInTrouble, getTroubleReason, loseALovedOne, haveAFlue, wasteAllSavings</em>, …, 12) <strong class="green">más los métodos relativos para gestionar la existencia de un tipo de persona conocida</strong> (ej. <em>attach y detach</em>, 2), <strong class="green">más el método para realizar la notificación</strong> (ej. <em>notifyKnowPeople</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineObserver.png" alt="GranularidadFineObserver"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineObserver2.png" alt="GranularidadFineObserver2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es definir una dependencia uno-a-muchos entre objetos de tal forma que cuando un objeto cambia su estado, todos los objetos dependientes son notificados y actualizados automáticamente</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Abstracciones que tienen dos aspectos, uno de los cuales depende del otro</strong>. La encapsulación de estos aspectos en objetos separados permite modificarlos y reutilizarlos de manera independiente.</p>
</li>
<li>
<p><strong class="blue">Un cambio sobre un objeto requiere cambiar otros y no se conoce cuántos objetos necesitan ser cambiados</strong>.</p>
</li>
<li>
<p><strong class="blue">Un objeto debería ser capaz de notificar a otros objetos sin hacer asunciones sobre quiénes son estos objetos</strong>. En otras palabras, no se quiere estos objetos altamente acoplados, para permitir una mayor reusabilidad.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-20">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralObserver.svg" alt="estructuraGeneralObserver" width="1721" height="723">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Subject</em></strong>: declara la interfaz para registrar y desregistrar objetos <em>Observer</em>, así como para realizar la notificación a los mismos cuando se produce en él algún cambio relevante.</p>
<div class="ulist">
<ul>
<li>
<p>El sujeto observado puede tener cualquier número de observadores dependientes. Todos los observadores que se hayan suscrito previamente son notificados si el observado sufre un cambio de estado.</p>
</li>
<li>
<p>Se envían notificaciones sin tener conocimiento de quienes son sus observadores.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteSubject</em></strong>: clase derivada de <em>Subject</em> que implementa la interfaz:</p>
<div class="ulist">
<ul>
<li>
<p>Almacena el estado de interés para los objetos <em>ConcreteObserver</em>.</p>
</li>
<li>
<p>Envía una notificación a sus observadores cuando cambia su estado.</p>
</li>
<li>
<p>Necesita mantener una colección de <em>Observer</em> para efectuar las notificaciones.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>Observer</em></strong>: declara la interfaz para actualizar los objetos que deben ser notificados ante cambios en un <em>Subject</em>.</p>
<div class="ulist">
<ul>
<li>
<p>En respuesta a la notificación recibida, cada observador consultará al sujeto observado para sincronizar su estado con el estado de éste.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteObserver</em></strong>: clase derivada de <em>Observer</em> que implementa la interfaz:</p>
<div class="ulist">
<ul>
<li>
<p>Mantiene una referencia a un <em>ConcreteSubject</em>.</p>
</li>
<li>
<p>Guarda un estado que debería ser consistente con el del sujeto.</p>
</li>
<li>
<p>Implementa los métodos para responder a las notificaciones recibidas, garantizando la correcta actualización de su estado, es decir, su actualización de manera consistente con el estado del sujeto al que observa.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-19">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-19">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Hay <strong class="blue">diversas opciones</strong> para implementar la correspondencia entre los sujetos observados y sus observadores:</p>
<div class="ulist">
<ul>
<li>
<p>La forma más simple para que un sujeto realice el seguimiento de los observadores a los que debería notificar sería <strong class="blue">almacenar explícitamente las referencias a los observadores</strong>. Sin embargo, esto puede ser muy costoso desde el punto de vista del espacio de almacenamiento cuando hay muchos sujetos observados y pocos observadores.</p>
</li>
<li>
<p>Otra alternativa es utilizar un <strong class="blue"><em>array</em> asociativo para búsquedas</strong> (por ejemplo, una tabla hash) que mantiene la correspondencia entre sujetos observados y sus observadores. Este enfoque consigue reducir el coste de almacenamiento a costa de incrementar el tiempo de acceso, consiguiéndose así un compromiso espacio/tiempo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>En caso de que un observador dependa de más de un sujeto observado, es necesario <strong class="blue">extender el interfaz de actualización para permitir al observador conocer qué sujeto observado está enviando la notificación</strong>. El sujeto observado puede simplemente enviarse a sí mismo como parámetro de la operación de actualización permitiendo al observador conocer a qué sujeto consultar.</p>
</li>
<li>
<p>Existen dos alternativas para <strong class="blue">disparar las actualizaciones</strong> que mantienen consistentes los estados del sujeto y sus observadores utilizando el mecanismo de notificación:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Las operaciones que modifican el estado del sujeto se responsabilizan de enviar la notificación a los observadores después de cambiar el estado del sujeto</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>La <strong class="blue">ventaja</strong> de este enfoque es que los clientes no tienen que estar pendientes de indicar al sujeto que envíe las notificaciones.</p>
</li>
<li>
<p>La <strong class="blue">desventaja</strong> es que varios cambios consecutivos en el sujeto causarán notificaciones consecutivas a los observadores, que dispararán sus correspondientes actualizaciones, lo cual puede resultar ineficiente.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Los clientes se responsabilizan de enviar las notificaciones en el momento adecuado</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>La <strong class="blue">ventaja</strong> es que el cliente puede esperar para hacer el envío de éstas hasta que se hayan realizado una serie de cambios de estado en el sujeto observado, evitando de este modo actualizaciones intermedias innecesarias por parte de los observadores.</p>
</li>
<li>
<p>La <strong class="blue">desventaja</strong> es que los clientes tienen una responsabilidad añadida para activar la actualización, lo cual incrementa la probabilidad de errores, ya que los clientes podrían olvidarse, en un momento dado, de hacer el envío.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">En caso de que un sujeto observado sea eliminado, no deben producirse referencias “colgadas” de sus observadores</strong>. Una forma de evitar esto es que el sujeto observado notifique a sus observadores cuando se elimina, de modo que éstos puedan reinicializar la referencia a él. En general, la alternativa de borrar los observadores no es una opción, ya que otros objetos pueden hacer referencia a ellos, o ellos mismos pueden estar observando a otros sujetos.</p>
</li>
<li>
<p><strong class="blue">Es importante asegurar que el estado del sujeto observado es consistente consigo mismo antes de enviar las notificaciones a los observadores</strong>, ya que éstos consultarán al sujeto por su estado actual durante el proceso de actualizar su propio estado.</p>
<div class="ulist">
<ul>
<li>
<p>Esta regla de auto-consistencia se puede violar involuntariamente cuando subclases del sujeto observado llaman a métodos heredados. Para evitarlo, se pueden utilizar <strong class="blue">métodos plantilla</strong> cuya última operación sea el envío de notificaciones, y en la que las subclases únicamente redefinirán las operaciones previas al envío según sus responsabilidades.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Habitualmente, el <strong class="blue">sujeto observado transmite información adicional acerca del cambio experimentado como un argumento de la actualización</strong>. La cantidad de información puede variar ampliamente. Existen diversos enfoques para esta transmisión entre <em>Subject-Observer</em>:</p>
<div class="ulist">
<ul>
<li>
<p>En un extremo, se encuentra el <strong class="blue">modelo de inserción</strong> (<em>push</em>), en el cual el sujeto observado envía información detallada a los observadores sobre el cambio, lo quieran o no. El modelo de inserción asume que los sujetos saben algo acerca de las necesidades de sus observadores.</p>
</li>
<li>
<p>En el otro extremo, se encuentra el <strong class="blue">modelo de extracción</strong> (<em>pull</em>), en el cual el sujeto observado envía únicamente la notificación mínima, y los observadores consultarán por los detalles de forma explícita posteriormente. El modelo de extracción hace hincapié en la ignorancia del sujeto sobre sus observadores.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">La complejidad de la relación de dependencia entre los sujetos y los observadores puede requerir la utilización de un objeto que encapsule la semántica de las actualizaciones, denominado <em>ChangeManager</em></strong>. Su objetivo es reducir al mínimo el trabajo necesario para hacer que los observadores reflejen un cambio en sus observados. Por ejemplo, si una operación involucra cambios en varios sujetos observados interdependientes, puede que tenga que asegurarse de que sus observadores son notificados después de que todos los sujetos se han modificado para evitar la notificación a los observadores más de una vez. <em>ChangeManager</em> tiene tres <strong class="blue">responsabilidades</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Relacionar un sujeto observado y sus observadores</strong>, proporcionando una interfaz para mantener esta relación. Se elimina así la necesidad de que los sujetos observados mantengan las referencias a sus observadores y viceversa.</p>
</li>
<li>
<p><strong class="blue">Definir una estrategia de actualización en particular</strong>.</p>
</li>
<li>
<p><strong class="blue">Actualizar todos los observadores dependientes a petición de un sujeto</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Se puede mejorar la eficiencia en la actualización mediante la ampliación de interfaz de registro del sujeto observado permitiendo que <strong class="blue">los observadores se registren sólo para eventos específicos de su interés en lugar de hacer un registro genérico que incluiría cualquier evento</strong>. Cuando tal evento se produce, el sujeto observado informa sólo a aquellos observadores que hayan registrado interés en ese evento. Una forma de apoyar esto es utilizar la noción de aspectos en los objetos sujeto.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-20">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Permite variar independientemente observados y observadores</strong>. Se pueden reutilizar los sujetos observados sin reutilizar sus observadores y viceversa. Esto posibilita añadir observadores sin modificar los sujetos observados u otros observadores.</p>
</li>
<li>
<p><strong class="green">Todo sujeto observado conoce que tiene una lista de observadores, conforme a la sencilla interfaz de la clase abstracta Observer, pero el sujeto no conoce la clase concreta de ninguno de sus observadores</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento entre sujetos observados y observadores es abstracto y mínimo, pudiendo éstos pertenecer incluso a capas diferentes de abstracción del sistema.</p>
</li>
<li>
<p>Si se agrupasen el sujeto y el observador en un único objeto, el objeto resultante debería abarcar dos capas (violando la arquitectura de capas) o ser forzado a residir en una capa u otra (lo que podría comprometer las abstracciones de las capas).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">La notificación que envía el observado no necesita especificar sus receptores</strong>. La notificación es multidifundida (<em>broadcast</em>) automáticamente a todos los objetos que estén suscritos. El observado no se preocupa de cuántos objetos interesados existen; su responsabilidad solo es notificar a sus observadores. Esto da la libertad de añadir y borrar observadores en cualquier momento. El observador ya verá si maneja o ignora la notificación</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Se pueden producir <strong class="red">actualizaciones inesperadas</strong>, debidas a que, como los observadores no tienen conocimiento de la presencia de otros, no pueden ver el coste final de modificar el sujeto observado.</p>
<div class="ulist">
<ul>
<li>
<p>Una operación aparentemente inocua sobre el sujeto puede provocar una <strong class="red">cascada de cambios en los observadores y sus objetos dependientes</strong>.</p>
</li>
<li>
<p>Por otra parte, si existen criterios de dependencia que no estén bien definidos o mantenidos, podrían dar lugar a cambios espurios, que pueden ser difíciles de localizar. Este problema se ve agravado por la utilización de un <strong class="red">protocolo simple de actualización que no proporcione ningún detalle sobre lo que ha cambiado en el sujeto observado</strong>. Sin un protocolo adicional para ayudar a los observadores a descubrir estos cambios, la tarea de deducirlos puede no ser en absoluto trivial.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-19">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Fuerte acoplamiento</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Relacionar Estructuras del Tiempo de Compilación y de Ejecución</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="state">State</h3>
<div class="sect3">
<h4 id="problema-21">Problema</h4>
<div class="sect4">
<h5 id="motivación-20">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="red">persona realiza diversas actividades a lo largo del día</strong>, comer o bailar o trabajar o …, <strong class="red">pero dependiendo de su estado de ánimo</strong>, feliz o triste o …, las realizará <strong class="red">con distintos algoritmos</strong></em>.</p>
</li>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida</strong> que surgen nuevos estados de ánimo.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionState.svg" alt="motivacionState" width="764" height="820">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/State/stateWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la definición de distintos algoritmos para cada actividad.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 0) es nulo.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongState.png" alt="AcoplamientoWrongState"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongState2.png" alt="AcoplamientoWrongState2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 9) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>eat, dance y work</em>, 3) <strong class="red">más el producto del número de responsabilidades de la clase por el número de estados de ánimo</strong> (ej. <em>feliz y triste, 2, por eat, dance y work</em>, 3).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongState.png" alt="GranularidadWrongState"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongState2.png" alt="GranularidadWrongState2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-20">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>La <strong class="green">responsabilidad de la persona incluye la delegación de la realización de la actividad en diferentes estados de ánimo, que se responsabilizan por separado del algoritmo a seguir para realizar cada actividad dependiendo del estado de ánimo</strong>. De esta manera, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionState.svg" alt="itencionState" width="554" height="897">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/State/stateFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> es adecuada puesto que asume una única responsabilidad, centrada en la delegación, colaborando con el servicio del estado de ánimo y sus algoritmos específicos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 1) depende del <strong class="green">tipo del estado de ánimo</strong> (ej. <em>Mood</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineState.png" alt="AcoplamientoFineState"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineState2.png" alt="AcoplamientoFineState2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 3) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>eat, dance y work</em>, 3).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineState.png" alt="GranularidadFineState"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineState2.png" alt="GranularidadFineState2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es permitir a un objeto alterar su comportamiento cuando su estado interno cambia pareciendo que el objeto cambia su clase</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El comportamiento de <strong class="blue">un objeto depende de su estado, y debe cambiar en tiempo de ejecución dependiendo de ese estado</strong>.</p>
</li>
<li>
<p>Para definir los <strong class="blue">estados internos se usan valores de datos</strong> (a menudo una o más constantes enumeradas) y las <strong class="blue">operaciones consultan dichos estados explícitamente, dando lugar a largas sentencias condicionales con múltiples ramas que dependen del estado del objeto</strong>. Muchas veces son varias las operaciones que contienen esta misma estructura condicional, por lo que cuando se necesita añadir un nuevo estado podría necesitarse cambiar varias operaciones, complicando el mantenimiento.</p>
<div class="ulist">
<ul>
<li>
<p>El patrón <em>State</em> pone <strong class="blue">cada rama de la condición en una clase aparte</strong>, lo cual permite tratar al estado del objeto como un objeto de pleno derecho que puede variar de manera independiente de otros objetos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-21">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Participantes</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Estructura General</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Context</em></strong>: declara una interfaz de interés para los clientes y mantiene una instancia de una subclase <em>ConcreteState</em> que define su estado actual.</p>
<div class="ulist">
<ul>
<li>
<p>Delega todas las llamadas a los métodos específicos del estado actual.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>State</em></strong>: declara una interfaz para encapsular el comportamiento asociado con un determinado estado del objeto <em>Context</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteState</em></strong>: clase derivada de State que implementa un comportamiento específico asociado con un estado de <em>Context</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralState.svg" alt="estructuraGeneralState" width="539" height="516">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-20">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-20">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>El patrón <em>State</em> <strong class="blue">no especifica qué participante define los criterios para las transiciones entre estados</strong>. Se puede optar entre diversas opciones:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Si estos criterios son fijos, pueden implementarse enteramente en <em>Context</em></strong>.</p>
</li>
<li>
<p>No obstante, es generalmente <strong class="blue">más flexible y conveniente que sean las propias subclases <em>ConcreteState</em> quienes especifiquen su estado sucesor y cuándo llevar a cabo la transición</strong>. Esto requiere añadir una interfaz a <em>Context</em> que permita a los objetos <em>State</em> asignar explícitamente el estado actual del contexto.</p>
<div class="ulist">
<ul>
<li>
<p>Descentralizar de esta forma la lógica de la transición <strong class="blue">facilita modificar o extender dicha lógica</strong> definiendo nuevas subclases de <em>State</em>.</p>
</li>
<li>
<p>Una desventaja de la descentralización es que una subclase de <em>State</em> conocerá al menos a otra, lo que <strong class="blue">introduce dependencias de implementación entre subclases</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>También existe otra alternativa basada en tablas de correspondencia. <strong class="blue">Para cada estado, una tabla hace corresponder cada posible entrada con un estado sucesor</strong>. Este enfoque convierte código condicional (y funciones virtuales, en el caso del patrón <em>State</em>) en una tabla de búsqueda. La principal ventaja de las tablas es su regularidad: se pueden cambiar los criterios de transición modificando datos en vez del código del programa. No obstante, este enfoque presenta algunos inconvenientes:</p>
<div class="ulist">
<ul>
<li>
<p>Es <strong class="blue">menos eficiente</strong> que una llamada a una función.</p>
</li>
<li>
<p>Los <strong class="blue">criterios de transición son menos explícitos</strong>.</p>
</li>
<li>
<p>Es más <strong class="blue">difícil realizar algún tipo de procesamiento arbitrario con cada transición</strong>. Para ello es necesario complementar esta técnica con algún otro mecanismo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Existen <strong class="blue">dos alternativas para la creación de los objetos <em>State</em></strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">Instanciación diferida</strong>, es decir, creación de los objetos cuando se necesitan (y destrucción cuando dejan de ser necesarios).</p>
<div class="ulist">
<ul>
<li>
<p>Este enfoque es <strong class="blue">preferible cuando no se conocen los estados en tiempo de ejecución y los contextos cambian de estado con poca frecuencia</strong>. Se evita así crear objetos que no se usarán nunca, lo que puede ser importante si los objetos <em>State</em> guardan una gran cantidad de información.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Creación inicial</strong> (sin destrucción).</p>
<div class="ulist">
<ul>
<li>
<p>Este enfoque es <strong class="blue">más adecuado cuando los cambios tienen lugar rápidamente, en cuyo caso interesa evitar destruir los objetos <em>State</em></strong>, ya que pueden volver a necesitarse de nuevo en breve. Los costes de creación se pagan al principio y no existen costes de destrucción. No obstante, esta alternativa tiene el inconveniente de que el objeto <em>Context</em> debe guardar referencias a todos los estados en los que pueda entrar.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-21">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Sitúa en un objeto todo el comportamiento asociado con un determinado estado</strong>. Como todo el código dependiente del estado reside en una subclase de <em>State</em>, pueden añadirse fácilmente nuevos estados y transiciones definiendo nuevas subclases.</p>
<div class="ulist">
<ul>
<li>
<p>Esto <strong class="green">incrementa el número de clases y es menos compacto que una única clase</strong>, pero se evita que la lógica que determina las transiciones entre estados resida en grandes sentencias if o switch monolíticas, siendo en su lugar repartida entre las subclases de <em>State</em>.</p>
</li>
<li>
<p>Al encapsular cada transición y acción en una clase, estamos elevando la idea de un estado de ejecución a objetos de estado en toda regla. Esto <strong class="green">impone una estructura al código y hace que su intención sea más clara</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Introducir objetos separados para los diferentes estados hace que <strong class="green">las transiciones sean más explícitas</strong>. Además, los objetos <em>State</em> pueden proteger a <em>Context</em> frente a estados internos inconsistentes, ya que las transiciones entre estados son atómicas para él puesto que tienen lugar cambiando una única variable (la variable de tipo <em>State</em> del objeto <em>Context</em>).</p>
<div class="ulist">
<ul>
<li>
<p>Si en lugar de utilizar objetos <em>State</em>, un objeto define su estado actual únicamente en términos de valores de datos internos, sus transiciones entre estados carecen de una representación explícita; solo aparecen como asignaciones a determinadas variables.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">El patrón aumenta el número de objetos de una aplicación</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>A veces se puede reducir este coste si los objetos <em>State</em> no tienen variables, es decir, si el estado que representan está totalmente representado por su tipo, pudiendo así varios contextos compartir un mismo objeto <em>State</em>. <strong class="red">Cuando se comparten los estados de este modo, son en esencia objetos <em>FlyWeight</em> que no tienen estado intrínseco, sino solo comportamiento</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-20">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Encontrar objetos apropiados</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Cohesión</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="strategy">Strategy</h3>
<div class="sect3">
<h4 id="problema-22">Problema</h4>
<div class="sect4">
<h5 id="motivación-21">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionStrategy.svg" alt="motivacionStrategy" width="1807" height="429">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Strategy/strategyWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Una <strong class="red">persona realiza diversas actividades a lo largo de su vida</strong>, flirtear o hacer amistades o …, <strong class="red">pero tras realizar un análisis del contexto</strong>, las realizará <strong class="red">con distintas estrategias</strong> que implementarán el algoritmo correspondiente</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas estrategias</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como la definición de distintos algoritmos para cada actividad.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 0) es nulo.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongStrategy.png" alt="AcoplamientoWrongStrategy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongStrategy2.png" alt="AcoplamientoWrongStrategy2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 6) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>flirt y makeFriendship</em>, 2) <strong class="red">más el número de estrategias de aproximación</strong> (ej. amigo común, hobby común e invitación directa, 3) <strong class="red">más el método para analizar el
contexto y establecer la estrategia</strong> (ej. <em>setApproach</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongStrategy.png" alt="GranularidadWrongStrategy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongStrategy2.png" alt="GranularidadWrongStrategy2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-21">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de persona incluye únicamente la delegación de la realización de la actividad</strong> y otros, <strong class="green">consejero sentimental y estrategias de aproximación, se responsabilizan por separado del análisis del contexto y del algoritmo a seguir para realizar cada actividad</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionStrategy.svg" alt="itencionStrategy" width="1102" height="849">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Strategy/strategyFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Person</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en la delegación, colaborando con el servicio de la estrategia de aproximación y sus algoritmos específicos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Person</em> (ej. 1) depende del <strong class="green">tipo de la estrategia de aproximación</strong> (ej. <em>Approach</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineStrategy.png" alt="AcoplamientoFineStrategy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineStrategy2.png" alt="AcoplamientoFineStrategy2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Person</em> (ej. 3) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>flirt y makeFriendship</em>, 2) <strong class="green">más el método para recibir la estrategia a aplicar</strong> (ej. set, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineStrategy.png" alt="GranularidadFineStrategy"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineStrategy2.png" alt="GranularidadFineStrategy2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es definir una familia de algoritmos, encapsulando cada uno y haciéndolos intercambiables, permitiendo al algoritmo variar de manera independiente del cliente que lo utilice</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Muchas clases relacionadas difieren en su comportamiento</strong>. Las estrategias permiten configurar una clase con un determinado comportamiento de entre muchos posibles en tiempo de ejecución.</p>
</li>
<li>
<p><strong class="blue">Se necesitan distintas variantes de un algoritmo, por ejemplo, con distintas soluciones de compromiso entre tiempo y espacio</strong>. Pueden usarse estrategias cuando estas variantes se implementan como una jerarquía de clases de algoritmos.</p>
</li>
<li>
<p><strong class="blue">Un algoritmo usa datos que los clientes no deberían conocer</strong>. El patrón Strategy permite evitar exponer estructuras de datos complejas y dependientes del algoritmo.</p>
</li>
<li>
<p><strong class="blue">Una clase define muchos comportamientos, y éstos se representan como múltiples sentencias condicionales en sus operaciones</strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-22">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Participantes</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Estructura General</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Strategy</em></strong>: declara una interfaz común a todos los algoritmos permitidos. <em>Context</em> utiliza esta interfaz para llamar al algoritmo definido por una <em>ConcreteStrategy</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteStrategy</em></strong>: clase derivada de <em>Strategy</em> que implementa un algoritmo específico.</p>
</li>
<li>
<p><strong class="blue"><em>Context</em></strong>: clase que utiliza las diferentes estrategias para una determinada tarea. Se configura con un objeto <em>ConcreteStrategy</em> y mantiene una referencia al objeto Strategy que está utilizando en cada momento.</p>
<div class="ulist">
<ul>
<li>
<p>Puede definir una interfaz que permita a una <em>ConcreteStrategy</em> acceder a sus datos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralStrategy.svg" alt="estructuraGeneralStrategy" width="476" height="616">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-21">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-21">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Las interfaces <em>Strategy</em> y <em>Context</em> deben permitir a una <em>ConcreteStrategy</em> <strong class="blue">acceder de manera eficiente a cualquier dato que ésta necesite del contexto, y viceversa</strong>. Existen diversas opciones:</p>
<div class="ulist">
<ul>
<li>
<p>Un enfoque es que <strong class="blue"><em>Context</em> pase los datos como parámetros a las operaciones de <em>Strategy</em></strong>, es decir, llevar los datos a la estrategia. <strong class="blue">Esto mantiene a <em>Strategy</em> y <em>Context</em> desacoplados</strong>. El principal inconveniente de esta alternativa es que Context podría pasar datos a la <em>Strategy</em> que ésta no necesita.</p>
</li>
<li>
<p>Otra técnica es que <strong class="blue"><em>Context</em> se pase a sí mismo como argumento, y que Strategy le pida los datos explícitamente al contexto</strong>. Como alternativa, la estrategia puede guardar una referencia a su contexto, eliminando así la necesidad de pasar nada. El principal inconveniente de este enfoque es que <em>Context</em> debe definir una interfaz más elaborada para sus datos, lo que acopla más estrechamente a <em>Strategy</em> y <em>Context</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue">Se pueden utilizar las plantillas para configurar una clase con una estrategia</strong>. Esta técnica solo es aplicable si se puede seleccionar la estrategia en tiempo de compilación y no hay que cambiarla en tiempo de ejecución. En este caso, la clase Context se define en una clase plantilla que tiene como parámetro una clase <em>Strategy</em>.</p>
</li>
<li>
<p><strong class="blue">Se puede proporcionar en Context un comportamiento predeterminado y hacer opcionales los objetos <em>Strategy</em></strong>. <em>Context</em> comprueba si tiene un objeto <strong class="blue"><em>Strategy</em></strong> antes de acceder a él y, en caso de que exista, lo usa normalmente. Pero, <strong class="blue">en caso de que no tenga sentido tener un objeto <em>Strategy</em> y éste no exista</strong>, <em>Context</em> realiza el comportamiento predeterminado. La ventaja de este enfoque es que los clientes solo tienen que tratar con los objetos <strong class="blue"><em>Strategy</em></strong> cuando no les sirva el comportamiento por defecto.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-22">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Las jerarquías de clases <em>Strategy</em> definen una familia de algoritmos o comportamientos para ser reutilizados por los contextos</strong>. La herencia puede ayudar a sacar factor común de la funcionalidad de estos algoritmos.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">La herencia ofrece otra forma de permitir una variedad de algoritmos o comportamientos</strong>. Se puede heredar de <em>Context</em> para proporcionar diferentes comportamientos, pero esto liga el comportamiento a <em>Context</em>, mezclando la implementación del algoritmo con la de <em>Context</em>. Esto dificulta su comprensión, mantenimiento y extensión e impide la modificación del <strong class="green">algoritmo dinámicamente</strong>. El resultado será una gran cantidad de clases relacionadas cuya única diferencia es el algoritmo o comportamiento que utilizan. <strong class="green">Encapsular el algoritmo en clases <em>Strategy</em> separadas permite variar el algoritmo</strong> independientemente de su contexto, haciendo este más fácil de cambiar, comprender y extender.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="green">El patrón ofrece una alternativa a las sentencias condicionales para seleccionar el comportamiento deseado, ya que, en su ausencia, cuando</strong> se juntan muchos comportamientos en una clase es difícil no recurrir a éstas para seleccionar el comportamiento correcto.</p>
</li>
<li>
<p><strong class="green">Las estrategias permiten proporcionar distintas implementaciones del mismo comportamiento</strong>. El cliente puede elegir entre estrategias con diferentes soluciones de compromiso entre tiempo y espacio.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El patrón tiene el <strong class="red">inconveniente potencial de que un cliente debe comprender cómo difieren las distintas <em>ConcreteStrategy</em> antes de seleccionar la adecuada</strong>. Los clientes pueden estar expuestos a cuestiones de implantación. Por tanto, debería usarse solo cuando la variación de comportamiento sea relevante a los clientes.</p>
</li>
<li>
<p>La interfaz de <em>Strategy</em> es compartida por todas las clases <em>ConcreteStrategy</em>, ya sea el algoritmo que implementan trivial o complejo. Por tanto, <strong class="red">es probable que algunos objetos <em>ConcreteStrategy</em> no usen toda la información que reciben a través de dicha interfaz; pudiendo darse el caso incluso de que las estrategias concretas simples no utilicen ninguna en absoluto</strong>. Esto implica que habrá ocasiones en las que el contexto cree e inicialice parámetros que nunca se usan. Si esto puede ser un problema, necesitaremos un acoplamiento más fuerte entre <em>Strategy y Context</em>.</p>
</li>
<li>
<p><strong class="red">El patrón aumenta el número de objetos de una aplicación</strong>. A veces se puede reducir este coste si los objetos <em>ConcreteStrategy</em> no tienen estado, pudiendo así ser compartidos por el contexto. Esto también es posible si, en caso de necesitar cualquier estado residual, es <em>Context</em> quien se encarga de mantenerlo, pasándoselo a <em>ConcreteStrategy</em> en cada petición. Las estrategias compartidas no deberían mantener el estado entre invocaciones. Cuando se comparten las estrategias de este modo, son en esencia objetos <em>FlyWeight</em> que no tienen estado intrínseco, sino solo comportamiento.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-21">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Encontrar objetos apropiados</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Cohesión</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias algorítmicas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar la Implementación de Objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Implementación</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Añadir funcionalidad mediante herencia</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="blue">Principio Abierto/Cerrado</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="template-method">Template Method</h3>
<div class="sect3">
<h4 id="problema-23">Problema</h4>
<div class="sect4">
<h5 id="motivación-22">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionTemplateMethod.svg" alt="motivacionTemplateMethod" width="1031" height="669">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/TemplateMethod/templateMethodWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">profesor se responsabiliza de enseñar con el mismo algoritmo</strong>, presentarse, presentar el curso, explicar los contenidos, responder las dudas, evaluar y despedir el curso, <strong class="red">pero dependiendo de la localización</strong>, clase o campo o …, <strong class="red">algunos pasos del algoritmo serán variables ya que los realizará de manera distinta</strong>, bien con distintos recursos didácticos (proyector o pizarra o …, Moodle o folio o …) o con distinto nivel de detalle (exhaustivo o superficial o …) , o …</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas opciones</strong> para los pasos variables.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 41.6666%;">
<col style="width: 29.1666%;">
<col style="width: 29.1668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Professor</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como el conocimiento de todos los posibles pasos alternativos del algoritmo dependiendo de la localización.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Professor</em> (ej. 0) es nulo.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongTemplateMetod.png" alt="AcoplamientoWrongTemplateMetod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongTemplateMetod2.png" alt="AcoplamientoWrongTemplateMetod2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Professor</em> (ej. 9) depende de la cantidad de métodos requeridos.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. teach, 1) <strong class="red">más los métodos relativos a los pasos comunes del algoritmo</strong> (ej. <em>introduceYourself, introduceCourse, answerDoubts y concludeCourse</em>, 4) <strong class="red">más el producto de las localizaciones por los métodos relativos a los pasos alternativos del algoritmo</strong> (ej. clase y campo, 2, por <em>explainSubject</em> y assess, 2).</p>
</li>
<li>
<p>Su resultado es de orden cuadrático, <strong class="red">O(n2)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongTemplateMethod.png" alt="GranularidadWrongTemplateMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongTemplateMethod2.png" alt="GranularidadWrongTemplateMethod2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-22">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Si la <strong class="green">responsabilidad de profesor incluye únicamente la solicitud de realizar los pasos variables</strong> y otros, <strong class="green">profesores concretos, se responsabilizan por separado de cómo se realizan los pasos variables</strong>, ninguna clase será compleja y se evitará la tendencia a crecer</em>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionTemplateMethod.svg" alt="itencionTemplateMethod" width="769" height="704">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/TemplateMethod/templateMethodFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Professor</em> es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en los pasos comunes del algoritmo, colaborando con el servicio de profesor concreto que se responsabiliza de los pasos alternativos del algoritmo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase <em>Professor</em> (ej. 0) es nulo.</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineTemplateMethod.png" alt="AcoplamientoFineTemplateMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineTemplateMethod2.png" alt="AcoplamientoFineTemplateMethod2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Professor</em> (ej. 7) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>teach</em>, 1) <strong class="green">más los métodos relativos a los pasos comunes del algoritmo</strong> (ej. <em>introduceYourself, introduceCourse, answerDoubts y concludeCourse</em>, 4) <strong class="green">más los métodos relativos a los pasos variables del algoritmo</strong> (ej. <em>explainSubject y assess</em>, 2).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="green">O(n )</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranulaidadFineTemplateMethod.png" alt="GranulaidadFineTemplateMethod"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranulaidadFineTemplateMethod2.png" alt="GranulaidadFineTemplateMethod2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es definir el esqueleto de un algoritmo en una operación, difiriendo algunos pasos a las subclases para que éstas puedan redefinirlos sin cambiar la estructura</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Implementar las partes invariantes de un algoritmo</strong>, permitiendo que sean las subclases quienes implementen el comportamiento que puede variar.</p>
</li>
<li>
<p><strong class="blue">Factorizar un comportamiento repetido</strong> de varias subclases para ubicarlo en una clase común evitando así código duplicado.</p>
</li>
<li>
<p><strong class="blue">Controlar la extensión de subclases en puntos específicos mediante la definición de un método plantilla que llame a operaciones vacías</strong> (conocidas como operaciones de enganche), que puedan ser redefinidas por las subclases, restringiendo así las extensiones de las mismas a estos puntos de enganche.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-23">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/structuraGeneralTemplateMethod.svg" alt="structuraGeneralTemplateMethod" width="788" height="621">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>AbstractClass</em></strong>: declara una clase abstracta o interfaz que:</p>
<div class="ulist">
<ul>
<li>
<p>Define las operaciones primitivas abstractas que son implementadas por las subclases para realizar los pasos de un algoritmo.</p>
<div class="ulist">
<ul>
<li>
<p>Se pueden identificar las operaciones que deberían ser redefinidas añadiendo un sufijo a su nombre, por ejemplo “do-”.</p>
</li>
<li>
<p>Se pueden declarar con visibilidad protegida para garantizar que solo puedan ser llamadas por el método plantilla.</p>
</li>
<li>
<p>Se debe minimizar el número de operaciones primitivas que una subclase debe redefinir para dar cuerpo al algoritmo.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Implementa un método plantilla que define el esqueleto de un algoritmo. Este método llama a las operaciones primitivas abstractas, así como a operaciones definidas en AbstractClass u otras clases.</p>
<div class="ulist">
<ul>
<li>
<p>Se puede declarar como final para evitar que pueda ser redefinido.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong class="blue"><em>ConcreteClass</em></strong>: clase derivada de <em>AbstractClass</em> que implementa las operaciones primitivas abstractas para realizar los pasos del algoritmo específicos de las subclases.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-22">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-22">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p>Las dos <strong class="blue">principales variantes</strong> del patrón <em>Template Method</em> son:</p>
<div class="ulist">
<ul>
<li>
<p>La clase <em>AbstractClass</em> es una clase abstracta y <strong class="blue">no proporciona una implementación para las operaciones primitivas que declara</strong>. Requiere que las subclases definan una implementación porque no hay ningún comportamiento predeterminado razonable.</p>
</li>
<li>
<p>La clase <em>AbstractClass</em> es una <strong class="blue">clase abstracta (menos común) o concreta y proporciona una implementación predeterminada para las operaciones primitivas que declara</strong>. Estas operaciones se denominan operaciones de enganche, y permiten controlar la extensión de subclases en puntos específicos. Una operación de enganche normalmente no hace nada por omisión, por lo que es fundamental identificarlas convenientemente para que no sean obviadas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-23">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Los métodos plantilla son una técnica fundamental de <strong class="green">reutilización de código</strong>.</p>
</li>
<li>
<p>Los métodos plantilla llevan a una <strong class="green">estructura de control invertido</strong>, es decir, una clase padre llama a las operaciones de una subclase y no al revés. Los métodos plantilla llaman a los siguientes tipos de <strong class="green">operaciones primitivas</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Operaciones abstractas</strong> que deben ser obligatoriamente <strong class="green">redefinidas por las subclases</strong>.</p>
</li>
<li>
<p><strong class="green">Operaciones concretas</strong>, ya sea de la <em>ConcreteClass</em>, de la <em>AbstractClass</em>, o de las clases cliente.</p>
</li>
<li>
<p><strong class="green">Operaciones de enganche</strong>, que ofrecen un <strong class="green">comportamiento predeterminado</strong>, pero que pueden ser opcionalmente redefinidas por las subclases si es necesario.</p>
</li>
<li>
<p><strong class="green">Métodos de fabricación</strong> (ver patrón <em>Factory Method</em>).</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un <strong class="red">número elevado de operaciones primitivas</strong> que requieran ser redefinidas puede resultar tedioso para los clientes. Un objetivo importante para diseñar métodos plantilla es minimizar el número de operaciones primitivas que una subclase debe redefinir para dar cuerpo al algoritmo.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-22">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias algorítmicas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="visitor">Visitor</h3>
<div class="sect3">
<h4 id="problema-24">Problema</h4>
<div class="sect4">
<h5 id="motivación-23">Motivación</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Un <strong class="red">paciente cuando tiene un accidente se responsabiliza de realizar distintas actividades médicas</strong>, evaluar los daños, diagnosticarse, operarse, … <strong class="red">sobre las distintas partes del cuerpo</strong>, cabeza, tronco, extremidad, …</em></p>
</li>
<li>
<p>Esto <strong class="red">complica la comprensión de su comportamiento</strong> y <strong class="red">tiende a crecer a medida que surgen nuevas partes</strong> del cuerpo a tratar.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/motivacionVisitor.svg" alt="motivacionVisitor" width="889" height="1149">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Visitor/visitorWrong">Código de Contraejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase <em>Patient</em> no es adecuada puesto que asume <strong class="red">varias responsabilidades</strong> dispares o que no le atañen, como el conocimiento de todas las posibles actividades médicas a realizar sobre las distintas partes del cuerpo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase Patient (ej. 1) depende del <strong class="red">tipo de partes del cuerpo</strong> (ej. <em>BodyPart</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="red">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongVisitor.png" alt="AcoplamientoWrongVisitor"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoWrongVisitor2.png" alt="AcoplamientoWrongVisitor2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Patient</em> (ej. 4) depende de la <strong class="red">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="red">suma de los métodos relativos a la responsabilidad de la clase</strong> (ej. <em>evaluate, diagnose y operate</em>, 3) <strong class="red">más el método para añadir las partes del cuerpo</strong> (ej. <em>addBodyPart</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden lineal, <strong class="red">O(n)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongVisitor.png" alt="GranularidadWrongVisitor"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadWrongVisitor2.png" alt="GranularidadWrongVisitor2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="intención-23">Intención</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Si la <strong class="green">responsabilidad del paciente incluye únicamente la aceptación de la visita sobre las distintas partes del cuerpo por el personal del hospital</strong> y otros, <strong class="green">el personal del hospital, se responsabilizan por separado de cómo se realizan las distintas actividades médicas sobre cada parte del cuerpo del paciente</strong>, ninguna clase será compleja y se evitará la tendencia a crecer.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/itencionVisitor.svg" alt="itencionVisitor" width="1086" height="944">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<a href="https://github.com/USantaTecla-disenyo/designPatterns/tree/master/src/main/java/usantatecla/Visitor/visitorFine">Código de Ejemplo</a>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Cohesión</strong></p>
<div class="ulist">
<ul>
<li>
<p>La cohesión de la clase Patient es adecuada puesto que asume una <strong class="green">única responsabilidad</strong>, centrada en aceptar la visita del personal del hospital, colaborando con el servicio de personal que se responsabiliza de realizar las actividades médicas sobre las distintas partes del cuerpo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Acoplamiento</strong></p>
<div class="ulist">
<ul>
<li>
<p>El acoplamiento de la clase Patient (ej. 2) depende del <strong class="green">tipo de partes del cuerpo</strong> (ej. <em>BodyPart</em>, 1) <strong class="green">y del tipo de personal del hospital</strong> (ej. <em>Staff</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineVisitor.png" alt="AcoplamientoFineVisitor"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AcoplamientoFineVisitor2.png" alt="AcoplamientoFineVisitor2"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Granularidad</strong></p>
<div class="ulist">
<ul>
<li>
<p>La granularidad de la clase <em>Patient</em> (ej. 2) depende de la <strong class="green">cantidad de métodos requeridos</strong>.</p>
</li>
<li>
<p>Se calcula como la <strong class="green">suma del método relativo a aceptar las visitas del tipo del personal del hospital</strong> (ej. <em>accept</em>, 1) <strong class="green">más el método para añadir las partes del cuerpo</strong> (ej. <em>addBodyPart</em>, 1).</p>
</li>
<li>
<p>Su resultado es de orden constante, <strong class="green">O(1)</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineVisitor.png" alt="GranularidadFineVisitor"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/GranularidadFineVisitor2.png" alt="GranularidadFineVisitor2"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="blue">Intención</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue">Aplicabilidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">La intención de este patrón es representar una operación a realizar sobre los elementos de una estructura de objetos, permitiendo definir nuevas operaciones sin cambiar las clases los de elementos sobre los que opera</strong>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Una estructura de objetos contiene muchas clases de objetos con diferentes interfaces y se quiere realizar operaciones sobre esos elementos que dependen de la clase concreta</strong>.</p>
</li>
<li>
<p><strong class="blue">Se necesita realizar muchas operaciones distintas y no relacionadas sobre objetos de una estructura de objetos y se quiere evitar “contaminar” sus clases con dichas operaciones</strong>. El patrón <em>Visitor</em> permite mantener juntas operaciones relacionadas definiéndolas en una clase. Cuando la estructura de objetos es compartida por varias aplicaciones, el patrón <em>Visitor</em> permite poner operaciones sólo en aquellas aplicaciones que las necesitan.</p>
</li>
<li>
<p><strong class="blue">Las clases que definen la estructura de objetos rara vez cambian, pero muchas veces se quiere definir nuevas operaciones sobre la estructura</strong>. Cambiar las clases de la estructura de objetos requiere redefinir la interfaz para todos los visitantes, lo que es potencialmente costoso. Si las clases de la estructura cambian con frecuencia, probablemente sea mejor definir las operaciones en las propias clases.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="solución-24">Solución</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Estructura General</strong></p>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/estructuraGeneralVisitor.svg" alt="estructuraGeneralVisitor" width="1134" height="831">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Participantes</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Visitor</em></strong>: declara una clase abstracta o interfaz que define una operación visit para cada clase <em>ConcreteElement</em> de la estructura de objetos. El nombre y/o signatura de la operación identifican a la clase que envía la petición visit al visitante. Esto permite al visitante determinar la clase concreta de elemento que está siendo visitada, pudiendo así acceder al elemento directamente a través de su interfaz particular.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteVisitor</em></strong>: clase derivada de <em>Visitor</em> que implementa las operaciones visit definidas en la interfaz. Cada clase <em>ConcreteVisitor</em> representa una operación específica del sistema, y cada operación visit implementa el comportamiento específico del visitante para la clase <em>ConcreteElement</em> correspondiente. <em>ConcreteVisitor</em> proporciona el contexto para el algoritmo y guarda su estado local. Muchas veces este estado acumula resultados durante el recorrido de la estructura.</p>
</li>
<li>
<p><strong class="blue"><em>Element</em></strong>: declara una clase abstracta o interfaz que define una operación accept que recibe un Visitor como argumento. La clase <em>Element</em> representa los objetos sobre los que actúa <em>Visitor</em>.</p>
</li>
<li>
<p><strong class="blue"><em>ConcreteElement</em></strong>: clase derivada de <em>Element</em> que implementa la operación accept definida en la interfaz invocando al método visit apropiado definido en <em>Visitor</em>. Cada clase <em>ConcreteElement</em> representa una entidad específica del sistema.</p>
</li>
<li>
<p><strong class="blue"><em>ObjectStructure</em></strong>: clase que consta de una serie de elementos y que:</p>
<div class="ulist">
<ul>
<li>
<p>Define una interfaz para enumerar sus elementos.</p>
</li>
<li>
<p>Puede proporcionar una interfaz de alto nivel para permitir al visitante visitar a sus elementos.</p>
</li>
<li>
<p>Puede ser una clase Composite o una colección, como una lista o un conjunto.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implementación-23">Implementación</h4>
<div class="sect4">
<h5 id="variaciones-23">Variaciones</h5>
<div class="ulist">
<ul>
<li>
<p><strong class="blue">El patrón <em>Visitor</em> permite añadir operaciones a clases sin modificar éstas</strong>. Esto se logra mediante la técnica de doble-despacho, llamada así porque la operación que se ejecuta depende del tipo de solicitud y de los tipos de dos receptores.</p>
<div class="ulist">
<ul>
<li>
<p><strong class="blue"><em>Accept</em> es una operación de doble-despacho, puesto que su significado depende de dos tipos: el del <em>Visitor</em> y el del <em>Element</em></strong>. El doble-despacho permite a los <em>ConcreteVisitor</em> solicitar diferentes operaciones en cada clase <em>ConcreteElement</em>.</p>
</li>
<li>
<p><strong class="blue">Esta es la clave del patrón <em>Visitor</em>: la operación que se ejecuta depende tanto del tipo de <em>Visitor</em> como del tipo de <em>Element</em> visitado</strong>. En vez de enlazar operaciones estáticamente en la interfaz de <em>Element</em>, se pueden fusionar las operaciones en un <em>Visitor</em> y usar accept para hacer el enlace en tiempo de ejecución. Extender la interfaz de <em>Element</em> consiste en definir una nueva subclase de <em>Visitor</em> en vez de muchas nuevas subclases de <em>Element</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>El <strong class="blue">algoritmo de recorrido que un visitante debe utilizar para visitar cada elemento de la estructura de objetos puede ser</strong> definido en la estructura de objetos, en un objeto iterador aparte o en el visitante:</p>
<div class="ulist">
<ul>
<li>
<p>En muchas ocasiones es la <strong class="blue">propia estructura de objetos la responsable de la iteración</strong>. Una colección simplemente iterará sobre sus elementos, llamando a la operación <em>accept</em> de cada elemento. Un objeto <em>Composite</em> generalmente se recorrerá a sí mismo haciendo que cada operación accept recorra los hijos del elemento y llame a <em>accept</em> sobre cada uno de ellos recursivamente.</p>
</li>
<li>
<p>Otra solución es <strong class="blue">utilizar un iterador para visitar los elementos</strong>, bien sea externo o interno, dependiendo de la disponibilidad y la eficiencia.</p>
<div class="ulist">
<ul>
<li>
<p>Puesto que los iteradores internos son implementados por la estructura de objetos, usar un iterador interno es muy similar a que sea la estructura de objetos la responsable de la iteración. La principal diferencia estriba en que un iterador interno no provocará un doble-despacho, sino que llamará a una operación del visitante con un elemento como argumento, frente a llamar a una operación del elemento con el visitante como argumento. Pero resulta sencillo usar el patrón <em>Visitor</em> con un iterador interno si la operación del visitante simplemente llama a la operación del elemento sin recursividad.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otra alternativa consiste en ubicar el <strong class="blue">algoritmo de recorrido en el visitante</strong>, si bien en ese caso se duplica el código del recorrido en cada <em>ConcreteVisitor</em> para cada agregado <em>ConcreteElement</em>. La principal razón para seguir este enfoque es poder implementar un recorrido especialmente complejo que dependa de los resultados de las operaciones realizadas sobre la estructura de objetos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="consecuencias-24">Consecuencias</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="green">Ventajas</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Desventajas</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Los visitantes facilitan añadir nuevas operaciones que dependen de los componentes de objetos complejos</strong>. Se puede definir una nueva operación sobre una estructura simplemente añadiendo un nuevo visitante. Si, por el contrario, extendiésemos la funcionalidad sobre muchas clases, habría que cambiar cada clase para definir una nueva operación.</p>
</li>
<li>
<p><strong class="green">El comportamiento similar no está desperdigado por las clases que definen la estructura de objetos; sino que está localizado en un visitante</strong>. Las partes de comportamiento no relacionadas se dividen en sus propias subclases del visitante. Esto simplifica tanto las clases que definen los elementos como los algoritmos definidos por los visitantes. Cualquier estructura de datos específica de un algoritmo puede estar oculta en el visitante.</p>
</li>
<li>
<p><strong class="green">Los visitantes pueden acumular estado a medida que van visitando cada elemento de la estructura de objetos</strong>. Sin un visitante, este estado se pasaría como argumentos extra a las operaciones que realizan el recorrido, o quizá como variables globales.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>El patrón <em>Visitor</em> hace que sea <strong class="red">complicado añadir nuevas subclases <em>ConcreteElement</em></strong>, ya que cada nueva clase <em>ConcreteElement</em> da lugar a una nueva operación abstracta de <em>Visitor</em> y a su correspondiente implementación en cada clase ConcreteVisitor. A veces se puede <strong class="red">proporcionar en <em>Visitor</em> una implementación predeterminada que puede ser heredada por la mayoría de los <em>ConcreteVisitor</em></strong>, pero esto representa una excepción más que una regla.</p>
<div class="ulist">
<ul>
<li>
<p>Por tanto, la cuestión fundamental a considerar a la hora de aplicar el patrón Visitor es si es <strong class="red">más probable que cambie el algoritmo aplicado sobre una estructura de objetos o las clases de los objetos que componen la estructura</strong>. La jerarquía de clases <em>Visitor</em> puede ser difícil de mantener cuando se añaden nuevas clases de <em>ConcreteElement</em> con frecuencia.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Si se utiliza un iterador para visitar a los objetos de una estructura llamando a sus operaciones a medida que los recorre, como un iterador no puede trabajar en varias estructuras de objetos con distintos elementos, esto implica que <strong class="red">todos los elementos que el iterador puede visitar deben tener una clase padre común <em>Element</em></strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Se impone en este caso una restricción que el <strong class="red">patrón <em>Visitor</em> no tiene, puesto que en el patrón se pueden visitar objetos que no tienen una clase padre común, ya que se puede añadir cualquier tipo de objeto a la interfaz de <em>Visitor</em></strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>El enfoque del patrón <em>Visitor</em> asume que <strong class="red">la interfaz de <em>ConcreteElement</em> es lo bastante potente como para que los visitantes hagan su trabajo</strong>. Como resultado, el patrón suele obligarnos a proporcionar operaciones públicas que acceden al estado interno de un elemento, lo que puede comprometer su encapsulación.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="problemas-de-diseño-y-rediseño-23">Problemas de Diseño y Rediseño</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Diseño</strong></th>
<th class="tableblock halign-center valign-top" colspan="2"><strong class="red">Problemas de Rediseño</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Determinar la granularidad de los objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Tamaño</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Dependencias algorítmicas</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Acoplamiento</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Especificar interfaces de objetos</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Abstracción</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Incapacidad para modificar las clases convenientemente</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Principio Abierto/Cerrado</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Poner a funcionar los mecanismos de reutilización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">Reusabilidad por composición, herencia y/o parametrización</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="principios-de-diseño">Principios de Diseño</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="diseño-modular">Diseño Modular</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 12%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top"><strong class="blue">Patrón de Diseño</strong></th>
<th class="tableblock halign-left valign-top">Modularizacón</th>
<th class="tableblock halign-left valign-top">Cadenas</th>
<th class="tableblock halign-left valign-top"><em>Analogía</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Facade</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por subsistemas cohesivos</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>arbol N</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>contratista en obra</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Flyweight</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por inmutabilidad</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>carta y carta en partida</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Adapter</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por recubrimiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>adaptador de enchufes</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Memento</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por estado</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>versiones de plan</em></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="images/tablaComparativa.png" alt="tablaComparativa">
</div>
</div>
</div>
<div class="sect2">
<h3 id="diseño-orientado-a-objetos">Diseño Orientado a Objetos</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13%;">
<col style="width: 17%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tipo</th>
<th class="tableblock halign-left valign-top"><strong class="blue">Patrón de Diseño</strong></th>
<th class="tableblock halign-left valign-top">Modularizacón por criterio de Extensión</th>
<th class="tableblock halign-left valign-top">Cadenas</th>
<th class="tableblock halign-left valign-top"><em>Analogía</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Template Method</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por especialización</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">no ha lugar</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>profesor en contextos</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Creacional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Factory Method</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por creador especializado</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">no ha lugar</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>repartidor en vehículo</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Composite</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por cardinalidad</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>arbol N</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>juego con jugador y equipo</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Proxy</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por accesibilidad</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>jefe y sustituto</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Iterator</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por recorrido*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>dependiente de almacén</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">State</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por estado</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>persona con estados de ánimo</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Strategy</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por estrategia*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>persona con estrategias de ligar</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Bridge</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por criterio</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>asesores y analistas</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Visitor</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por método*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>paciente en hospital</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Observer</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por evento*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>persona y apoyos</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Estructural</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Decorator</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por subtarea*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia N</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>novato y oficial de cocina</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Chain of Responsibility</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por subtarea*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia N</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>resolutores de reclamación</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Command</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por subtarea*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>camareros y comandas</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Interpreter</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por subtarea*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>arbol N</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>operador y máquina</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Creacional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Abstract Factory</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por creador familiar*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>cirujano e instrumentalistas</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Creacional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Prototype</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por creador*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>"poeta" fotocopiador</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Creacional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Builder</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por creador* <span class="red">(opcional)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>secuencia 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>chef de menúes</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Mediator</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>por centralización <span class="red">(opcional)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>arbol 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>árbitro en partido</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Creacional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Singleton</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">(opcional)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="red">no ha lugar</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>guarda jurado en empresa</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><div class="content"><div class="ulist">
<ul>
<li>
<p>* <em>cosificación</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="relaciones-entre-patrones-de-diseño">Relaciones entre Patrones de Diseño</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/relacionesPatrones2.svg" alt="relacionesPatrones2" width="1775" height="607">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aplicación-de-patrones-de-diseño">Aplicación de Patrones de Diseño</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/seleccion.svg" alt="seleccion" width="1119" height="944">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/uso.svg" alt="uso" width="1107" height="1354">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><strong class="green">Aplicaciones</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/game-ticTacToe">ticTacToe</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sintesis"><strong>Sintesis</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="images/sintesis.png" alt="sintesis"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bibliografía"><strong>Bibliografía</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Obra, Autor y Edición</th>
<th class="tableblock halign-left valign-top">Portada</th>
<th class="tableblock halign-left valign-top">Obra, Autor y Edición</th>
<th class="tableblock halign-left valign-top">Portada</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Patrones de diseño</p>
<div class="ulist">
<ul>
<li>
<p><strong>Erich Gamma et al</strong></p>
</li>
<li>
<p>Anaya (2002)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/PatronesDeDiseño.JPG" alt="height32"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>AntiPatterns: Refactoring Software, Architectures, and Projects in Crisis</p>
<div class="ulist">
<ul>
<li>
<p><strong>William J. Brown</strong></p>
</li>
<li>
<p>John Wiley &amp; Sons (1998)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/AntiPatterns.jpg" alt="height32"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="ponente">Ponente</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><em>Luis Fernández Muñoz</em></strong></p>
<div class="ulist">
<ul>
<li>
<p><em>Formador/Consultor</em></p>
</li>
<li>
<p><a href="https://es.linkedin.com/in/luisfernandezmunyoz"><em>Linkedin</em></a></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/setillo.jpg" alt="setillo"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Doctor en Inteligencia Artificial por la UPM</em></p>
</li>
<li>
<p><em>Ingeniero en Informática por la UMA</em></p>
</li>
<li>
<p><em>Diplomado en Informática por la UPM</em></p>
</li>
<li>
<p><em>Profesor Titular de ETSISI de la UPM</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.1<br>
Last updated 2022-10-16 16:26:33 +0200
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<script>
                let speed = 50;
                
                function typeWriter(v) {
                  let i = v.getAttribute("typewriter-index")
                  let txt = v.getAttribute("typewriter-original")
                  
                  if (i < txt.length) {
                    v.getElementsByTagName("P")[0].innerHTML += txt.charAt(i);
                    i++;
                    v.setAttribute("typewriter-index", i)                        
                  }else{
                    if( ++i > txt.length+30 ){
                        v.setAttribute("typewriter-index", 0)
                        v.getElementsByTagName("P")[0].innerHTML = ''
                    }
                  }
                }
                
                function typeWriterAll(){
                    [].forEach.call(document.getElementsByClassName('typewriter'), function(v,i,a) {
                        typeWriter(v)
                    })
                    setTimeout(typeWriterAll, speed);
                }
                                    
                [].forEach.call(document.getElementsByClassName('typewriter'), function(v,i,a) {
                    v.setAttribute("typewriter-original", v.innerText)
                    v.setAttribute("typewriter-index", 0)
                    v.getElementsByTagName("P")[0].innerHTML = ''
                })
                
                setTimeout(typeWriterAll, speed);
                
                </script>
</html>